import{u as l,c as i,w as s,_ as o,o as r,a as e,b as t}from"./app-DcZRlv-R.js";const c=e("div",{class:"prose m-auto slide-enter-content"},[e("h4",{id:"事件级别",tabindex:"-1"},[t("事件级别 "),e("a",{class:"header-anchor",href:"#事件级别","aria-hidden":"true"},"#")]),e("ul",null,[e("li",null,[t("DOM0 "),e("code",null,"element.onclick = function(){}")]),e("li",null,[t("DOM2 "),e("code",null,"element.addEventListener('click', function(){}, false)")]),e("li",null,[t("DOM3 "),e("code",null,"element.addEventListener('keyup', function(){}, false"),t(" 在DOM2事件后新增了UI事件、鼠标事件、键盘事件等事件类型")])]),e("h4",{id:"事件模型",tabindex:"-1"},[t("事件模型 "),e("a",{class:"header-anchor",href:"#事件模型","aria-hidden":"true"},"#")]),e("ul",null,[e("li",null,"事件捕获"),e("li",null,"事件冒泡")]),e("h4",{id:"dom事件流",tabindex:"-1"},[t("DOM事件流 "),e("a",{class:"header-anchor",href:"#dom事件流","aria-hidden":"true"},"#")]),e("p",null,"DOM(文档对象模型)结构是一个树型结构，当一个HTML元素产生一个事件时，该事件会在元素节点与根结点之间的路径传播，路径所经过的结点都会收到该事件，这个传播过程可称为DOM事件流。"),e("h4",{id:"dom事件流的具体流程",tabindex:"-1"},[t("DOM事件流的具体流程 "),e("a",{class:"header-anchor",href:"#dom事件流的具体流程","aria-hidden":"true"},"#")]),e("p",null,"在DOM兼容浏览器中，事件流中分三个级段："),e("ul",null,[e("li",null,"捕获阶段（Capture Phase）：事件从window自上而下向目标节点传播的阶段；"),e("li",null,"目标阶段（Target Phase）：正的目标节点正在处理事件的阶段；"),e("li",null,[t("冒泡阶段（Bubbling Phase）：事件从目标节点自上而下向window传播的阶段。 "),e("img",{src:"https://static.ajiu9.cn/images/20240310220404oy7dPw.png",alt:"图片"})])]),e("h4",{id:"event对象的常见应用",tabindex:"-1"},[t("Event对象的常见应用 "),e("a",{class:"header-anchor",href:"#event对象的常见应用","aria-hidden":"true"},"#")]),e("ul",null,[e("li",null,"event.preventDefault() 阻止默认事件"),e("li",null,"event.stopPropagation() 阻止捕获和冒泡阶段中当前事件的进一步传播"),e("li",null,"event.stopImmediatePropagation() 阻止事件冒泡并且阻止相同事件的其他侦听器被调用"),e("li",null,"event.currentTarget 当事件遍历DOM时，标识事件的当前目标。它总是引用事件处理程序附加到的元素(当前绑定的事件元素)"),e("li",null,"event.target 标识事件发生的元素（当前被点击的元素）")]),e("h4",{id:"自定义事件",tabindex:"-1"},[t("自定义事件 "),e("a",{class:"header-anchor",href:"#自定义事件","aria-hidden":"true"},"#")]),e("blockquote",null,[e("p",null,[t("语法"),e("code",null,"event = new Event(typeArg, eventInit);"),t(" typeArg 是DOMString 类型，表示所创建事件的名称。 eventInit可选,是 EventInit 类型的字典，接受以下字段:")]),e("ul",null,[e("li",null,"“bubbles”，可选，Boolean类型，默认值为 false，表示该事件是否冒泡。"),e("li",null,"“cancelable”，可选，Boolean类型，默认值为 false， 表示该事件能否被取消。"),e("li",null,"“composed”，可选，Boolean类型，默认值为 false，指示事件是否会在影子DOM根节点之外触发侦听器。")])]),e("pre",{class:"shiki shiki-themes github-light github-dark",style:{"--s-light":"#24292e","--s-dark":"#e1e4e8","--s-light-bg":"#fff","--s-dark-bg":"#24292e"},tabindex:"0"},[e("code",{class:"language-"},[e("span",{class:"line"},[e("span",null,'// 创建一个支持冒泡且不能被取消的attach事件var ev = new Event("attach", {"bubbles":true, "cancelable":false});document.dispatchEvent(ev);// 事件可以在任何元素触发，不仅仅是documentmyDiv.dispatchEvent(ev);')])])]),e("p",null,[e("code",null,"customEvent"),t("事件是由程序创建的，可以有任意自定义功能的事件。")]),e("pre",{class:"shiki shiki-themes github-light github-dark",style:{"--s-light":"#24292e","--s-dark":"#e1e4e8","--s-light-bg":"#fff","--s-dark-bg":"#24292e"},tabindex:"0"},[e("code",{class:"language-"},[e("span",{class:"line"},[e("span",null,'// 添加一个适当的事件监听器obj.addEventListener("cat", function(e) { process(e.detail) })// 创建并分发事件var event = new CustomEvent("cat", {"bubbles": true, "cancelable": false, "detail":{"hazcheeseburger":true}})')]),t(`
`),e("span",{class:"line"},[e("span",null,"obj.dispatchEvent(event)")])])])],-1),m={__name:"dom-event",setup(d){const n={title:"DOM事件",lang:"zh",type:"note",date:"2018-09-26T00:00:00.000Z","date created":"2024-03-10T00:00:00.000Z","date modified":"2024-03-10T00:00:00.000Z",image:"https://ajiu9.cn/og/dom-event.png",meta:[{property:"og:title",content:"DOM事件"},{name:"twitter:title",content:"DOM事件"},{property:"og:image",content:"https://ajiu9.cn/og/dom-event.png"},{name:"twitter:image",content:"https://ajiu9.cn/og/dom-event.png"},{name:"twitter:card",content:"summary_large_image"}]};return l({title:"DOM事件",meta:[{property:"og:title",content:"DOM事件"},{name:"twitter:title",content:"DOM事件"},{property:"og:image",content:"https://ajiu9.cn/og/dom-event.png"},{name:"twitter:image",content:"https://ajiu9.cn/og/dom-event.png"},{name:"twitter:card",content:"summary_large_image"}]}),(h,p)=>{const a=o;return r(),i(a,{frontmatter:n},{default:s(()=>[c]),_:1})}}};export{m as default};
