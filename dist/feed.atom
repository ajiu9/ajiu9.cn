<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://ajiu9.cn/</id>
    <title>Ajiu9</title>
    <updated>2025-08-21T08:24:01.586Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <author>
        <name>Ajiu9</name>
        <email>615944323@qq.com</email>
        <uri>https://ajiu9.cn</uri>
    </author>
    <link rel="alternate" href="https://ajiu9.cn/"/>
    <link rel="self" href="https://ajiu9.cn/feed.atom"/>
    <subtitle>Ajiu9' Blog</subtitle>
    <logo>https://ajiu9.cn/avatar.png</logo>
    <icon>https://ajiu9.cn/logo.png</icon>
    <rights>@2024-2025 æ¹˜ICPå¤‡2024048835å·</rights>
    <entry>
        <title type="html"><![CDATA[JavaScriptå¾ªç¯å››ä¾ ä¼ ï¼šfor...ofã€for...inã€mapã€forEachè°æ˜¯ä½ çš„èœï¼Ÿ]]></title>
        <id>https://ajiu9.cn/posts/JavaScript-Loop-Quartet:-for...of,-for...in,-map,-forEach-Which-One-is-Your-Choice</id>
        <link href="https://ajiu9.cn/posts/JavaScript-Loop-Quartet:-for...of,-for...in,-map,-forEach-Which-One-is-Your-Choice"/>
        <updated>2025-08-21T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<h2>ğŸ¤” å…ˆé—®å¤§å®¶ä¸€ä¸ªé—®é¢˜ï¼š</h2>
<p>å½“ä½ çœ‹åˆ°æ•°ç»„<code>[1,2,3]</code>æ—¶ï¼Œè„‘å­é‡Œç¬¬ä¸€ä¸ªè¹¦å‡ºæ¥çš„éå†æ–¹å¼æ˜¯å•¥ï¼Ÿ ï¼ˆè¯„è®ºåŒºå‘Šè¯‰æˆ‘ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰åŒé“ä¸­äººğŸ‘€ï¼‰</p>
<h2>ğŸ­ å¾ªç¯å››å¤§å®¶æ—ç™»åœº</h2>
<p>ä»Šå¤©å’±ä»¬è¦å” å” JavaScriptç•Œçš„&quot;F4&quot;â€”â€”<strong>forâ€¦ofã€forâ€¦inã€mapã€forEach</strong>ï¼Œå®ƒä»¬çœ‹ä¼¼éƒ½èƒ½éå†æ•°æ®ï¼Œå®åˆ™å„æ€€ç»æŠ€ï¼Œæ€§æ ¼è¿¥å¼‚ï¼</p>
<h3>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ å…±åŒç‚¹ï¼šéƒ½æ˜¯éå†å°èƒ½æ‰‹</h3>
<ol>
<li>éƒ½èƒ½ç”¨æ¥<strong>å¾ªç¯è¿­ä»£</strong>ï¼ˆè¯´äººè¯ï¼šä¸€ä¸ªä¸€ä¸ªæ•°è¿‡å»ï¼‰</li>
<li>éƒ½æ”¯æŒ<strong>break/continue</strong>ï¼ˆé™¤äº†forEachè¿™ä¸ªçŠŸè„¾æ°”ï¼‰</li>
<li>éƒ½èƒ½è®¿é—®åˆ°<strong>å½“å‰å…ƒç´ </strong>ï¼ˆå…·ä½“æ€ä¹ˆè®¿é—®å„æœ‰åƒç§‹ï¼‰</li>
</ol>
<h2>ğŸ’¡ å·®å¼‚å¤§èµ·åº•ï¼ˆå»ºè®®æ”¶è—ï¼‰</h2>
<h3>1. forâ€¦inï¼šå¯¹è±¡å±æ€§çš„&quot;å…«å¦è®°è€…&quot;</h3>
<pre><code class="language-js">const obj = { name: 'å°æ˜', age: 18 }
for (const key in obj)
  console.log(key) // è¾“å‡ºï¼šname, age
</code></pre>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>ä¸“é—¨éå†<strong>å¯¹è±¡çš„é”®å</strong>ï¼ˆåƒæŸ¥æˆ·å£ä¸€æ ·æŠŠå±æ€§å…¨æŠ–å‡ºæ¥ï¼‰</li>
<li>ä¼šéå†<strong>åŸå‹é“¾ä¸Šçš„å±æ€§</strong>ï¼ˆå®¹æ˜“æŒ–åˆ°åˆ«äººå®¶ç¥–åŸï¼‰</li>
<li>æ•°ç»„æ…ç”¨ï¼å¯èƒ½ä¼šæŠŠæ•°ç»„çš„lengthä¹Ÿç®—è¿›å»</li>
</ul>
<p>ğŸ’¡ æ±Ÿæ¹–ç§°å·ï¼š&quot;å¯¹è±¡éå†ä¸“ä¸šæˆ·&quot;ï¼Œä½†éå†æ•°ç»„å°±æ˜¯è·¨ç•ŒæŠ¢é¥­ç¢—</p>
<h3>2. forâ€¦ofï¼šæ•°ç»„å…ƒç´ çš„&quot;ä¸“å±å¯¼æ¸¸&quot;</h3>
<pre><code class="language-js">const arr = ['ğŸ', 'ğŸ', 'ğŸŠ']
for (const fruit of arr)
  console.log(fruit) // è¾“å‡ºï¼šğŸ, ğŸ, ğŸŠ
</code></pre>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>ä¸“é—¨éå†<strong>æ•°ç»„/å­—ç¬¦ä¸²/Mapç­‰å¯è¿­ä»£å¯¹è±¡</strong>ï¼ˆæŒè¯ä¸Šå²—ï¼Œä¸“ä¸šå¯¹å£ï¼‰</li>
<li>ç›´æ¥æ‹¿åˆ°<strong>å…ƒç´ å€¼</strong>ï¼ˆä¸ç”¨arr[i]è¿™ä¹ˆéº»çƒ¦ï¼‰</li>
<li>æ”¯æŒbreakå’Œcontinueï¼ˆçµæ´»å˜é€šï¼‰</li>
</ul>
<p>ğŸ’¡ ç°ä»£å‰ç«¯æ–°å® ï¼Œæ•°ç»„éå†å°±æ‰¾å®ƒï¼Œæ¯”forå¾ªç¯ä¼˜é›…10å€ï¼</p>
<h3>3. forEachï¼šæ•°ç»„çš„&quot;è€å¹²éƒ¨&quot;</h3>
<pre><code class="language-js">[1, 2, 3].forEach((num, index) =&gt; {
  console.log(num * 2) // è¾“å‡ºï¼š2,4,6
})
</code></pre>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>æ•°ç»„ä¸“å±ï¼Œ<strong>æ— æ³•ä¸­é€”é€€å‡º</strong>ï¼ˆåƒè€é»„ç‰›ä¸€æ ·åŸ‹å¤´å¹²åˆ°å®Œï¼‰</li>
<li>æ²¡æœ‰è¿”å›å€¼ï¼ˆé»˜é»˜å¥‰çŒ®å‹äººæ ¼ï¼‰</li>
<li>ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯<strong>åŸæ•°ç»„</strong>ï¼ˆæ—¶åˆ»ä¸å¿˜æœ¬ï¼‰</li>
</ul>
<p>ğŸ’¡ ç»å…¸åè¨€ï¼š&quot;æˆ‘å¯ä»¥éå†ï¼Œä½†åˆ«æƒ³æ”¹å˜æˆ‘ï¼&quot;ï¼ˆä¸ä¼šä¿®æ”¹åŸæ•°ç»„ï¼‰</p>
<h3>4. mapï¼šæ•°ç»„çš„&quot;é­”æœ¯å¸ˆ&quot;</h3>
<pre><code class="language-js">const newArr = [1, 2, 3].map(num =&gt; num * 2)
console.log(newArr) // è¾“å‡ºï¼š[2,4,6]
</code></pre>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li><strong>è¿”å›æ–°æ•°ç»„</strong>ï¼ˆåŸæ•°ç»„æ¯«å‘æ— æŸï¼‰</li>
<li>å¿…é¡»returnï¼ˆä¸returnå°±å‡ºä¸äº†é­”æ³•æ•ˆæœï¼‰</li>
<li>é€‚åˆ<strong>æ•°æ®è½¬æ¢</strong>ï¼ˆæŠŠ1å˜æˆ2ï¼ŒæŠŠğŸ±å˜æˆğŸ¶ï¼‰</li>
</ul>
<p>ğŸ’¡ èŒåœºå®šä½ï¼š&quot;æ•°æ®åŠ å·¥å‚å‚é•¿&quot;ï¼Œè¾“å…¥åŸæ–™è¾“å‡ºæ–°äº§å“</p>
<h2>ğŸ“Š å››ä¾ èƒ½åŠ›å¯¹æ¯”è¡¨</h2>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>éå†å¯¹è±¡</th>
<th>è¿”å›å€¼</th>
<th>èƒ½å¦break</th>
<th>æ”¹å˜åŸæ•°ç»„</th>
</tr>
</thead>
<tbody>
<tr>
<td>forâ€¦in</td>
<td>å¯¹è±¡</td>
<td>æ— </td>
<td>âœ…</td>
<td>æ‰‹åŠ¨æ”¹</td>
</tr>
<tr>
<td>forâ€¦of</td>
<td>å¯è¿­ä»£å¯¹è±¡</td>
<td>æ— </td>
<td>âœ…</td>
<td>æ‰‹åŠ¨æ”¹</td>
</tr>
<tr>
<td>forEach</td>
<td>æ•°ç»„</td>
<td>æ— </td>
<td>âŒ</td>
<td>æ‰‹åŠ¨æ”¹</td>
</tr>
<tr>
<td>map</td>
<td>æ•°ç»„</td>
<td>æ–°æ•°ç»„</td>
<td>âŒ</td>
<td>ä¸æ”¹åŠ¨</td>
</tr>
</tbody>
</table>
<h2>ğŸš¦ å®æˆ˜åœºæ™¯é€‰æ‹©é¢˜</h2>
<ol>
<li>éå†å¯¹è±¡å±æ€§ â†’<strong>forâ€¦in</strong></li>
<li>éå†æ•°ç»„ä¸”å¯èƒ½ä¸­é€”é€€å‡º â†’<strong>forâ€¦of</strong></li>
<li>å•çº¯éå†æ•°ç»„åšæ“ä½œ â†’<strong>forEach</strong></li>
<li>æ•°ç»„è½¬æ–°æ•°ç»„ â†’<strong>map</strong></li>
</ol>
<h2>ğŸ§© è¶£å‘³è®°å¿†æ³•</h2>
<ul>
<li>forâ€¦inï¼šåƒæŸ¥å­—å…¸ï¼Œå…ˆçœ‹åˆ°é¡µç ï¼ˆé”®åï¼‰å†æ‰¾å†…å®¹</li>
<li>forâ€¦ofï¼šåƒè¯»å°è¯´ï¼Œä¸€é¡µä¸€é¡µæŒ‰é¡ºåºçœ‹ï¼ˆå€¼ï¼‰</li>
<li>forEachï¼šåƒåšå¹¿æ’­ä½“æ“ï¼Œæ¯ä¸ªåŠ¨ä½œéƒ½åšåˆ°ä½ä½†ä¸åˆ›æ–°</li>
<li>mapï¼šåƒæ‹ç…§ä¿®å›¾ï¼ŒåŸå›¾ä¸å˜ï¼Œè¾“å‡ºç¾é¢œç‰ˆ</li>
</ul>
<h2>ğŸ’¬ äº’åŠ¨è¯é¢˜</h2>
<p>ä½ æ›¾ç»å› ä¸ºç”¨é”™å¾ªç¯è¸©è¿‡å“ªäº›å‘ï¼Ÿè¯„è®ºåŒºåˆ†äº«ä½ çš„&quot;è¡€æ³ªå²&quot;</p>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ—¥å¸¸å·¥ä½œå°æŠ€å·§å’Œé—®é¢˜é›†ï¼ˆ2ï¼‰]]></title>
        <id>https://ajiu9.cn/posts/daily-tips-2</id>
        <link href="https://ajiu9.cn/posts/daily-tips-2"/>
        <updated>2025-03-31T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<ol>
<li><code>vscode æœç´¢æ–‡ä»¶ç›®å½•åç§°</code></li>
</ol>
<p>é¼ æ ‡ç‚¹ä¸€ä¸‹æ–‡ä»¶å¤¹ç›®å½•ä¹‹åç›´æ¥è¾“å…¥æƒ³è¦æœç´¢çš„æ–‡ä»¶å°±å¯ä»¥é«˜äº®æ˜¾ç¤º</p>
<ol start="2">
<li><code>åœ¨rollupæ„å»ºä¸­ï¼š createRequire(import.meta.url)</code></li>
</ol>
<p>ä½¿ç”¨esbuildæ’ä»¶æ„å»ºé»˜è®¤é…ç½®:</p>
<pre><code class="language-json">{
  &quot;target&quot;: &quot;esnext&quot;
}
</code></pre>
<p>ä¼šç”Ÿæˆ<br>
var node_module = require('node:module');<br>
const require$1 = node_module.createRequire((typeof document === 'undefined' ? require('u' + 'rl').pathToFileURL(__filename).href : (_documentCurrentScript &amp;&amp; _documentCurrentScript.src || new URL('obsiflow.cjs.prod.js', document.baseURI).href)));</p>
<p>ä½¿ç”¨ï¼š</p>
<pre><code class="language-json">{
  &quot;target&quot;: &quot;es2019&quot;
}
</code></pre>
<p>const require$1 = node_module.createRequire(import_meta.url);</p>
<ol start="3">
<li><code>ä»£ç ä¸­ä½¿ç”¨vuexæ—¶ï¼Œä½¿ç”¨computedæ—¶ï¼Œä¸ä¼šè§¦å‘æ›´æ–°ï¼Œä¼šé€ æˆbugåŸå› </code></li>
</ol>
<pre><code class="language-js">// ä½¿ç”¨  const serviceBill = computed(() =&gt; store.state.serviceBill)

this.$store.commit('setData', {
  key: 'serviceBill',
  value: this.serviceBill
})

Vue.prototype.$store = new Vuex.Store({
  state: {
    saveReceive: {
      roomID: '',
      roomName: ''
    }
  },
  mutations: {
    setData(state, obj) {
      //  åŸ state[obj.key] = obj.value
      //  å½“å€¼æ˜¯å¯¹è±¡æ—¶ï¼Œæ›´æ–°ç›‘å¬ä¸åˆ°å€¼
      // ä½¿ç”¨computedæ—¶ï¼Œä¸ä¼šè§¦å‘æ›´æ–°ï¼Œä¼šé€ æˆbug
      Vue.set(state, obj.key, obj.value)
    }
  }
})
</code></pre>
<ol start="4">
<li>
<p><code>vscode ä¸­ï¼ŒtypeScript ç±»å‹ä½¿ç”¨ä»£ç é‡æ„åŠŸèƒ½ç§»åŠ¨åˆ°æ–°æ–‡ä»¶typeScript 5.4.5ç‰ˆæœ¬æ‰æ”¯æŒç§»åŠ¨åˆ°æ–°æ–‡ä»¶</code></p>
</li>
<li>
<p><code>el-form è¡¨å•æ ¡éªŒé—®é¢˜ï¼š å½“ä½¿ç”¨rulesæ—¶ï¼Œformè¡¨å•å­—æ®µä¸­æœ‰ä½¿ç”¨v-ifï¼Œå½“å¼€å§‹æ¡ä»¶ä¸ºfalseï¼Œåˆä½¿ç”¨äº†vue.$seté‡æ–°åŠ¨æ€ç»‘å®šï¼Œä¼šé€ æˆruleså¤±æ•ˆã€‚ åˆæ­¥åˆ¤æ–­åº”è¯¥æ˜¯åŠ¨æ€ç»‘å®šå’Œel-formçš„æ ¡éªŒæ”¹å˜äº†å¼•ç”¨ï¼Œé€ æˆå¤±æ•ˆã€‚</code></p>
</li>
<li>
<p><code>loadSourceæ–¹æ³•åœ¨devæ¨¡å¼ä¸‹æ˜¯æµ…æ‹·è´ï¼Œç”Ÿäº§ç¯å¢ƒæ‰æ˜¯</code></p>
</li>
</ol>
<p>7.<code> åœ¨ vscodeä¸­, debugger ä½¿ç”¨çš„é»˜è®¤nodeç‰ˆæœ¬å’Œterminalä¸­çš„ä¸ä¸€å®šç›¸åŒï¼Œæ›´æ”¹çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼š</code></p>
<p>åœ¨ vscodeä¸­, ä¿®æ”¹è®¾ç½®ï¼š</p>
<p>environment-variables</p>
<pre><code class="language-json">{
  &quot;terminal.integrated.env.osx&quot;: {
    &quot;remoteEnv&quot;: &quot;${containerEnv:PATH}:/some/other/path&quot;
  }
}
</code></pre>
<p>åœ¨é¡¹ç›®ä¸­é…ç½®ï¼š<br>
åœ¨.vscode/launch.json ä¸­é…ç½®preLaunchTask</p>
<pre><code class="language-json">{
  &quot;version&quot;: &quot;0.2.0&quot;,
  &quot;configurations&quot;: [
    {
      &quot;name&quot;: &quot;Extension&quot;,
      &quot;type&quot;: &quot;extensionHost&quot;,
      &quot;request&quot;: &quot;launch&quot;,
      &quot;runtimeExecutable&quot;: &quot;${execPath}&quot;,
      &quot;args&quot;: [
        &quot;--extensionDevelopmentPath=${workspaceFolder}&quot;
      ],
      &quot;outFiles&quot;: [
        &quot;${workspaceFolder}/dist/**/*.js&quot;
      ],
      &quot;preLaunchTask&quot;: &quot;use nvm &amp;&amp; pnpm run dev&quot;
    }
  ]
}
</code></pre>
<p>ç„¶åæ–°å»ºä¸€ä¸ªtasks.jsonæ¥åˆ‡æ¢nodeç‰ˆæœ¬</p>
<pre><code class="language-json">// .vscode/tasks.json
{
  &quot;version&quot;: &quot;2.0.0&quot;,
  &quot;tasks&quot;: [
    {
      &quot;label&quot;: &quot;use nvm &amp;&amp; pnpm run dev&quot;,
      &quot;type&quot;: &quot;shell&quot;,
      &quot;command&quot;: &quot;zsh -i -c 'nvm use 20.11.0 &amp;&amp; pnpm run dev'&quot;,
      &quot;isBackground&quot;: true,
      &quot;presentation&quot;: {
        &quot;reveal&quot;: &quot;never&quot;
      },
      &quot;problemMatcher&quot;: [
        {
          &quot;owner&quot;: &quot;typescript&quot;,
          &quot;fileLocation&quot;: &quot;absolute&quot;,
          &quot;pattern&quot;: {
            &quot;regexp&quot;: &quot;^(.*):(\\d+):(\\d+) - (error|warning): (.*)$&quot;,
            &quot;file&quot;: 1,
            &quot;line&quot;: 2,
            &quot;column&quot;: 3,
            &quot;severity&quot;: 4,
            &quot;message&quot;: 5
          },
          &quot;background&quot;: {
            &quot;activeOnStart&quot;: true,
            &quot;beginsPattern&quot;: &quot;Build start&quot;,
            &quot;endsPattern&quot;: &quot;Build success&quot;
          }
        }
      ],
      &quot;group&quot;: &quot;build&quot;
    }
  ]
}
</code></pre>
<ol start="8">
<li><code>åœ¨ jsé¡¹ç›®ä¸­ï¼Œç¦ç”¨ts-plugins</code></li>
</ol>
<p>vueæ’ä»¶ä½¿ç”¨å®˜æ–¹çš„Vue-official,è¿™ä¸ªæ’ä»¶ä½¿ç”¨çš„æ˜¯vscodeå†…ç½®çš„ts-plugin,å¦‚æœåœ¨jsé¡¹ç›®ä¸­ä¸éœ€è¦tsç±»å‹æç¤ºï¼Œå¯ä»¥ç¦ç”¨æ‰ã€‚</p>
<p>åœ¨å·¦ä¾§çš„Extensionsé€‰é¡¹å¡(Ctrl+Shift+X)ä¸­ï¼Œæœç´¢@builtin typescript-language-featuresï¼Œç„¶åå•å‡»Extensionæ—è¾¹çš„å°é½¿è½®å›¾æ ‡ï¼Œç„¶åå•å‡»Disableã€‚</p>
<ol start="9">
<li><code>Node.js 20 å…¨å±€è®¾ç½®æ—§ç‰ˆ OpenSSL æä¾›ç¨‹åºä»¥é¿å…åŠ å¯†é”™è¯¯</code></li>
</ol>
<p><code>é—®é¢˜èƒŒæ™¯</code><br>
åœ¨ä½¿ç”¨ Node.js 20 æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ° digital envelope routines::unsupported é”™è¯¯ï¼Œè¿™æ˜¯ç”±äº Node.js 20 é»˜è®¤é‡‡ç”¨äº†æ›´ä¸¥æ ¼çš„åŠ å¯†ç­–ç•¥ï¼Œéƒ¨åˆ†æ—§é¡¹ç›®ä¾èµ–çš„åŠ å¯†ç®—æ³•åœ¨æ–°ç‰ˆæœ¬ä¸­å¯èƒ½ä¸è¢«æ”¯æŒã€‚è€Œ Node.js 16 é€šå¸¸ä¸ä¼šå‡ºç°æ­¤é—®é¢˜ã€‚ä¸ºè§£å†³è¯¥é—®é¢˜ï¼Œå¯å…¨å±€è®¾ç½®è®© Node.js 20 ä½¿ç”¨æ—§ç‰ˆ OpenSSL æä¾›ç¨‹åºã€‚</p>
<p><code>è§£å†³æ–¹æ¡ˆ</code></p>
<p>Windows ç³»ç»Ÿ</p>
<p>batch</p>
<pre><code class="language-bash">set NODE_OPTIONS=--openssl-legacy-provider
</code></pre>
<p>macOS ç³»ç»Ÿ</p>
<pre><code class="language-bash">export NODE_OPTIONS=--openssl-legacy-provider
</code></pre>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ›´æ”¹VSCodeç¯å¢ƒå˜é‡]]></title>
        <id>https://ajiu9.cn/posts/change-vscode-env-var</id>
        <link href="https://ajiu9.cn/posts/change-vscode-env-var"/>
        <updated>2025-02-17T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<p>åœ¨ vscodeä¸­, debugger ä½¿ç”¨çš„é»˜è®¤nodeç‰ˆæœ¬å’Œterminalä¸­çš„ä¸ä¸€å®šç›¸åŒï¼Œæ›´æ”¹çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼š</p>
<ol>
<li>åœ¨ vscodeä¸­, ä¿®æ”¹è®¾ç½®ï¼š</li>
</ol>
<p><a href="https://code.visualstudio.com/remote/advancedcontainers/environment-variables">environment-variables</a></p>
<pre><code class="language-json">{
  &quot;terminal.integrated.env.osx&quot;: {
    &quot;remoteEnv&quot;: &quot;${containerEnv:PATH}:/some/other/path&quot;
  }
}
</code></pre>
<ol start="2">
<li>åœ¨é¡¹ç›®ä¸­é…ç½®ï¼š<br>
åœ¨.vscode/launch.json ä¸­é…ç½®preLaunchTask</li>
</ol>
<pre><code class="language-json">{
  &quot;version&quot;: &quot;0.2.0&quot;,
  &quot;configurations&quot;: [
    {
      &quot;name&quot;: &quot;Extension&quot;,
      &quot;type&quot;: &quot;extensionHost&quot;,
      &quot;request&quot;: &quot;launch&quot;,
      &quot;runtimeExecutable&quot;: &quot;${execPath}&quot;,
      &quot;args&quot;: [
        &quot;--extensionDevelopmentPath=${workspaceFolder}&quot;
      ],
      &quot;outFiles&quot;: [
        &quot;${workspaceFolder}/dist/**/*.js&quot;
      ],
      &quot;preLaunchTask&quot;: &quot;use nvm &amp;&amp; pnpm run dev&quot;
    }
  ]
}
</code></pre>
<p>ç„¶åæ–°å»ºä¸€ä¸ªtasks.jsonæ¥åˆ‡æ¢nodeç‰ˆæœ¬</p>
<pre><code class="language-json">// .vscode/tasks.json
{
  &quot;version&quot;: &quot;2.0.0&quot;,
  &quot;tasks&quot;: [
    {
      &quot;label&quot;: &quot;use nvm &amp;&amp; pnpm run dev&quot;,
      &quot;type&quot;: &quot;shell&quot;,
      &quot;command&quot;: &quot;zsh -i -c 'nvm use 20.11.0 &amp;&amp; pnpm run dev'&quot;,
      &quot;isBackground&quot;: true,
      &quot;presentation&quot;: {
        &quot;reveal&quot;: &quot;never&quot;
      },
      &quot;problemMatcher&quot;: [
        {
          &quot;owner&quot;: &quot;typescript&quot;,
          &quot;fileLocation&quot;: &quot;absolute&quot;,
          &quot;pattern&quot;: {
            &quot;regexp&quot;: &quot;^(.*):(\\d+):(\\d+) - (error|warning): (.*)$&quot;,
            &quot;file&quot;: 1,
            &quot;line&quot;: 2,
            &quot;column&quot;: 3,
            &quot;severity&quot;: 4,
            &quot;message&quot;: 5
          },
          &quot;background&quot;: {
            &quot;activeOnStart&quot;: true,
            &quot;beginsPattern&quot;: &quot;Build start&quot;,
            &quot;endsPattern&quot;: &quot;Build success&quot;
          }
        }
      ],
      &quot;group&quot;: &quot;build&quot;
    }
  ]
}
</code></pre>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­åŒæ—¶ä½¿ç”¨ESMå’ŒCJS]]></title>
        <id>https://ajiu9.cn/posts/publish-esm-and-cjs</id>
        <link href="https://ajiu9.cn/posts/publish-esm-and-cjs"/>
        <updated>2024-09-02T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[åœ¨å•é¡¹ç›®ä¸­è¿è¡ŒESMå’ŒCJSçš„ç®€å•ä»‹ç»]]></summary>
        <content type="html"><![CDATA[<h2>ESM &amp; CJS</h2>
<p>[[commonjså’Œesm]]</p>
<ul>
<li>ESM - <a href="https://nodejs.org/api/esm.html">ECMAScript Modules</a></li>
<li>CJS - <a href="https://nodejs.org/api/modules.html#modules_commonjs_modules">CommonJS</a></li>
</ul>
<p>åœ¨è¿‡å»çš„åå¹´ä¸­ï¼Œç”±äºç¼ºä¹æ ‡å‡†çš„ JavaScript æ¨¡å—ç³»ç»Ÿï¼ŒCommonJSï¼ˆåˆåâ€œrequire(â€˜xxxâ€™)â€å’Œâ€œmodule.exportsâ€è¯­æ³•ï¼‰ä¸€ç›´æ˜¯ Node.js å’Œ NPM åŒ…çš„å·¥ä½œæ–¹å¼ã€‚ç›´åˆ° 2015 å¹´ï¼Œå½“ ECMAScript æ¨¡å—æœ€ç»ˆä½œä¸ºæ ‡å‡†è§£å†³æ–¹æ¡ˆå‡ºç°æ—¶ï¼Œç¤¾åŒºå¼€å§‹é€æ¸è¿ç§»åˆ°åŸç”Ÿ ESMã€‚</p>
<p>CJS</p>
<pre><code class="language-js">// addTwo.js
function addTwo(num) {
  return num + 2
}

module.exports = addTwo
</code></pre>
<pre><code class="language-js">// app.js
const addTwo = require('./addTwo.js')

// Prints: 6
console.log(addTwo(4))
</code></pre>
<p>ESM</p>
<pre><code class="language-js">// addTwo.mjs
function addTwo(num) {
  return num + 2
}

export { addTwo }
</code></pre>
<pre><code class="language-js">// app.mjs
import { addTwo } from './addTwo.mjs'

// Prints: 6
console.log(addTwo(4))
</code></pre>
<p>ESM æ”¯æŒå‘½åå¯¼å‡ºã€æ›´å¥½çš„é™æ€åˆ†æã€tree-shakingã€æµè§ˆå™¨åŸç”Ÿæ”¯æŒï¼›æœ€é‡è¦çš„æ˜¯ï¼Œä½œä¸ºä¸€ä¸ªæ ‡å‡†ï¼Œå®ƒåŸºæœ¬ä¸Šæ˜¯ JavaScript çš„æœªæ¥ã€‚Node.js v12 ä¸­å¼•å…¥äº†å¯¹ ESM çš„å®éªŒæ€§æ”¯æŒï¼Œå¹¶åœ¨ v12.22.0 å’Œ v14.17.0 ä¸­ç¨³å®šä¸‹æ¥ã€‚</p>
<p>æˆªè‡³ 2024ï¼Œå¾ˆå¤šè½¯ä»¶åŒ…éƒ½æä¾› ESM æ ¼å¼æˆ–è€… CJS å’Œ ESM ä¸¤ç§æ ¼å¼æ”¯æŒã€‚æ¯•ç«Ÿnodejsç”Ÿæ€åºå¤§ï¼Œè¿ç§»åˆ° ESM ç”Ÿæ€æ˜¯ä¸€ä¸ªé•¿æœŸè¿‡ç¨‹ã€‚</p>
<p>æ‰€ä»¥å¯¹äºé¡¹ç›®çš„ä½œè€…æ¥è¯´ï¼Œæä¾›ä¸¤ç§æ ¼å¼çš„å…¼å®¹æ€§ï¼Œæ˜¯å¿…è¦çš„ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†æä¾›ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œä»¥è§£é‡Šå¦‚ä½•ä½¿ç”¨ CJS å’Œ ESM åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­åŒæ—¶å·¥ä½œã€‚</p>
<h2>å…¼å®¹æ€§</h2>
<p>å¦‚æœ ESM æ›´å¥½ï¼Œä»£è¡¨æœªæ¥ï¼Œä¸ºä½•ä¸å…¨é¢è½¬å‘ESMï¼Ÿå°½ç®¡Node.jsèƒ½å¤Ÿå…¼å®¹CJSå’ŒESMåŒ…ï¼Œä½†ä¸»è¦éšœç¢åœ¨äº<strong>CJSæ— æ³•ä½¿ç”¨ESMåŒ…</strong>ã€‚</p>
<pre><code class="language-js">// app.cjs
const pkg = require('./addTwo-only-esm.mjs')
</code></pre>
<pre><code class="language-bash">Error [ERR_REQUIRE_ESM]: Must use import to load ES Module: /private/tmp/ajiu9-MiETrR/addTwo-only-esm.mjs
</code></pre>
<p>æ ¹æœ¬åŸå› æ˜¯ ESM æœ¬è´¨ä¸Šæ˜¯å¼‚æ­¥çš„ï¼Œä½ æ— æ³•åœ¨â€œrequireâ€æ‰€åœ¨çš„åŒæ­¥ä¸Šä¸‹æ–‡ä¸­å¯¼å…¥å¼‚æ­¥æ¨¡å—ã€‚è¿™é€šå¸¸æ„å‘³ç€å¦‚æœæƒ³ä½¿ç”¨ ESM è½¯ä»¶åŒ…ï¼Œåˆ™ä¹Ÿå¿…é¡»ä½¿ç”¨ ESMã€‚<br>
å”¯ä¸€çš„ä¾‹å¤–æ˜¯ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#dynamic_imports">dynamic 'import()'</a> åœ¨ CJS ä¸­ä½¿ç”¨ ESM åŒ…ï¼š</p>
<pre><code class="language-js">// app.mjs
async function awaitFunction() {
  const { default: pkg } = await import('./addTwo-only-esm.mjs')
  console.log(pkg)
}
awaitFunction()
</code></pre>
<p>ç”±äºåŠ¨æ€å¯¼å…¥å°†è¿”å› Promiseï¼Œè¿™æ„å‘³ç€æ‰€æœ‰åç»­è¢«è°ƒç”¨è€…ä¹Ÿéœ€è¦å¼‚æ­¥ã€‚åœ¨æŸäº›æƒ…å†µä¸‹å®ƒå¯èƒ½ä¼šèµ·ä½œç”¨ï¼Œä½†é€šå¸¸è¿™å¯¹ç”¨æˆ·æ¥è¯´ä¸æ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>å¦‚æœä½ èƒ½å¤Ÿç›´æ¥ä½¿ç”¨ESMï¼Œé‚£ä¼šå®¹æ˜“å¾—å¤šï¼Œå› ä¸º<code>import</code>åŒæ—¶æ”¯æŒESMå’ŒCJSã€‚</p>
<pre><code class="language-js">// in ESM
import { foo } from 'esm-package'
import cjs from 'cjs-package'
</code></pre>
<p>ä¸€äº›è½¯ä»¶åŒ…ç°åœ¨æä¾›çº¯ESMç‰ˆæœ¬ï¼Œå€¡å¯¼ä»CJSè½¬å‘ESMã€‚å°½ç®¡è¿™æ˜¯è¶‹åŠ¿ï¼Œä½†ç”±äºå¤§å¤šæ•°é¡¹ç›®ä»åœ¨ä½¿ç”¨CJSä¸”è¿ç§»ä¸æ˜“ï¼Œæˆ‘é€‰æ‹©åŒæ—¶å‘å¸ƒCJSå’ŒESMç‰ˆæœ¬ï¼Œä»¥ä½¿è¿‡æ¸¡æ›´åŠ å¹³æ»‘ã€‚</p>
<h3><code>package.json</code></h3>
<p>å¹¸è¿çš„æ˜¯ï¼ŒNode å…è®¸ä½ åœ¨åŒä¸€ä¸ªè½¯ä»¶åŒ…ä¸­åŒæ—¶ä½¿ç”¨è¿™ä¸¤ç§æ ¼å¼ã€‚é€šè¿‡ <code>package.json</code> ä¸­çš„æ–° <a href="https://nodejs.org/api/packages.html#conditional-exports"><code>exports</code></a> å­—æ®µï¼Œæä¾›äº†ä¸€ç§æ ¹æ®ç‰¹å®šæ¡ä»¶æ˜ å°„åˆ°ä¸åŒè·¯å¾„çš„æ–¹æ³•ã€‚å®ƒä»¬æ”¯æŒ CommonJS å’Œ ES æ¨¡å—å¯¼å…¥ã€‚</p>
<pre><code class="language-js">{
  &quot;exports&quot;: {
    &quot;node&quot;: {
      &quot;import&quot;: &quot;./feature-node.mjs&quot;, // EMS
      &quot;require&quot;: &quot;./feature-node.cjs&quot; // CJS
    },
    &quot;default&quot;: &quot;./feature.mjs&quot;
  }
}
</code></pre>
<h2>æ‰“åŒ…</h2>
<p>å¦‚æœéœ€è¦æ”¯æŒä¸¤ç§æ¨¡å—æ–¹å¼ï¼Œå¤åˆ¶ä¸¤ä»½ä»£ç è‚¯å®šä¸æ˜¯ä¸€ä¸ªå¥½çš„è§£å†³æ–¹æ¡ˆã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘å¼•å…¥ä¸€äº›æ„å»ºå·¥å…·æˆ–æ‰“åŒ…å·¥å…·ã€‚æ¯”å¦‚ <a href="https://rollupjs.org/">Rollup</a> å’Œ <a href="https://webpack.js.org/">Webpack</a>ã€‚å°†ä½ çš„ä»£ç æ„å»ºæˆå¤šç§æ ¼å¼ã€‚ä½†æ˜¯å®ƒä»¬çš„é…ç½®å¾ˆå¤æ‚ï¼Œéœ€è¦èŠ±å¾ˆå¤šæ—¶é—´å»å­¦ä¹ ã€‚è¿™é‡Œæœ‰ä¸¤ä¸ªéå¸¸æ£’çš„å·¥å…·ï¼Œå®ƒä»¬åªéœ€è¦ç®€å•çš„é…ç½®å°±å¯ä»¥å·¥ä½œã€‚</p>
<ul>
<li><a href="#tsup"><code>tsup</code></a></li>
<li><a href="#unbuild"><code>unbuild</code></a></li>
</ul>
<h3>tsup</h3>
<p><a href="https://github.com/egoist/tsup"><code>tsup</code></a>å®ƒå…·æœ‰é›¶é…ç½®æ„å»º TypeScript é¡¹ç›®çš„ç‰¹ç‚¹ã€‚ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="language-bash">tsup src/index.ts
</code></pre>
<p>å®ƒå°†è¾“å‡ºä¸€ä¸ª <code>dist/index.js</code> æ–‡ä»¶ã€‚</p>
<p>è‹¥è¦æ”¯æŒåŒæ ¼å¼ï¼Œåªéœ€æ·»åŠ ä¸€ä¸ªæ ‡å¿—å³å¯ï¼š</p>
<pre><code class="language-bash">$ tsup src/index.ts --format cjs,esm
</code></pre>
<p>ä½¿ç”¨è¯¥å·¥å…·ä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ <code>dist/index.js</code> å’Œ <code>dist/index.mjs</code>ï¼Œä¹‹åä½ å°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ã€‚ç”±äºé‡‡ç”¨äº† <a href="https://github.com/evanw/esbuild"><code>esbuild</code></a>ï¼Œ<code>tsup</code> ä¸ä»…éå¸¸æ˜“ç”¨ï¼Œè€Œä¸”é€Ÿåº¦æƒŠäººã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨<code>tsup</code>çš„<code>package.json</code>æ¨¡ç‰ˆé…ç½®ã€‚</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;pakage-name&quot;,
  &quot;main&quot;: &quot;./dist/index.js&quot;,
  &quot;module&quot;: &quot;./dist/index.mjs&quot;,
  &quot;types&quot;: &quot;./dist/index.d.ts&quot;,
  &quot;exports&quot;: {
    &quot;.&quot;: {
      &quot;require&quot;: &quot;./dist/index.js&quot;,
      &quot;import&quot;: &quot;./dist/index.mjs&quot;,
      &quot;types&quot;: &quot;./dist/index.d.ts&quot;
    }
  },
  &quot;scripts&quot;: {
    &quot;build&quot;: &quot;tsup src/index.ts --format cjs,esm --dts --clean&quot;,
    &quot;watch&quot;: &quot;npm run build -- --watch src&quot;,
    &quot;prepublishOnly&quot;: &quot;npm run build&quot;
  }
}
</code></pre>
<h3>unbuild</h3>
<p><code>tsup</code> æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ TypeScript æ‰“åŒ…å·¥å…·ï¼Œè€Œ<a href="https://github.com/unjs/unbuild"><code>unbuild</code></a> åˆ™æ›´åŠ é€šç”¨ã€å¯å®šåˆ¶ä¸”åŠŸèƒ½å¼ºå¤§ã€‚</p>
<p>è¦ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º <code>build.config.ts</code> æ–‡ä»¶ã€‚</p>
<pre><code class="language-ts">// build.config.ts
import { defineBuildConfig } from 'unbuild'

export default defineBuildConfig({
  entries: [
    './src/index'
  ],
  declaration: true, // ç”Ÿæˆ .d.ts files
})
</code></pre>
<p>ç„¶åè¿è¡Œæ„å»ºå‘½ä»¤ï¼š</p>
<pre><code class="language-bash">$ unbuild
</code></pre>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œâ€œunbuildâ€å°†ç”ŸæˆESMå’ŒCJSï¼</p>
<h2>ä¸Šä¸‹æ–‡å·®å¼‚</h2>
<p>ä½¿ç”¨ä¸Šè¿°å·¥å…·ï¼Œæˆ‘ä»¬ç°åœ¨èƒ½å¤Ÿå°† TypeScript ä½œä¸ºå”¯ä¸€çš„ä»£ç æºï¼ŒåŒæ—¶ç”Ÿæˆ CJS å’Œ ESM æ¨¡å—ï¼Œä½¿æ•´ä½“ä»£ç åº“æ›´å®¹æ˜“ç»´æŠ¤ï¼Œä½†ä»ç„¶æœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„ç»†èŠ‚ã€‚</p>
<p><strong>åœ¨ ESM ä¸­ï¼Œæ²¡æœ‰ <code>__dirname</code>, <code>__filename</code>, <code>require</code>, <code>require.resolve</code></strong>ã€‚éœ€è¦ä½¿ç”¨ <code>import.meta.url</code> å¹¶åšä¸€äº›è½¬æ¢æ¥è·å–æ–‡ä»¶è·¯å¾„å­—ç¬¦ä¸²ã€‚</p>
<p>ç”±äºæˆ‘ä»¬çš„ä»£ç å°†è¢«ç¼–è¯‘ä¸º CJS å’Œ ESMï¼Œå°½é‡é¿å…ä½¿ç”¨è¿™äº›ç‰¹å®šäºç¯å¢ƒçš„ä¸Šä¸‹æ–‡ã€‚å¦‚æœç¡®å®éœ€è¦ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="language-ts">import { dirname } from 'node:path'
import { fileURLToPath } from 'node:url'

const _dirname = typeof __dirname !== 'undefined'
  ? __dirname
  : dirname(fileURLToPath(import.meta.url))
</code></pre>
<p>å…³äº require å’Œ require.resolveï¼Œä½ å¯ä»¥ä½¿ç”¨ï¼š</p>
<pre><code class="language-ts">import { createRequire } from 'node:module'

const require = createRequire(import.meta.url)
</code></pre>
<p><code>å¦‚æœä½ ä½¿ç”¨</code>unbuild<code>ï¼Œå¯ä»¥å¼€å¯ </code>cjsBridge<code> æ ‡å¿—ï¼Œ</code>unbuild` ä¼šè‡ªåŠ¨ä¸ºä½ åœ¨ ESM ä¸­æ¨¡æ‹Ÿè¿™äº› CJS ä¸Šä¸‹æ–‡ï¼</p>
<pre><code class="language-ts">import { defineBuildConfig } from 'unbuild'

export default defineBuildConfig({
  cjsBridge: true, // &lt;--
})
</code></pre>
<p>å¦å¤–ï¼Œå¦‚æœä½ ä½¿ç”¨ <code>tsup</code>ï¼Œå®ƒä¼šåœ¨ CJS ä¸­ä¸ºä½ æ¨¡æ‹Ÿ ESM çš„ <code>import.meta.url</code>ã€‚</p>
<h2>éªŒè¯ä½ çš„åŒ…</h2>
<p>ä¸€æ—¦ä½ å‘å¸ƒäº†ä½ çš„åŒ…ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://publint.dev/">publint.dev</a>ï¼ˆç”± <a href="https://github.com/bluwy">@bluwy</a> åˆ¶ä½œï¼‰æ¥éªŒè¯å®ƒæ˜¯å¦éµå¾ªæœ€ä½³å®è·µã€‚å®ƒè¿˜ä¼šç»™ä½ ä¸€äº›å¦‚ä½•è¿›ä¸€æ­¥æ”¹è¿›çš„å»ºè®®ã€‚</p>
<h2>æœ€å</h2>
<p>è¿™ç¯‡æ–‡ç« å¾ˆå¤§éƒ¨åˆ†æ˜¯å‚è€ƒäº†<a href="https://antfu.me/posts/publish-esm-and-cjs">publish-esm-and-cjs</a>ã€‚åŒæ—¶è¿™ä¸¤ç§å·¥å…·çš„ä½¿ç”¨ä¹Ÿåªæ˜¯ä¸€éƒ¨åˆ†ï¼Œè¯·æŸ¥çœ‹å®ƒä»¬çš„æ–‡æ¡£ä»¥è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚å¸Œæœ›è¿™äº›è®¾ç½®å¯¹ä½ æ„å»ºè‡ªå·±çš„åº“æœ‰æ‰€å¸®åŠ©ï¼Œç¥ä½ ç¼–ç¨‹æ„‰å¿«ï¼</p>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[åœ¨é¡µé¢ä¸Šå®ç°å½“å‰æœç´¢æŸ¥è¯¢ï¼Œæ”¯æŒå¿«æ·é”®æœç´¢]]></title>
        <id>https://ajiu9.cn/posts/use-search</id>
        <link href="https://ajiu9.cn/posts/use-search"/>
        <updated>2024-06-14T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<p>å…ˆçœ‹æ•ˆæœï¼š<br>
<img src="https://ajiu9.cn/images/20240702165015.gif" alt="image"></p>
<p>å®ç°æ€è·¯ï¼š1.åŠ è½½å®Œæ‰€æœ‰æ•°æ®åï¼Œå¤„ç†æ•°æ®ï¼Œå¾—åˆ°æºæ•°æ®ã€‚2.åœ¨æœç´¢æ¡†ä¸­è¾“å…¥å…³é”®å­—ï¼Œè§¦å‘æœç´¢äº‹ä»¶ï¼Œæ ¹æ®å…³é”®å­—è¿‡æ»¤æºæ•°æ®ï¼Œå¾—åˆ°æœç´¢ç»“æœã€‚</p>
<h3>ä»£ç å®ç°</h3>
<p>search æ–‡ä»¶</p>
<pre><code class="language-vue">// search.vue
&lt;template&gt;
	&lt;div class=&quot;search-wrapper&quot;&gt;
		&lt;el-input
			v-model.trim=&quot;keyword&quot;
			class=&quot;border-bottom&quot;
			placeholder=&quot;è¯·è¾“å…¥å‚æ•°&quot;
			clearable
			@focus=&quot;onInputFocus&quot;
			@blur=&quot;onInputBlur&quot;
		&gt;
			&lt;span slot=&quot;append&quot;&gt; {{ currentNumber }}/{{ filterCount }} &lt;/span&gt;
		&lt;/el-input&gt;
		&lt;el-divider direction=&quot;vertical&quot;/&gt;
		&lt;i
			class=&quot;el-icon-arrow-up pointer ml-1&quot;
			:class=&quot;filterCount &amp;&amp; currentNumber !== 1 ? '' : 'disabled'&quot;
			@click=&quot;onSearchPrev&quot;
		/&gt;
		&lt;i
			class=&quot;el-icon-arrow-down pointer ml-2&quot;
			:class=&quot;filterCount &amp;&amp; currentNumber !== filterCount ? '' : 'disabled'&quot;
			@click=&quot;onSearchNext&quot;
		/&gt;
	&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { useSearch } from './index'

export default {
	name: 'SearchFocus',
	props: {
		allFields: {
			type: [Array, Function],
			default: () =&gt; []
		},
		fieldsBefore: {
			type: Function,
			default: () =&gt; new Promise(resolve =&gt; resolve())
		},
		onChange: {
			type: Function,
			default: () =&gt; {}
		}
	},
	setup(props) {
		const {
			keyword,
			filterCount,
			currentNumber,
			onSearchNext,
			onSearchPrev,
			onInputFocus,
			onInputBlur
		} = useSearch({
			allFields: props.allFields,
			fieldsBefore: props.fieldsBefore,
			onChange: props.onChange
		})
		return {
			keyword,
			filterCount,
			currentNumber,
			onSearchNext,
			onSearchPrev,
			onInputFocus,
			onInputBlur
		}
	}
}
&lt;/script&gt;

&lt;style lang=&quot;less&quot; scoped&gt;
.search-wrapper {
	display: flex;
	line-height: 32px;
	align-items: center;
	.disabled {
		color: #c0c4cc;
		cursor: not-allowed;
	}
	.ml-1 {
		margin-left: 10px;
	}
	.ml-2 {
		margin-left: 20px;
	}
}
&lt;/style&gt;

&lt;style lang=&quot;less&quot;&gt;
.heighlight {
	.el-form-item__label span {
		background: yellow;
	}
}
&lt;/style&gt;

</code></pre>
<p>until æ–‡ä»¶</p>
<pre><code class="language-js">// until.js
export function getAllData(data) {
	const ret = []

	data.forEach(item =&gt; {
		const { field, el } = item
		ret.push({
			el,
			field,
			label: getFieldName(el),
			prop: el.prop
		})
	})
	return ret
}

function getFieldName(formItemVNode) {
	// æŒ‰ç…§el-form-itemçš„labelçš„è§„åˆ™
	// ä¼˜å…ˆå±•ç¤ºslot:labelçš„æ–‡æœ¬ï¼Œå¦‚æœæ²¡æœ‰å†å±•ç¤ºlabelå±æ€§çš„å€¼
	let name = ''
	if (formItemVNode.$slots?.label) {
		const label = formItemVNode.$slots.label[0]
		name = label.elm.innerText
	}
	return name || formItemVNode.label
}
</code></pre>
<p>index æ–‡ä»¶</p>
<pre><code class="language-js">// index.js
import { computed, getCurrentInstance, onBeforeUnmount, onMounted, ref, watch } from 'vue'
import { addClass, removeClass } from 'tool'
import { getAllData } from './util'

/**
 *
 * @param {function} fieldsBefore è·å–æ‰€æœ‰æŸ¥è¯¢å­—æ®µå‰çš„å‡½æ•°ï¼Œéœ€è¦è¿”å›Promise
 * @param {function, Array} allFields è·å–æ‰€æœ‰æŸ¥è¯¢å­—æ®µçš„å‡½æ•°æˆ–æ•°ç»„
 * @param {function} onChange æŸ¥è¯¢äº‹ä»¶
 * @returns
 */

function useSearch({ fieldsBefore, allFields = [], onChange } = {}) {
	const { proxy } = getCurrentInstance()
	const allFieldsList = ref([])

	const current = ref(-1)
	const currentNumber = computed(() =&gt; {
		if (current.value === -1) return 0
		return current.value + 1
	})

	const inputElIsFocus = ref(false)
	const onInputFocus = () =&gt; (inputElIsFocus.value = true)
	const onInputBlur = () =&gt; (inputElIsFocus.value = false)

	// ç¼“å­˜å‰ä¸€ä¸ªå…ƒç´ 
	const prevEl = ref(null)

	const filterFieldsData = ref([])
	const filterCount = computed(() =&gt; filterFieldsData.value.length)

	const changeEvent = () =&gt; {
		if (onChange &amp;&amp; typeof onChange === 'function') {
			const currentField =
				filterCount.value &gt; 0 ? filterFieldsData.value[current.value].field : null
			onChange({ currentField })
		}

		if (prevEl.value) {
			removeClass(prevEl.value, 'heighlight')
		}

		if (!filterCount.value) return

		const el = filterFieldsData.value[current.value].el.$el
		addClass(el, 'heighlight')
		prevEl.value = el
		proxy.$nextTick(() =&gt; {
			el.scrollIntoView()
		})
	}

	const keyword = ref('')
	watch(keyword, val =&gt; {
		proxy.$delay.register(
			'paramtersFilter',
			() =&gt; {
				if (!val) {
					filterFieldsData.value = []
				} else {
					filterFieldsData.value = allFieldsList.value.filter(item =&gt; {
						return item.label.includes(val)
					})
				}
				if (filterCount.value === 0) {
					current.value = -1
				} else {
					current.value = 0
				}
				changeEvent()
			},
			800
		)
	})

	const onSearchNext = () =&gt; {
		if (!filterCount.value) return
		if (current.value === filterCount.value - 1) current.value = 0
		else current.value = current.value + 1

		changeEvent()
	}
	const onSearchPrev = () =&gt; {
		if (!filterCount.value) return
		if (current.value === 0) current.value = filterCount.value - 1
		else current.value = current.value - 1

		changeEvent()
	}

	onMounted(async () =&gt; {
		console.log('fieldsBefore', fieldsBefore.toString())
		if (fieldsBefore &amp;&amp; typeof fieldsBefore === 'function') await fieldsBefore()
		if (allFields &amp;&amp; typeof allFields === 'function') {
			allFieldsList.value = allFields()
		} else {
			allFieldsList.value = allFields
		}

		console.log('allFieldsList', allFieldsList.value)
		// Bind keyEvent
		proxy.$keyMap.bind(['enter'], () =&gt; {
			if (!inputElIsFocus.value) return
			proxy.$delay.register(
				'onSearchNextText',
				() =&gt; {
					if (filterCount.value === 0) return
					onSearchNext()
				},
				500
			)
		})
		proxy.$keyMap.bind(['shift+enter'], () =&gt; {
			if (!inputElIsFocus.value) return
			proxy.$delay.register(
				'onSearchPrevText',
				() =&gt; {
					if (filterCount.value === 0) return
					onSearchPrev()
				},
				500
			)
		})
	})

	onBeforeUnmount(() =&gt; {
		proxy.$keyMap.unbind(['enter', 'shift+enter'])
	})
	return {
		keyword,
		filterCount,
		currentNumber,
		onSearchNext,
		onSearchPrev,
		onInputFocus,
		onInputBlur
	}
}

export { useSearch, getAllData, useSearch as default }

</code></pre>
<h3>ä½¿ç”¨ï¼š</h3>
<pre><code class="language-vue">&lt;template&gt;
&lt;SearchFocus
			slot=&quot;btn-group&quot;
			:all-fields=&quot;allFields&quot;
			:fields-before=&quot;fieldsBefore&quot;
			:on-change=&quot;onChangeEvent&quot;
		/&gt;
&lt;/template&gt;

&lt;script&gt;

import { getAllData } from '@/hooks/useSearch'

export default {
	components: {
		SearchFocus,
	},

	setup() {
		const { proxy } = getCurrentInstance()

		const fieldsBefore = async () =&gt; {
			await until(permissionLoaded).toBe(true)
			await until(allMounted).toBe(true)
		}
		const allFields = () =&gt; {
			const data = []
			formWrapper.value.forEach(item =&gt; {
				item.formRef?.fields.forEach(el =&gt; {
					data.push({
						field: item.field,
						el
					})
				})
			})
			return getAllData(data)
		}
		const onChangeEvent = data =&gt; {
			activeName.value = data.currentField || INIT_ACTIVE_NAME
		}

		return {
			fieldsBefore,
			allFields,
			onChangeEvent
		}
	}
}
&lt;/script&gt;

&lt;style lang=&quot;less&quot; scoped&gt;
.tabs-wrapper {
	height: 100%;
	overflow-y: scroll;
	::v-deep .el-tabs__content {
		height: 100%;
		overflow-y: auto;
	}
}
&lt;/style&gt;

&lt;style lang=&quot;less&quot;&gt;
.w-1 {
	width: 100px;
}
.w-4 {
	width: 400px;
}
.ml-2 {
	margin-left: 20px;
}
.ml-4 {
	margin-left: 40px;
}
.textarea.el-textarea .el-textarea__inner {
	padding-right: 60px;
}
.textarea.el-input .el-input__inner {
	padding-right: 60px;
}
.center .el-input__inner {
	text-align: center;
}
.parameter-tip {
	&amp;.el-tooltip__popper {
		border: 1px solid #e1e9ea;
		background-color: #f6ffaf;
		color: #333;
		line-height: 24px;
		.popper__arrow::after {
			border-right-color: #f6ffaf;
		}
		.popper__arrow {
			border-right-color: #e1e9ea;
		}
	}
}
&lt;/style&gt;

</code></pre>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¦‚ä½•åœ¨å¾®ä¿¡å¼€å‘å·¥å…·ä¸­è°ƒè¯•æœ¬åœ°webä»£ç ]]></title>
        <id>https://ajiu9.cn/posts/how-to-debug-local-code-in-WeChat-development-tools</id>
        <link href="https://ajiu9.cn/posts/how-to-debug-local-code-in-WeChat-development-tools"/>
        <updated>2024-05-17T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>åœ¨å¼€å‘å¾®ä¿¡å…¬ä¼—å·çš„ä»£ç æ—¶ï¼Œä¼šç”¨åˆ°å¾®ä¿¡æä¾›çš„<a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#62">jsapi</a>,åªæœ‰åœ¨å…¬ä¼—å·åå°ä¸­ç»‘å®šåŸŸåæ‰èƒ½è®¿é—®åˆ°ã€‚æœ¬åœ°ipæ— æ³•æˆæƒã€‚</p>
</blockquote>
<ol>
<li>ä½¿ç”¨ä»£ç†å·¥å…·æŠŠæœ¬åœ°ç«¯å£æ˜ å°„åˆ°å¾®ä¿¡å…¬ä¼—å·ç»‘å®šçš„åŸŸåã€‚<br>
å®‰è£…<a href="https://github.com/avwo/whistle">whistle</a></li>
</ol>
<p>å¯åŠ¨whistleä»£ç†</p>
<pre><code>w2 start
</code></pre>
<p>å¯åŠ¨æˆåŠŸåä¼šåœ¨æ§åˆ¶å°è¾“å‡ºä»¥ä¸‹ä¿¡æ¯ï¼š<br>
<img src="https://ajiu9.cn/images/20240517095140.png" alt="image"></p>
<p>ç„¶ååœ¨æµè§ˆå™¨ä¸­æ‰“å¼€é‡Œé¢çš„åœ°å€</p>
<ol start="2">
<li>é…ç½®whistleä»£ç†<br>
<img src="/images/20240517095452.png" alt="image"></li>
</ol>
<p><code>è¯·ä½¿ç”¨httpä»£ç†</code></p>
<ol start="3">
<li>å¼€å¯ç³»ç»Ÿä»£ç†ï¼Œæˆ–è€…åœ¨æç«‹ç¾¤æ’ä»¶ä¸­å®‰è£…<a href="chrome://extensions/?id=padekgcemlokbadohgkifijomclgjgif">Proxy SwitchyOmega</a></li>
</ol>
<p><img src="/images/20240517095833.png" alt="image"></p>
<ol start="5">
<li>å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€ä»£ç†è®¾ç½®ï¼šè®¾ç½® &gt; ä»£ç†è®¾ç½®<br>
<img src="/images/20240517100019.png" alt="image"></li>
</ol>
<p>å®Œæˆè¿™äº›åï¼Œè®¿é—®å¾®ä¿¡é…ç½®çš„åŸŸåä¼šä»£ç†åˆ°æœ¬åœ°ipï¼Œå°±å¯ä»¥åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­è°ƒè¯•æœ¬åœ°ä»£ç äº†ã€‚</p>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[èŒä¸šæ€è€ƒ]]></title>
        <id>https://ajiu9.cn/posts/professional-thinking</id>
        <link href="https://ajiu9.cn/posts/professional-thinking"/>
        <updated>2024-04-21T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<p>ç°åœ¨å¤§ç¯å¢ƒå¾ˆå·®ï¼Œæ€ä¹ˆæ‰èƒ½æå‡è‡ªå·±çš„å®‰å…¨æ„Ÿå‘¢ï¼Ÿ<br>
æœ‰ä¸€ä¸ªè§‚ç‚¹å°±æ˜¯<strong>å¯¹æŠ€æœ¯æœ‰è¿½æ±‚çš„ç¨‹åºå‘˜</strong>ä¸è¦ä¾é™„äºå…¬å¸ï¼Œè€Œæ˜¯è¦ä¾é™„äºè¡Œä¸šï¼Œæˆä¸ºè¡Œä¸šä¸“å®¶ï¼Œæœ‰è‡ªå·±å½±å“åŠ›ï¼ç”¨è¡Œä¸šå¯¹æŠ—å…¬å¸çš„è„†å¼±æ€§ã€‚</p>
<p>åœ¨ã€Š10x Is Easier Than 2xã€‹ä¸€ä¹¦ä¸­æåˆ°ä¸€ä¸ªè§‚ç‚¹â€”â€”<strong>åšåˆ°10å€å¥½å¯èƒ½æ¯”åšåˆ°2å€å¥½æ›´å®¹æ˜“</strong></p>
<ol>
<li>èƒ½è¾¾åˆ°2å€å¥½çš„é€”å¾„å¾ˆå¤šï¼Œä½†è¾¾åˆ°10å€å¥½çš„é€”å¾„å¯èƒ½å¾ˆå°‘ï¼Œä½ çš„æ–¹å‘ä¼šæ›´èšç„¦</li>
<li>10å€ç›®æ ‡è¦æ±‚åˆ›æ–°å’Œçªç ´æ€§æ€ç»´</li>
</ol>
<h2>å¦‚ä½•æˆä¸ºè¡Œä¸šä¸“å®¶</h2>
<p><strong>æˆä¸ºè¡Œä¸šä¸“å®¶</strong>æ˜¯ä¸ª10xç›®æ ‡ï¼Œè¦æ±‚åˆ›æ–°å’Œçªç ´æ€§æ€ç»´ï¼Œä»ä¸“å®¶è¿™ä¸ªæœ€ç»ˆç»“æœåæ¨æ–°çš„èŒä¸šè·¯å¾„ã€‚</p>
<p>éœ€è¦æœ‰è‡ªå·±çš„ä¸€å¥—ç†è®ºä½“ç³»ä½œä¸ºèƒŒä¹¦ï¼Œé€šå¸¸è¿™å¥—ç†è®ºä½“ç³»çš„è½½ä½“æ˜¯çº¸è´¨ä¹¦ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šè¡Œä¸šä¸“å®¶éƒ½ä¼šå‡ºä¹¦ã€‚</p>
<p>è¿™å¼ å¹¿ä¸ºæµä¼ çš„å›¾ï¼š<br>
<img src="https://ajiu9.cn/images/20240421153354.png" alt=""></p>
<ul>
<li>è¡Œä¸šä¿¡æ¯ç»è¿‡æç‚¼ï¼Œæˆä¸ºçŸ¥è¯†</li>
<li>å½“æœ‰è¶³å¤Ÿçš„è¡Œä¸šçŸ¥è¯†ï¼Œå°±ä¼šäº§ç”Ÿè¡Œä¸šæ´å¯Ÿ</li>
<li>å½“æœ‰è¶³å¤Ÿçš„è¡Œä¸šæ´å¯Ÿï¼Œå°±èƒ½å½¢æˆç‹¬ç‰¹çš„ç†è®ºä½“ç³»</li>
</ul>
<p><strong>æˆä¸ºè¡Œä¸šä¸“å®¶</strong>çš„èµ·ç‚¹æ˜¯<strong>å¸æ”¶è¶³å¤Ÿå¤šçš„è¡Œä¸šä¿¡æ¯</strong>ã€‚</p>
<p>æ‰€æœ‰çš„ä¿¡æ¯éƒ½è¦åŠ å·¥æˆè‡ªå·±çš„çŸ¥è¯†ï¼Œä»ä¿¡æ¯ä¸­<strong>å­¦åˆ°</strong>ä»€ä¹ˆã€‚<br>
ä»è¿™ä¸ªæ–¹å‘å‡ºå‘ï¼Œé‚£ä¹ˆæˆ‘ç°åœ¨ç»“åˆè‡ªå·±çš„è‡ªèº«æƒ…å†µï¼Œå¯ä»¥åšçš„æœ‰å‡ ä¸ªæ–¹é¢ï¼š</p>
<ol>
<li>å­¦ä¹ æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œé¡ºä¾¿æ•´ç†æˆè‡ªå·±çš„å­¦ä¹ æ–‡æ¡£ï¼Œæœ€åå­¦æˆååˆ†äº«ï¼Œæå‡è‡ªå·±çš„ä¸“ä¸šèƒ½åŠ›å’Œå½±å“åŠ›ã€‚</li>
<li>é˜…è¯»vueç›¸å…³çš„çŸ¥è¯†ï¼ˆæ–‡ç« ã€å®˜æ–¹æ–‡æ¡£ã€å›¢é˜Ÿæˆå‘˜å‘è¨€ã€æºç ï¼‰ï¼Œæ•´ç†æˆè‡ªå·±çš„vueæºç çš„ä¸ªäººçŸ¥è¯†åå‘å¸ƒæ–‡ç« ã€‚</li>
<li>è·å–ç»„ä»¶åº“çš„çŸ¥è¯†ï¼Œå­¦ä¹ å¼€æºç»„ä»¶åº“çš„æ–¹å¼ï¼Œæ•´ç†æˆè‡ªå·±çš„å¸¸ç”¨ç»„ä»¶åº“åˆ†æç†è§£å’Œä»£ç å®ç°çš„æ–‡ç« å’Œä»£ç åº“ï¼Œæœ€åå‘å¸ƒã€‚</li>
</ol>
<p>è¿™æ˜¯2024å¹´4æœˆä¸‹æ—¬çš„æ€è€ƒï¼Œç­‰å¾…å…·ä½“å®è·µã€‚</p>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ’é™¤ä¸€ä¸ªåœ¨å¼€å‘ç¯å¢ƒä¸‹Lodashçš„é—®é¢˜]]></title>
        <id>https://ajiu9.cn/posts/lodash-webpack-plugin-problem</id>
        <link href="https://ajiu9.cn/posts/lodash-webpack-plugin-problem"/>
        <updated>2024-04-11T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>ä»Šå¤©åŒäº‹åœ¨å¼€å‘ç¯å¢ƒè¿è¡Œæ—¶å€™ï¼Œå‘ç°lodashçš„cloneDeepæ–¹æ³•è¿”å›çš„æ•°ç»„å¯¹è±¡æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œæ²¡æœ‰è¿›è¡Œæ·±æ‹·è´ï¼Œè¿™ç§åç›´è§‰çš„è¡Œä¸ºå¿…ç„¶æ˜¯å‘ç”Ÿäº†ä»€ä¹ˆã€‚</p>
</blockquote>
<p>é¦–å…ˆæˆ‘æƒ³åˆ°çš„æ˜¯æ˜¯å¦æ˜¯å…¨å±€å‚æ•°é…ç½®å¼•èµ·çš„ï¼Œæˆ‘çœ‹äº†<a href="https://lodash.com/docs/4.17.15#cloneDeep">deepClone</a>çš„æ–‡æ¡£,å‘ç°åªæœ‰ä¸€ä¸ªå…¥å‚ã€‚</p>
<p>ç„¶åæˆ‘çœ‹äº†ä¸‹<a href="https://github.com/lodash/lodash/blob/main/src/cloneDeep.ts">æºç </a>ï¼Œä¹Ÿæ²¡æœ‰å¯ä»¥é…ç½®çš„å‚æ•°ã€‚</p>
<pre><code class="language-js">import baseClone from './.internal/baseClone.js'

/** Used to compose bitmasks for cloning. */
const CLONE_DEEP_FLAG = 1
const CLONE_SYMBOLS_FLAG = 4

/**
 * This method is like `clone` except that it recursively clones `value`.
 * Object inheritance is preserved.
 *
 * @since 1.0.0
 * @category Lang
 * @param {*} value The value to recursively clone.
 * @returns {*} Returns the deep cloned value.
 * @see clone
 * @example
 *
 * const objects = [{ 'a': 1 }, { 'b': 2 }]
 *
 * const deep = cloneDeep(objects)
 * console.log(deep[0] === objects[0])
 * // =&gt; false
 */
function cloneDeep(value) {
  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG)
}

export default cloneDeep
</code></pre>
<p>æ²¡æ‰¾åˆ°é—®é¢˜æ‰€åœ¨ï¼Œæˆ‘è°ƒè¯•äº†ä¸‹é¢è¿™æ®µä»£ç </p>
<pre><code class="language-js">import { cloneDeep } from 'lodash'
const test1 = [{ id: 1, name: 'æµ‹è¯•1' }]
const deep = cloneDeep(test1)
console.log(deep[0] === test1[0]) // true
</code></pre>
<p><img src="https://ajiu9.cn/images/20240411170613.png" alt="image"></p>
<p>å‘ç°åŸæœ¬<code>cloneDeep</code>ä¾èµ–äº†<code>baseClone</code>å‡½æ•°ï¼Œä½†æ˜¯å´å˜æˆäº†<a href="https://lodash.com/docs/4.17.15#identity">identity</a>è¿™ä¸ªå‡½æ•°å°±æ˜¯è¿”å›å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</p>
<pre><code class="language-js">/**
 * This method returns the first argument it receives.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Util
 * @param {*} value Any value.
 * @returns {*} Returns `value`.
 * @example
 *
 * var object = { 'a': 1 };
 *
 * console.log(_.identity(object) === object);
 * // =&gt; true
 */
function identity(value) {
  return value
}
</code></pre>
<p>åŸå› æ‰¾åˆ°äº†ï¼Œæ˜¯æ€ä¹ˆå¼•èµ·çš„å‘¢ï¼Ÿ</p>
<p>ç½‘ä¸Šæœåˆ°äº†è¿™ç¯‡æ–‡ç« <a href="https://zhuanlan.zhihu.com/p/349260482">ä¸ºä»€ä¹ˆä½ åº”è¯¥ç«‹å³åœæ­¢ä½¿ç”¨ lodash-webpack-plugin</a></p>
<p>åŸæ¥æ˜¯<a href="https://github.com/lodash/lodash-webpack-plugin">lodash-webpack-plugin</a>æ’ä»¶æå‡ºæ¥çš„ã€‚</p>
<p>é€šè¿‡ç”¨ noopã€identity æˆ–æ›´ç®€å•çš„æ›¿ä»£æ–¹æ¡ˆæ›¿æ¢æ¨¡å—çš„åŠŸèƒ½é›†æ¥åˆ›å»ºæ›´å°çš„ Lodash æ„å»ºã€‚è¯¥æ’ä»¶é€šè¿‡è¿›ä¸€æ­¥ç¼©å°ç²¾é€‰çš„æ„å»ºæ¥è¡¥å…… babel-plugin-lodashï¼<br>
åœ¨æœªå¯ç”¨é€‚å½“åŠŸèƒ½é›†çš„æƒ…å†µä¸‹ä½¿ç”¨æ­¤æ’ä»¶å¯èƒ½ä¼šå¯¼è‡´ lodash å‡½æ•°ä»¥æ„æƒ³ä¸åˆ°çš„æ–¹å¼è¿è¡Œã€‚æ–¹æ³•å¯èƒ½çœ‹èµ·æ¥æœ‰æ•ˆï¼Œä½†å®ƒä»¬å¯èƒ½è¿”å›ä¸æ­£ç¡®çš„ç»“æœï¼Œå…¶ä¸­å°±åŒ…æ‹¬å…‹éš†å‡½æ•°ã€‚</p>
<p>æœ€åçœ‹äº†ä¸‹ç”Ÿäº§æ„å»ºï¼Œç”Ÿäº§æ²¡æœ‰å¼•ç”¨åˆ°è¿™ä¸ªæ’ä»¶ï¼Œæ‰€ä»¥æ²¡å‘ç°å½±å“ã€‚å¼€å‘ç¯å¢ƒå»æ‰è¿™ä¸ªæ’ä»¶ã€‚</p>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[åŒ¹é…ä¸­æ–‡å­—ç¬¦]]></title>
        <id>https://ajiu9.cn/posts/match-chinese-characters</id>
        <link href="https://ajiu9.cn/posts/match-chinese-characters"/>
        <updated>2024-03-21T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<p>å½“éœ€è¦æ£€æŸ¥æ˜¯å¦åŒ…å«ä¸­æ–‡å­—ç¬¦æ—¶ï¼Œéœ€è¦ä½¿ç”¨æ­£åˆ™åŒ¹é…ï¼Œç½‘ä¸Šæœç´¢çš„<a href="https://stackoverflow.com/a/21113538">ç»“æœ</a>:</p>
<pre><code class="language-ts">/[\u4E00-\u9FCC\u3400-\u4DB5\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\uD840-\uD868][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|[\uD86A-\uD86C][\uDC00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]/
</code></pre>
<p>è¿™ä¸ªæ–¹æ¡ˆå¯ä»¥ï¼Œä½†æ˜¯å¤ªéš¾ç”¨ï¼Œè¿˜æœ‰ä¸€ä¸ª<a href="https://stackoverflow.com/a/61151122">ç®€å•çš„è§£å†³æ–¹æ¡ˆ</a> :</p>
<pre><code class="language-ts">/\p{Script=Han}/u
</code></pre>
<pre><code class="language-ts">!!'ä¹å·'.match(/\p{Script=Han}/u) // true
</code></pre>
<p>è¿™æ˜¯<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions/Unicode_Property_Escapes">Unicode å±æ€§è½¬ä¹‰</a><br>
æµè§ˆå™¨å…¼å®¹æ€§ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#browser_compatibility">Chrome 64, Firefox 79, Safari 11.1 and Node.js 10</a>.</p>
<p><a href="https://www.regular-expressions.info/unicode.html">æ‰€æœ‰å¯ç”¨çš„æ”¯æŒ</a>.</p>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[vueæ•°å­—æŒ‡ä»¤]]></title>
        <id>https://ajiu9.cn/posts/directive-number</id>
        <link href="https://ajiu9.cn/posts/directive-number"/>
        <updated>2024-03-16T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<h4>æŒ‡ä»¤åŠŸèƒ½</h4>
<ol>
<li>èƒ½å¤Ÿå®ç°å¸¸ç”¨æ•°å­—å’Œé‡‘é¢æ ¡éªŒ</li>
<li>èƒ½å¤Ÿè‡ªå®šä¹‰å°æ•°ä½,æ•´æ•°ä½ï¼Œæ˜¯å¦åŒ…å«0ï¼Œè´Ÿæ•°</li>
<li>å¯¹æ•°æ®è¾¹ç•Œè¿›è¡Œå¤„ç†</li>
<li>èƒ½å¤Ÿå¤„ç†å¤åˆ¶è¿‡æ¥çš„æ•°æ®ï¼ˆè½¬å‡ºæ”¶è´¹é¡¹ç›®1245ç§Ÿèµä¿è¯é‡‘ä½™é¢0.09è½¬å…¥æ”¶è´¹é¡¹ç›® =&gt; 12450.09ï¼‰</li>
</ol>
<h4>ä¼˜åŠ¿ï¼šå¯ä»¥å»é™¤ä»£ç ä¸­æ ¡éªŒçš„æ­£åˆ™è¡¨è¾¾ï¼Œä¼˜åŒ–ä»£ç ï¼Œæœ€é‡è¦çš„æ˜¯æå‡ç”¨æˆ·ä½“éªŒï¼Œè¾“å…¥çš„å°±æ˜¯æ­£ç¡®</h4>
<h4>æŒ‡ä»¤å®ç°</h4>
<pre><code class="language-js">const MAX_INT_PRECISION = 13 // æœ€å¤§æ•´æ•°ä½ç²¾åº¦
const MAX_PRECISION = 15 // æœ€å¤§å°æ•°ä½ç²¾åº¦
const IS_IE = !!window.ActiveXObject || 'ActiveXObject' in window
let inputEvent
if (IS_IE) {
  // ie æ”¯æŒæ–¹å¼
  inputEvent = document.createEvent('Event')
  inputEvent.initEvent('input', true, false)
}
else {
  inputEvent = new Event('input')
}

export default {
  bind(el, binding, vNode) {
    let { minus = false, zero = false } = binding.modifiers // ä¿®é¥°ç¬¦çš„å¯¹è±¡ æ˜¯å¦ä¸ºè´Ÿæ•°ï¼Œæ˜¯å¦åŒ…å«é›¶
    let elInput = el
    const isComponentInstance = vNode.componentInstance // true ç»„ä»¶ï¼Œ false åŸç”Ÿinput
    let effect = true // åŸç”Ÿinputæ˜¯å¦æ‰§è¡Œinputäº‹ä»¶
    let intPrecision = MAX_INT_PRECISION // æ•´æ•°ä½ç²¾åº¦
    let precision = MAX_PRECISION // å°æ•°ä½ç²¾åº¦
    let max // æœ€å¤§å€¼
    let min // æœ€å°å€¼
    const bindingValue = binding.value

    if (el.tagName.toLocaleUpperCase() !== 'INPUT')
      elInput = el.getElementsByTagName('input')[0]

    // æŒ‡ä»¤çš„ç»‘å®šå€¼
    if (typeof bindingValue === 'object') {
      const valueMinus = bindingValue.minus || minus
      const valueIntPrecision = Math.floor(bindingValue.intPrecision)
      const valuePrecision = Math.floor(bindingValue.precision)

      minus = !!valueMinus
      intPrecision = Math.min(Number.isNaN(valueIntPrecision) ? MAX_INT_PRECISION : valueIntPrecision, MAX_INT_PRECISION)
      precision = Math.min(Number.isNaN(valuePrecision) ? MAX_PRECISION : valuePrecision, MAX_PRECISION)
      max = bindingValue.max
      min = bindingValue.min
    }
    const setVal = (val) =&gt; {
      effect = false
      elInput.value = val
      // å¦‚æœæ˜¯è‡ªå®šä¹‰ç»„ä»¶å°±è§¦å‘è‡ªå®šä¹‰ç»„ä»¶çš„inputäº‹ä»¶
      // å¦‚æœæ˜¯åŸç”Ÿç»„ä»¶å°±è§¦å‘åŸç”Ÿç»„ä»¶çš„inputäº‹ä»¶
      isComponentInstance ? vNode.componentInstance.$emit('input', val) : elInput.dispatchEvent(inputEvent)
    }
    const listener = function (e) {
      if (!isComponentInstance &amp;&amp; !effect) {
        effect = true
        return
      }
      let elVal = e.target.value
      let hasMinus = false

      if (minus) {
        elVal = elVal.replace(/[^0-9\.\-]/g, '')
        if (elVal &amp;&amp; elVal.substring(0, 1) === '-')
          hasMinus = true
      }
      elVal = elVal.replace(/[^0-9\.]/g, '')
      const reg = new RegExp(`^0+(\\d+)|[^0-9\\.]+|^\\.|(^\\d+)(\\.{2,})|(^\\d+\\.{1}\\d{0,${precision}})[0-9\\.]\*|(^[0-9]{${intPrecision}})[0-9]+`, 'g')
      elVal = elVal.replace(reg, (match, p1, p2, p3, p4, p5) =&gt; {
        return p1 || p4 || p5 || (p3 ? p2 : '')
      })
      if (minus &amp;&amp; hasMinus)
        elVal = `-${elVal}`
      setVal(elVal)
    }
    elInput.addEventListener('input', listener, true)
    // ç”¨æ¥æ¸…é™¤ç›‘å¬
    el.unbindEventListener = () =&gt; {
      elInput.removeEventListener('input', listener, true)
    }
    elInput.onblur = function (e) {
      let value = e.target.value
      if (zero &amp;&amp; value === '0')
        return

      value = value.replace(/(^[0-9]+|^-[0-9]+)\.$/, '$1')
      value = value.replace(/^-$|^0+$|^-0+$|^0\.0*$|^-0\.0*$/, '')
      if (value !== '') {
        if (min)
          value = Math.max(value, min)
        if (max)
          value = Math.min(value, max)
      }
      if (e.target.value !== value)
        setVal(value)
    }
  },
  unbind(el) {
    el.unbindEventListener()
  },
}
</code></pre>
<h4>index.jsæ³¨å†ŒæŒ‡ä»¤</h4>
<pre><code class="language-js">import number from './number'

const install = function (Vue) {
  Vue.directive('number', number)
}

if (window.Vue) {
  window.number = number
  Vue.use(install)
}

number.install = install
export default number
</code></pre>
<h4>åœ¨vueæ–‡ä»¶ä¸­å¼•ç”¨æŒ‡ä»¤</h4>
<pre><code class="language-vue">// ç»„ä»¶ä¸­å¼•å…¥
directives: { number }

// v-number

// æ•´æ•°æœ€å¤š13ä½ï¼Œå°æ•°15ä½æ•°
&lt;el-input v-number&gt;&lt;/el-input&gt;

// æ•´æ•°æ•°æœ€å¤š3ä½, å°æ•°2ä½æ•°
&lt;el-input v-number=&quot;{ intPrecision: 3, precision: 2 }&quot;&gt;&lt;/el-input&gt;

// æœ€å¤§å€¼100 æœ€å°å€¼0
&lt;el-input v-number=&quot;{ max: 100, min: 0 }&quot;&gt;&lt;/el-input&gt;

// å¯è¾“å…¥0
&lt;el-input v-number.zero&gt;&lt;/el-input&gt;

// å¯è¾“å…¥è´Ÿ-
&lt;el-input v-number.minus&gt;&lt;/el-input&gt;
</code></pre>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ—¥å¸¸å·¥ä½œå°æŠ€å·§å’Œé—®é¢˜é›†ï¼ˆ1ï¼‰]]></title>
        <id>https://ajiu9.cn/posts/daily-tips-1</id>
        <link href="https://ajiu9.cn/posts/daily-tips-1"/>
        <updated>2024-03-15T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<ol>
<li>
<p>ä½¿ç”¨.gitignore_globalå¿½ç•¥.vscodeæ–‡ä»¶å¤¹</p>
</li>
<li>
<p>eslint å¯¹ const å’Œ let çš„æ ¼å¼å¤„ç†æœ‰é—®é¢˜ï¼Œéœ€è¦å†æ¬¡æŸ¥çœ‹é—®é¢˜é¡¹ç¡®è®¤</p>
</li>
<li>
<p>git å¿«é€Ÿåˆ‡æ¢åˆ°å‰ä¸€åˆ†æ”¯ <code>git chekcout -</code></p>
</li>
<li>
<p>clashxé…ç½®ä»£ç†èŠ‚ç‚¹</p>
</li>
<li>
<p>gitå›æ’¤ä»£ç  <code>git revert {{}}</code></p>
</li>
<li>
<p><code>git commit â€”amend -m â€œNew commit messageâ€</code> è¦†ç›–ä¸Šæ¬¡æäº¤</p>
</li>
<li>
<p>setupä¸­ watch ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„éœ€è¦è§£æ„èµ‹å€¼ï¼Œé‡æ–°è§¦å‘setterå‡½æ•°,watchæ‰èƒ½ç›‘å¬åˆ°ï¼Œä¸ç„¶å°±éœ€è¦ä½¿ç”¨deepå‚æ•°æ·±åº¦ç›‘å¬</p>
</li>
</ol>
<pre><code class="language-js">const pages = computed(() =&gt; {
// è§£æ„èµ‹å€¼
  return [...store.state.pages]
})
watch(pages, (val) =&gt; {
  delGuideMapEl(val)
})
</code></pre>
<pre><code class="language-js">const pages = computed(() =&gt; {
  return store.state.pages
})
watch(pages, (val) =&gt; {
  delGuideMapEl(val)
}, {
  // æ·±åº¦ç›‘å¬
  deep: true
})
</code></pre>
<ol start="8">
<li>
<p>åœ¨vue ä¸­ä½¿ç”¨setup,éœ€è¦æ³¨æ„é‡åé—®é¢˜ï¼Œæ¯”å¦‚ä½¿ç”¨äº†ref=â€œformâ€, åˆå£°æ˜äº†form = reactive(), é‚£ä¹ˆä¸€ä¸æ³¨æ„å°±ä¼šå‡ºç°æŠ¥é”™ï¼š[Vue warn]: Avoid adding reactive properties to a Vue instance or its root $data at runtime - declare it upfront in the data option.<br>
æ­¤æ—¶è¦æŠŠref=â€œformâ€æ”¹æˆ ref=â€œformRefâ€ï¼Œé¿å…éšè—çš„é‡åé—®é¢˜</p>
</li>
<li>
<p>shallowRef å’Œ ref çš„ä½¿ç”¨</p>
</li>
</ol>
<p><code>ref</code></p>
<p>æ¥å—ä¸€ä¸ªå†…éƒ¨å€¼ï¼Œè¿”å›ä¸€ä¸ªå“åº”å¼çš„ã€å¯æ›´æ”¹çš„ ref å¯¹è±¡ï¼Œæ­¤å¯¹è±¡åªæœ‰ä¸€ä¸ªæŒ‡å‘å…¶å†…éƒ¨å€¼çš„å±æ€§ .valueã€‚</p>
<p>ç±»å‹</p>
<pre><code class="language-ts">function ref&lt;T&gt;(value: T): Ref&lt;UnwrapRef&lt;T&gt;&gt;

interface Ref&lt;T&gt; {
  value: T
}
</code></pre>
<p>è¯¦ç»†ä¿¡æ¯</p>
<p>ref å¯¹è±¡æ˜¯å¯æ›´æ”¹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ å¯ä»¥ä¸º .value èµ‹äºˆæ–°çš„å€¼ã€‚å®ƒä¹Ÿæ˜¯å“åº”å¼çš„ï¼Œå³æ‰€æœ‰å¯¹ .value çš„æ“ä½œéƒ½å°†è¢«è¿½è¸ªï¼Œå¹¶ä¸”å†™æ“ä½œä¼šè§¦å‘ä¸ä¹‹ç›¸å…³çš„å‰¯ä½œç”¨ã€‚</p>
<p>å¦‚æœå°†ä¸€ä¸ªå¯¹è±¡èµ‹å€¼ç»™ refï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡å°†é€šè¿‡ reactive() è½¬ä¸ºå…·æœ‰æ·±å±‚æ¬¡å“åº”å¼çš„å¯¹è±¡ã€‚è¿™ä¹Ÿæ„å‘³ç€å¦‚æœå¯¹è±¡ä¸­åŒ…å«äº†åµŒå¥—çš„ refï¼Œå®ƒä»¬å°†è¢«æ·±å±‚åœ°è§£åŒ…ã€‚</p>
<p>è‹¥è¦é¿å…è¿™ç§æ·±å±‚æ¬¡çš„è½¬æ¢ï¼Œè¯·ä½¿ç”¨ shallowRef() æ¥æ›¿ä»£ã€‚</p>
<p>ç¤ºä¾‹</p>
<pre><code class="language-js">const count = ref(0)
console.log(count.value) // 0

count.value = 1
console.log(count.value) // 1
</code></pre>
<p><code>shallowRef</code></p>
<p>ref() çš„æµ…å±‚ä½œç”¨å½¢å¼ã€‚</p>
<p>ç±»å‹</p>
<pre><code class="language-ts">function shallowRef&lt;T&gt;(value: T): ShallowRef&lt;T&gt;

interface ShallowRef&lt;T&gt; {
  value: T
}
</code></pre>
<p>è¯¦ç»†ä¿¡æ¯</p>
<p>å’Œ ref() ä¸åŒï¼Œæµ…å±‚ ref çš„å†…éƒ¨å€¼å°†ä¼šåŸæ ·å­˜å‚¨å’Œæš´éœ²ï¼Œå¹¶ä¸”ä¸ä¼šè¢«æ·±å±‚é€’å½’åœ°è½¬ä¸ºå“åº”å¼ã€‚åªæœ‰å¯¹ .value çš„è®¿é—®æ˜¯å“åº”å¼çš„ã€‚</p>
<p>shallowRef() å¸¸å¸¸ç”¨äºå¯¹å¤§å‹æ•°æ®ç»“æ„çš„æ€§èƒ½ä¼˜åŒ–æˆ–æ˜¯ä¸å¤–éƒ¨çš„çŠ¶æ€ç®¡ç†ç³»ç»Ÿé›†æˆã€‚</p>
<p>ç¤ºä¾‹</p>
<pre><code class="language-js">const state = shallowRef({ count: 1 })

// ä¸ä¼šè§¦å‘æ›´æ”¹
state.value.count = 2

// ä¼šè§¦å‘æ›´æ”¹
state.value = { count: 2 }
</code></pre>
<ol start="10">
<li>åœ¨Macä¸­æŸ¥çœ‹Finderæ‰“å¼€çš„åœ°å€</li>
</ol>
<pre><code class="language-bash">function pfd() {
  osascript 2&gt;/dev/null &lt;&lt;EOF
    tell application &quot;Finder&quot;
      return POSIX path of (target of window 1 as alias)
    end tell
EOF
}
</code></pre>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[åœ¨æµè§ˆå™¨ä¸­å®ç°é¡µé¢æ‰“å°]]></title>
        <id>https://ajiu9.cn/posts/window-print</id>
        <link href="https://ajiu9.cn/posts/window-print"/>
        <updated>2024-03-09T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<p>å¦‚ä½•åœ¨æµè§ˆå™¨ä¸­æ‰“å°é¡µé¢å†…å®¹ï¼Ÿ</p>
<p>é€šè¿‡iframeè°ƒç”¨window.printæ‰“å°</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªéšè—çš„iframe</li>
<li>é€šè¿‡iframeçš„contentWindowå±æ€§è·å–iframeçš„windowå¯¹è±¡ï¼Œç„¶åè°ƒç”¨window.print()æ–¹æ³•</li>
</ol>
<p>iframe é€šè¿‡è®¾ç½®styleä¸ºdisplay:noneï¼Œposition:absoluteï¼Œwidth:0pxï¼Œheight:0pxï¼Œleft:-500pxï¼Œtop:-500pxï¼Œè¿™æ ·å¯ä»¥éšè—iframeï¼Œä½†æ˜¯ä¸å½±å“é¡µé¢çš„å¸ƒå±€ã€‚</p>
<p>æ³¨æ„ï¼š å¦‚æœæœ‰å†™å…¥å›¾ç‰‡ï¼Œå› ä¸ºæ˜¯å¼‚æ­¥ï¼Œéœ€è¦åœ¨ä¸‹ä¸€ä¸ªå®ä»»åŠ¡ä¸­æ‰§è¡Œã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€æ®µä»£ç ï¼š</p>
<pre><code class="language-js">function print(content) {
  let iframe = document.body.querySelector('#window-print')
  if (!iframe) {
    iframe = document.createElement('iframe')
    iframe.id = 'window-print'
    iframe.setAttribute('style', 'display:none;position:absolute;width:0px;height:0px;left:-500px;top:-500px;')
    document.body.appendChild(iframe)
  }
  const printDocument = iframe.contentWindow.document
  printDocument.write(content)
  printDocument.close()
  iframe.contentWindow.focus()
  setTimeout(() =&gt; {
    iframe.contentWindow.print()
  }, 0)
}
</code></pre>
<p>æ‰“å°æ•ˆæœï¼š<br>
<img src="https://ajiu9.cn/images/20240310203634jdJVNW.png" alt=""></p>
<p>è¯¥æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯å¯ä»¥åœ¨ä¸ç¦»å¼€å½“å‰é¡µé¢çš„æƒ…å†µä¸‹å®ç°æ‰“å°åŠŸèƒ½ï¼Œä¸”å¯ä»¥å¯¹æ‰“å°çš„é¡µé¢è¿›è¡Œä¸€äº›è‡ªå®šä¹‰è®¾ç½®ï¼Œæ¯”å¦‚éšè—ä¸€äº›å…ƒç´ æˆ–è€…è®¾ç½®é¡µé¢æ ·å¼ç­‰ã€‚</p>
<p>ä½¿ç”¨è¯¥æ–¹æ³•éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºæ¶‰åŠåˆ°è·¨åŸŸè®¿é—®çš„é—®é¢˜ï¼Œå¯èƒ½å­˜åœ¨ä¸€äº›å®‰å…¨æ€§å’Œå…¼å®¹æ€§çš„é—®é¢˜ï¼Œéœ€è¦è¿›è¡Œé€‚å½“çš„æµ‹è¯•å’Œå¤„ç†ã€‚</p>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä»0å¼€å§‹é…ç½®æˆ‘çš„Mac]]></title>
        <id>https://ajiu9.cn/posts/configure-my-Mac-from-0</id>
        <link href="https://ajiu9.cn/posts/configure-my-Mac-from-0"/>
        <updated>2024-01-04T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>æˆ‘çš„ç”µè„‘é‡è£…äº†ç³»ç»Ÿï¼Œé‡æ–°æ¢³ç†äº†ä¸‹è½¯ä»¶å’Œå·¥å…·ï¼Œä»¥åŠé…ç½®ï¼Œç”¨äº†å¤§æ¦‚5ä¸ªå°æ—¶ï¼Œä½¿ç”¨èµ·æ¥çˆ½å¤šäº†</p>
</blockquote>
<h3>å®‰è£…clashX</h3>
<h3>å®‰è£…APPå’ŒCliå·¥å…·</h3>
<ol>
<li>å®‰è£…HomeBrew å¹¶ç”¨å®ƒå®‰è£…appå’Œcliå·¥å…·ã€‚App å¯ä»¥åœ¨homebrew-cask â€” Homebrew Formulaeé‡Œæ‰¾æœ‰æ²¡æœ‰ï¼ŒCli å·¥å…·å¯ä»¥åœ¨homebrew-core â€” Homebrew Formulae æ‰¾æœ‰æ²¡æœ‰ã€‚</li>
</ol>
<pre><code class="language-bash"># å…ˆå¼€ä»£ç†
export https_proxy=http://127.0.0.1:7890 http_proxy=http://127.0.0.1:7890 all_proxy=socks5://127.0.0.1:7890

# å®‰è£… HomeBrew
/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;

# ç”¨ HomeBrew å®‰è£… Appï¼Œä»¥ä¸‹æ˜¯æˆ‘å¯ä»¥ç”¨ HomeBrew å®‰è£…çš„ App åˆ—è¡¨
brew install --cask  battery-buddy  espanso google-chrome gas-mask obsidian visual-studio-code Paycast Picsee

# å®‰è£… Cli å·¥å…·
brew install autojump diff-so-fancy  fd gh git nvm pnpm tree
</code></pre>
<ol>
<li>ç”¨ Mac App Store å®‰è£…é¢å¤– Appã€‚</li>
</ol>
<ul>
<li>Bob</li>
<li>RunCat</li>
<li>Influse</li>
</ul>
<h3>å‡†æœ¬æœ¬åœ°ç›®å½•</h3>
<p>åœ¨ ~/Documents ä¸‹å»ºç›®å½•Code, SoftwareConfigurationCodeå’ŒNotesã€‚ï¼ˆåç»­æ·»åŠ æ›´å¤šï¼‰Codeç”¨äºå­˜ä»£ç ï¼›SoftwareConfiguration ç”¨äºä¿å­˜å„ç§è½¯ä»¶é…ç½®ï¼ŒæŠŠ Espanso ç­‰çš„é…ç½®æ”¾åœ¨è¿™é‡Œã€‚</p>
<h3>é…ç½®App</h3>
<ol>
<li>
<p>Karabiner-Elements<br>
å‚è€ƒ Karabiner-Element é…ç½® F19 é”® - HackMD ã€‚åœ¨ Karabiner-Elements complex_modifications rules æœã€ŒChange caps_lock keyã€ï¼Œimport ååªä¿ç•™ä¸€æ¡å’Œ F19 ç›¸å…³çš„ï¼Œç„¶ååœ¨å‘½ä»¤è¡Œé‡Œç¼–è¾‘ã€Œ~/.config/karabiner/karabiner.jsonã€ï¼ŒæŠŠåˆšæ‰é‚£æ¡è§„åˆ™çš„ã€Œcaps_lockã€æ¢æˆã€Œright_commandã€ï¼ˆä¸¤å¤„ï¼‰ã€‚è¿™æ ·ä½ å°±æŠŠåŸºæœ¬ä¸ä¼šç”¨åˆ°çš„ã€Œå³âŒ˜ã€åºŸç‰©åˆ©ç”¨å˜æˆäº†ã€ŒF19ã€é”®ï¼Œç„¶åä½ çš„å¿«æ·é”®ç»„åˆä¼šå¤šå¾ˆå¤šã€‚</p>
<p>å¦‚æœä½ ä»”ç»†çœ‹é…ç½®ï¼Œä¼šå‘ç°ã€ŒF19ã€æ˜¯ç”±å››ä¸ªé”®ã€ŒâŒ˜â‡§âŒƒâŒ¥ã€ç»„æˆçš„ï¼Œåœ¨ä¸€äº› App çš„å¿«æ·é”®é…ç½®é‡Œä½ ä¼šçœ‹åˆ°å››ä¸ªé”®ï¼Œä¸è¦å¥‡æ€ªï¼Œè¿™ä¹Ÿæ˜¯ä»–ã€‚</p>
</li>
<li>
<p>Raycast<br>
å¿«æ·é”®æ“ä½œé›†æˆçª—å£ï¼Œè¶…çº§å¥½ç”¨ï¼Œç”¨æ¥ç»„åˆF19å¯ä»¥ç©å‡ºå¾ˆå¤šèŠ±æ ·</p>
</li>
<li>
<p>zsh<br>
å®‰è£… zsh å’Œ starshipï¼Œstarship æ˜¯ rust å†™çš„ prompt å·¥å…·ï¼Œæå¿«</p>
</li>
</ol>
<pre><code class="language-bash">brew install starshipecho 'eval &quot;$(starship init zsh)&quot;' &gt;&gt; ~/.zshrc
</code></pre>
<p>å®‰è£… zsh çš„æ’ä»¶ zsh-autosuggestionsã€zsh-completions å’Œ fast-syntax-highlightingã€‚</p>
<pre><code class="language-bash">git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-$HOME/Documents/SoftwareConfiguration/zsh}/zsh-autosuggestionsgit ÃÃÃclone https://github.com/zsh-users/zsh-completions ${ZSH_CUSTOM:-$HOME/Documents/SoftwareConfiguration/zsh}/zsh-completionsgit clone https://github.com/zdharma-continuum/fast-syntax-highlighting.git ${ZSH_CUSTOM:-$HOME/Documents/SoftwareConfiguration/zsh}/fast-syntax-highlighting
</code></pre>
<pre><code class="language-bash">export HOMEBREW_NO_AUTO_UPDATE=1

# Alias
alias ip=&quot;ipconfig getifaddr en0&quot;
alias sshconfig=&quot;vim ~/.ssh/config&quot;
alias gitconfig=&quot;vim ~/.gitconfig&quot;

# chore
alias br=&quot;bun run&quot;
alias c='code .'
alias pi=&quot;echo 'Pinging Baidu' &amp;&amp; ping www.baidu.com&quot;
alias ip=&quot;ipconfig getifaddr en0 &amp;&amp; ipconfig getifaddr en1&quot;
alias cip=&quot;curl cip.cc&quot;
alias hosts=&quot;vi /etc/hosts&quot;
alias cdtemp=&quot;cd `mktemp -d /tmp/ajiu9-XXXXXX`&quot;

function grandom() {
  # è·å–å½“å‰æ—¥æœŸ
  current_date=$(date &quot;+%Y-%m-%d&quot;)
  # ç”Ÿæˆ4ä¸ªéšæœºæ•°å­—
  random_number=$(( RANDOM % 676 ))
  # å°†éšæœºæ•°è½¬æ¢ä¸ºA-Zéšæœºå­—ç¬¦
  random_chars=&quot;&quot;
  for (( i=0; i&lt;4; i++)); do
    random_char_index=$(( RANDOM % 26 ))
    random_char=$(printf \\$(printf '%03o' $((65 + random_char_index))))
    random_chars=&quot;${random_chars}${random_char}&quot;
  done
  # æ ¼å¼åŒ–ä¸ºæŒ‡å®šæ ¼å¼çš„å­—ç¬¦ä¸²
  formatted_string=&quot;${current_date}-${random_chars}&quot;
  if [[ -n $1 ]]; then
    echo `git checkout -b &quot;$1&quot;/ajiu9-&quot;$formatted_string&quot;`
  else
    echo `git checkout -b ajiu9-&quot;$formatted_string&quot;`
  fi
}

## system
alias showFiles=&quot;defaults write com.apple.finder AppleShowAllFiles YES &amp;&amp; killall Finder&quot;
alias hideFiles=&quot;defaults write com.apple.finder AppleShowAllFiles NO &amp;&amp; killall Finder&quot;

# cd
alias ..='cd ../'
alias ...='cd ../../'
alias ..l.='cd ../../ &amp;&amp; ll'
alias ....='cd ../../../'
alias ~=&quot;cd ~&quot;
alias -- -=&quot;cd -&quot;
alias ll=&quot;ls -alhG&quot;
alias ls=&quot;ls -G&quot;

# git
alias gps=&quot;git push&quot;
alias gpl=&quot;git pull&quot;
alias gt=&quot;git status -sb&quot;
alias ga=&quot;git add .&quot;
alias gc=&quot;git commit -av&quot;
alias gcr=&quot;git checkout master &amp;&amp; git fetch &amp;&amp; git rebase&quot;
alias gclean=&quot;git reset --hard &amp;&amp; git clean -df&quot;
alias grebase=&quot;git fetch &amp;&amp; git rebase -i&quot;
alias glg=&quot;git log --pretty='%C(red)%h%Creset%C(yellow)%d%Creset %s %C(cyan)(%ar)%Creset'&quot;
alias gdel=&quot;git branch --merged master | egrep -v '(\*|master|release|bug$|dev)' | xargs -n 1 -r git branch -d&quot;
alias gck=&quot;git checkout&quot;
function gb() {
  echo `git checkout &quot;$1&quot; &amp;&amp; git pull &amp;&amp; git checkout -b &quot;$2&quot;`
}

function record() {
cd ~/screencapture/jpg;
RES_WIDTH=$(/usr/sbin/system_profiler SPDisplaysDataType | grep Resolution);
RES_WIDTH=(${RES_WIDTH:22:4});
RES_WIDTH=$((RES_WIDTH/2));
while :
NOW=$(date +&quot;%y%m%d%H%M%S&quot;);
do screencapture -C -t jpg -x ~/screencapture/jpg/$NOW.jpg;
sleep 7 &amp; pid=$!
NOW=$(date +&quot;%y%m%d%H%M%S&quot;);
wait $pid
done
}

function movie() {
NOW=$(date +&quot;%y%m%d%H%M%S&quot;);
cd ~/screencapture/jpg;
cnt=0
rm -rf .DS_Store;
for file in *
do
if [ -f &quot;$file&quot; ] ; then
ext=${file##*.}
printf -v pad &quot;%05d&quot; &quot;$cnt&quot;
mv &quot;$file&quot; &quot;${pad}.${ext}&quot;
cnt=$(( $cnt + 1 ))
fi
done;
rm -rf 00000.jpg;
for pic in *.jpg;
do convert $pic -resize 50% $pic;
done;
ffmpeg -r 24 -i %05d.jpg -b 20000k ~/screencapture/mov/$USER-$NOW.mov;
rm -rf ./*.jpg;
}

function mcd {
mkdir $1 &amp;&amp; cd $1;
}

function pfd() {

osascript 2&gt;/dev/null &lt;&lt;EOF

tell application &quot;Finder&quot;

return POSIX path of (target of window 1 as alias)

end tell

EOF

}

function cdf() {
cd &quot;$(pfd)&quot;
}

function ,touch {
mkdir -p &quot;$(dirname &quot;$1&quot;)&quot; &amp;&amp; touch &quot;$1&quot;
}

function ,take() {
mkdir -p &quot;$(dirname &quot;$1&quot;)&quot; &amp;&amp; touch &quot;$1&quot; &amp;&amp; take &quot;$(dirname &quot;$1&quot;)&quot;
}

# load zsh-completions
autoload -U compinit &amp;&amp; compinit
source ~/Documents/SoftwareConfiguration/zsh/zsh-autosuggestions/zsh-autosuggestions.zsh
source ~/Documents/SoftwareConfiguration/zsh/zsh-completions/zsh-completions.plugin.zsh
source ~/Documents/SoftwareConfiguration/zsh/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
source ~/.bash_profile

[ -f &quot;/usr/local/etc/profile.d/autojump.sh&quot; ] &amp;&amp; . &quot;/usr/local/etc/profile.d/autojump.sh&quot; # This loads autojump

# bun completions
[ -s &quot;/Users/wulongbiao/.bun/_bun&quot; ] &amp;&amp; source &quot;/Users/wulongbiao/.bun/_bun&quot;

# bun
export BUN_INSTALL=&quot;$HOME/.bun&quot;
export PATH=&quot;$BUN_INSTALL/bin:$PATH&quot;
export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.aliyun.com/homebrew/homebrew-bottles
# pnpm
export PNPM_HOME=&quot;/Users/wulongbiao/Library/pnpm&quot;
export PATH=&quot;$PNPM_HOME:$PATH&quot;

# use starship theme (needs to be at the end)
eval &quot;$(starship init zsh)&quot;
</code></pre>
<ol start="4">
<li>é¢å¤–çš„å‘½ä»¤è¡Œå·¥å…·ï¼šBun å’Œ Projj</li>
</ol>
<p>å®‰è£… Bunã€‚ä¸»è¦æ˜¯ç”¨ä»–çš„ run å‘½ä»¤ï¼Œæå¿«ï¼Œä¸Šé¢ä¹Ÿæœ‰åˆ«å <code>br</code>ï¼Œæ¯”å¦‚æ‰§è¡Œæ¯”å¦‚ <code>br dev</code> å³ <code>npm run dev</code>ã€‚</p>
<pre><code>curl -fsSL https://bun.sh/install | bash
</code></pre>
<p>å®‰è£… PROJJï¼Œç”¨ä»–æ¥ç®¡ç† Code ä¸‹çš„ä»“åº“ï¼ŒæŒ‰ã€Œdomain/group/repoã€è¿™æ ·ç»„ç»‡ï¼Œæ‰¾èµ·æ¥ä¼šæ¯”è¾ƒå®¹æ˜“ã€‚</p>
<pre><code class="language-bash">pnpm i projj projj-hooks -g
projj init
</code></pre>
<ol start="5">
<li>ç„¶åç¼–è¾‘ ~/.projj/config.json</li>
</ol>
<pre><code class="language-json">{
  &quot;base&quot;: [
    &quot;/Users/wulongbiao/Documents/Code&quot;
  ],
  &quot;hooks&quot;: {
    &quot;postadd&quot;: &quot;projj_git_config_user&quot;,
    &quot;clean&quot;: &quot;clean&quot;
  },

  &quot;postadd&quot;: {
    &quot;github.com&quot;: {
      &quot;name&quot;: &quot;ajiu9&quot;,
      &quot;email&quot;: &quot;615944323@qq.com&quot;
    }
  },
  &quot;alias&quot;: {
    &quot;github://&quot;: &quot;https://github.com/&quot;
  }
}
</code></pre>
<p>ç„¶åå°±å¯ä»¥æ„‰å¿«åœ°ç”¨ PROJJ æ·»åŠ é¡¹ç›®äº†ï¼Œæ¯”å¦‚ã€‚</p>
<pre><code class="language-bash">projj add git@github.com:ajiu9/eslint-config.git
</code></pre>
<ol start="6">
<li>Espanso<br>
åœ¨ ~/Documents/SoftwareConfiguration/Espanso ä¸‹å»ºäº†ä¸ª base.ymlï¼Œå¹¶è½¯é“¾åˆ° Espanso åŸæ¥çš„é…ç½®æ–‡ä»¶å¤¹é‡Œã€‚</li>
</ol>
<pre><code class="language-yml"># espanso match file
# For a complete introduction, visit the official docs at: https://espanso.org/docs/
# You can use this file to define the base matches (aka snippets)
# that will be available in every application when using espanso.
# Matches are substitution rules: when you type the &quot;trigger&quot; string
# it gets replaced by the &quot;replace&quot; string.
matches:
  # Simple text replacement
  # NOTE: espanso uses YAML to define matches, so pay attention to the indentation!
  # But matches can also be dynamic:
  # Print the current date
  - trigger: ':date'
    replace: '{{mydate}}'
    vars:
      - name: mydate
    type: date
    params:
      format: '%m/%d/%Y'
  # Print the output of a shell command
  - trigger: ':shell'
    replace: '{{output}}'
    vars:
      - name: output
    type: shell
    params:
      cmd: 'echo ''Hello from your shell'''
  # And much more! For more information, visit the docs: https://espanso.org/docs/
  # misc
  - trigger: ;&gt;&gt;
    replace: â¡
  - trigger: ;vv
    replace: â¬‡
  - trigger: ;^^
    replace: â¬†
  - trigger: ;&lt;&lt;
    replace: â¬…
  # life
  - trigger: ;mobi
    replace: æˆ‘çš„æ‰‹æœºå·
  - trigger: ;mail
    replace: æˆ‘çš„é‚®ç®±
  - trigger: ;addr
    replace: æˆ‘çš„å®¶åº­ä½å€
  - trigger: ;officeAddr
    replace: å…¬å¸åœ°å€
  # faq
  - trigger: chongt
    replace: å†²çªäº†ï¼Œmerge ä¸‹ masterã€‚
  # code
  - trigger: ;log
    replace: console.log($|$)
  - trigger: ;delay
    replace: const delay = (ms) =&gt; new Promise((res) =&gt; setTimeout(res, ms));
  # mac symbols
  - trigger: ':cmd'
    replace: âŒ˜
  - trigger: ':shift'
    replace: â‡§
  - trigger: ':ctrl'
    replace: âŒƒ
  - trigger: ':alt'
    replace: âŒ¥
  - trigger: ':opt'
    replace: âŒ¥
  - trigger: ':left'
    replace: â†
  - trigger: ':right'
    replace: â†’
  - trigger: ':up'
    replace: â†‘
  - trigger: ':down'
    replace: â†“
  - trigger: ':caps_lock'
    replace: â‡ª
  - trigger: ':esc'
    replace: â‹
  - trigger: ':eject'
    replace: â
  - trigger: ':return'
    replace: â†µ
  - trigger: ':enter'
    replace: âŒ…
  - trigger: ':tab'
    replace: â‡¥
  - trigger: ':backtab'
    replace: â‡¤
  - trigger: ':pgup'
    replace: â‡
  - trigger: ':pgdown'
    replace: â‡Ÿ
  - trigger: ':home'
    replace: â†–
  - trigger: ':end'
    replace: â†˜
  - trigger: ':space'
    replace: â£
  - trigger: ':del'
    replace: âŒ«
  - trigger: ':fdel'
    replace: âŒ¦
</code></pre>
<ol start="7">
<li>
<p>VSCode<br>
ç•¥</p>
</li>
<li>
<p>Git</p>
</li>
</ol>
<p>å…ˆé… name å’Œ emailã€‚</p>
<pre><code>git config --global user.name &quot;Your Name&quot;git config --global user.email &quot;you@your-domain.com&quot;
</code></pre>
<p>å†æ‰§è¡Œè¿™ä¸¤æ¡å‘½ä»¤ã€‚</p>
<pre><code>git config --global --add push.default currentgit config --global --add push.autoSetupRemote true
</code></pre>
<p>ä½ ä¼šæ”¶è·ä¸¤ä¸ªå¥½å¤„ã€‚1ï¼‰ä¸éœ€è¦ã€Œgit push origin xxxã€ï¼Œåªè¦ã€Œgit pushã€ï¼Œ2ï¼‰å†ä¹Ÿä¸ä¼šé‡åˆ°ã€Œno upstream branchã€çš„æŠ¥é”™ï¼Œä¹Ÿä¸éœ€è¦ã€Œgit push --set-upstream origin test &amp;&amp; git pushã€ã€‚å› ä¸ºæˆ‘ä»¬æ‰§è¡Œ git push çš„å¤§éƒ¨åˆ†åœºæ™¯éƒ½æ˜¯ push åˆ°åŒåçš„ remote branchã€‚æ¥æºæ˜¯ Auto setup remote branch and never again see an error about the missing upstream | <a href="http://pawelgrzybek.com">pawelgrzybek.com</a>ã€‚</p>
<p>å†ä¿®æ”¹ ~/.gitignore_globalï¼ŒåŠ å…¥å’Œä½  IDE ç›¸å…³çš„ ignore é…ç½®ã€‚æˆ‘ä¼šæŠŠ .idea åŠ è¿›å»ï¼Œè¿™æ˜¯å’Œä½ ç›¸å…³çš„ä¸“æœ‰é…ç½®ï¼Œå¦‚æœç»™å…¶ä»–ç”¨ VSCode çš„ä½œè€…çš„é¡¹ç›®æäº¤æ—¶ï¼Œéƒ½åŠ ä¸Š .idea çš„ .gitignore é…ç½®ï¼Œå…¶å®å¹¶ä¸å¤ªç¤¼è²Œã€‚åä¹‹ï¼ŒVSCode æˆ–å…¶ä»–ç¼–è¾‘å™¨å·¥å…·çš„ç”¨æˆ·ä¹Ÿè¦åŠ ä¸Šè‡ªå·±çš„ã€‚</p>
<pre><code>*~.DS_Store.idea
</code></pre>
<ol start="9">
<li>NVM å’Œ Node</li>
</ol>
<pre><code>nvm install 18node -v
</code></pre>
<h2>ç³»ç»Ÿè®¾ç½®</h2>
<ol>
<li>Generalã€‚1ï¼‰Default Web Browser ç”¨ã€ŒGoogle Chromeã€</li>
<li>Siriã€‚ç›´æ¥ç¦æ‰ã€‚</li>
<li>Keyboardã€‚1ï¼‰Keyboard é‡ŒæŠŠ Key Repeat è°ƒåˆ°ã€ŒFastã€ï¼ŒæŠŠ Delay Util Repeat è°ƒåˆ°ã€ŒShortã€ï¼Œéœ€è¦ä¸€ç‚¹æ—¶é—´é€‚åº”ï¼Œé€‚åº”åä¼šæ„Ÿå—åˆ°å…‰æ ‡å¿«é€Ÿç§»åŠ¨å¸¦æ¥çš„æ•ˆç‡æå‡ï¼Œ2ï¼‰Text é‡Œ use <code>&quot;</code> for double quotesï¼Œuse <code>'</code> for single quotesï¼Œç„¶åæŠŠå…¶ä»–éƒ½ç¦æ‰ï¼Œä¸éœ€è¦ç³»ç»Ÿå¸®å¿™æ”¹ï¼ŒåŸºæœ¬éƒ½æ˜¯å¸®å€’å¿™çš„ï¼Œ3ï¼‰Shortcuts é‡Œï¼ŒMission Control ç”¨ã€ŒâŒ¥Aã€,Application windows ç”¨ã€ŒâŒ¥Sã€ï¼ŒShow Desktop ç”¨ã€ŒâŒ¥Dã€</li>
<li>Spotlightã€‚åªå¼€ Applicationsã€Bookmarks &amp; Historyã€Documentsã€Foldersã€System Preferencesã€‚</li>
<li>Mission Controlã€‚æŠŠ Hot Corners é‡Œçš„å…¨éƒ¨å…³æ‰ï¼Œä¸éœ€è¦ï¼Œå› ä¸ºæœ‰ Thor äº†ï¼Œå¯ä»¥æ›´å¿«åˆ‡é™¤åº”ç”¨ã€‚</li>
<li>Notificationã€‚ä¸å¿…è¦çš„å…¨å…³æ‰ï¼Œæˆ‘åªå¼€äº† Calendarã€Find Byã€‚</li>
<li>æ‰§è¡Œ <code>defaults write -g NSWindowShouldDragOnGesture -bool true</code>ï¼Œç„¶åå°±å¯ä»¥æŒ‰ä½ã€ŒâŒ˜+âŒƒã€ç„¶åé¼ æ ‡ç‚¹å‡»ä»»æ„åœ°æ–¹æ‹–åŠ¨çª—å£äº†ã€‚</li>
</ol>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[vscodeå¸¸ç”¨å¿«æ·é”®]]></title>
        <id>https://ajiu9.cn/posts/common-shortcuts-for-vscode</id>
        <link href="https://ajiu9.cn/posts/common-shortcuts-for-vscode"/>
        <updated>2023-10-25T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<table>
<thead>
<tr>
<th>å¿«æ·é”®</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>â‡§âŒ˜P</td>
<td>Show Command Palette ï¼ˆæ˜¾ç¤ºå‘½ä»¤é¢æ¿ï¼‰</td>
</tr>
<tr>
<td>âŒ˜P</td>
<td>Quick Open, Go to Fileâ€¦ ï¼ˆå¿«é€Ÿæ‰“å¼€æ–‡ä»¶ï¼‰</td>
</tr>
<tr>
<td>âŒ˜W</td>
<td>Close window/instance (å…³é—­çª—å£/å½“å‰é¡µ)</td>
</tr>
<tr>
<td>âŒƒP</td>
<td>Select Previous in Quick Open (å¿«é€Ÿæ‰“å¼€å·²é€‰æ‹©è¿‡çš„æ–‡ä»¶)</td>
</tr>
<tr>
<td>âŒƒQ</td>
<td>Quick open navigate next in view picker (å¿«é€Ÿæ‰“å¼€è§†å›¾é€‰æ‹©å™¨å¯¼èˆª)</td>
</tr>
<tr>
<td>â‡§âŒ˜.</td>
<td>Focus and select breadcrumbs, go to symbol inaccessible view (èšç„¦å¹¶é€‰æ‹©é¢åŒ…å±‘ï¼Œè½¬åˆ°å¯è®¿é—®è§†å›¾ä¸­çš„ç¬¦å·)</td>
</tr>
<tr>
<td>âŒ˜F</td>
<td>Find (æœç´¢)</td>
</tr>
<tr>
<td>âŒ¥âŒ˜F</td>
<td>Replace (æ›¿æ¢)</td>
</tr>
<tr>
<td>â‡§âŒ˜F</td>
<td>Show Search ï¼ˆ-å…¨å±€æœç´¢ï¼‰</td>
</tr>
<tr>
<td>â‡§âŒ¥F</td>
<td>Format document ï¼ˆæ ¼å¼åŒ–ä»£ç ï¼‰</td>
</tr>
<tr>
<td>âŒ˜G</td>
<td>Go to line (è·³è½¬è¡Œ)</td>
</tr>
<tr>
<td>âŒ˜B</td>
<td>Toggle sidebar visibility(åˆ‡æ¢ä¾§è¾¹æ æ˜¾ç¤º)</td>
</tr>
<tr>
<td>âŒƒ`</td>
<td>Show integrated terminal (æ˜¾ç¤ºé›†æˆç»ˆç«¯)</td>
</tr>
<tr>
<td>âŒƒ-</td>
<td>Input back (å…‰æ ‡è¿”å›)</td>
</tr>
<tr>
<td>â‡§âŒ˜\</td>
<td>Jump to matching bracket (è·³è½¬åˆ°åŒ¹é…çš„æ‹¬å·)</td>
</tr>
<tr>
<td>âŒ˜Enter/â‡§âŒ˜Enter</td>
<td>Insert the line below/above</td>
</tr>
<tr>
<td>â‡§âŒ˜B/âŒ˜B</td>
<td>View: Toggle Secondary Side Bar Visibility(åˆ‡æ¢ä¾§è¾¹æ )</td>
</tr>
<tr>
<td>âŒ¥âŒ˜â¬…</td>
<td>View: Open Previous Editor/Tab(æ‰“å¼€ä¸Šä¸€ä¸ªæ ‡ç­¾é¡µ)</td>
</tr>
<tr>
<td>âŒ¥âŒ˜â¡</td>
<td>View: Open Next Editor/Tab(æ‰“å¼€ä¸‹ä¸€ä¸ªæ ‡ç­¾é¡µ)</td>
</tr>
<tr>
<td>âŒƒ-</td>
<td>Navigate Back (è¿”å›ä¸Šä¸€ä¸ªå¯¼èˆª)</td>
</tr>
<tr>
<td>â‡§âŒƒ-</td>
<td>Navigate Forward (æ‰“å¼€åä¸€ä¸ªå¯¼èˆª)</td>
</tr>
<tr>
<td>âŒ˜\</td>
<td>Split Right ï¼ˆå³æ‹†åˆ†ï¼‰</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><img src="https://static.ajiu9.cn/Notes/2023101020015616969393161696939316647dHJymT.png" alt="hotkey"></p>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ€ä¹ˆç¡®å®šå¹´ç›®æ ‡ï¼Œå‘¨è®¡åˆ’ï¼Œæ—¥è®¡åˆ’]]></title>
        <id>https://ajiu9.cn/posts/how-to-determine-the-plan</id>
        <link href="https://ajiu9.cn/posts/how-to-determine-the-plan"/>
        <updated>2023-09-17T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<p>è¿™æ˜¯ä¸€ç¯‡è‡ªæˆ‘å­¦ä¹ å’Œæ€è€ƒçš„è®°å½•ï¼ŒåŒæ—¶å‚è€ƒè‡ªå·±çš„å®é™…æ¥å®ç°è‡ªå·±åº”è¯¥æ€ä¹ˆç¡®å®šç›®æ ‡å’Œå®Œæˆè®¡åˆ’ã€‚</p>
<p>1ã€é¦–å…ˆä»‹ç»<strong>4ä¸ªæˆ‘ä¸ªäººè®¤åŒçš„ç†å¿µ</strong>ï¼Œå¥åº·ç¬¬ä¸€ã€é€‰æ‹©éš¾çš„ã€é€‰æ‹©å¯ä»¥å¸¦æ¥æ›´å¤šå¯èƒ½æ€§çš„ã€é€‰æ‹©æœ‰å¤åˆ©æ•ˆåº”çš„ã€‚åœ¨åšé€‰æ‹©æ—¶å¤šæƒ³æƒ³è¿™äº›ï¼Œå¯ä»¥æ›´å¿«å¹¶ä¸”åšå‡ºæ›´ç¬¦åˆé•¿æœŸåˆ©ç›Šçš„é€‰æ‹©ã€‚</p>
<p>2ã€ä»‹ç»ä¸€äº›æ–¹æ³•è®ºï¼ŒåŒ…æ‹¬å®šç›®æ ‡çš„WHENã€HOWã€WHATï¼Œä»¥åŠåŸºäºLexFridmançš„æ–¹æ³•æ”¹é€ çš„æ¯æ—¥å·¥ä½œæµã€‚</p>
<h3>ç†å¿µ</h3>
<p>å…ˆè¯´ä¸€äº›è™šçš„ç†å¿µï¼Œæˆ–è€…æ˜¯æŒ‡å¯¼æ€§åŸåˆ™ã€‚<br>
1ã€<strong>å¥åº·ç¬¬ä¸€</strong>ã€‚è‡ªå·±çš„èº«ä½“å¥åº·æ°¸è¿œç¬¬ä¸€ä½ï¼Œå¦åˆ™æ²¡æ³•å¥½å¥½é™ªä¼´å®¶äººï¼Œä¹Ÿæ²¡æ³•å¥½å¥½å·¥ä½œã€‚è·‘æ­¥é”»ç‚¼è€æ˜¯æèµ·ï¼Œåˆå¾ˆå¿«å¿˜æ‰ï¼Œæ²¡æœ‰åšæŒä¸‹å»ã€‚ç°åœ¨è®¡åˆ’æ¯å¤©æ‹¿å‡ºä¸€ä¸ªå°æ—¶æ¥é”»ç‚¼èº«ä½“ã€‚</p>
<p>2ã€<strong>é€‰æ‹©éš¾çš„</strong>ã€‚å·¦ä¼ ä¸­æœ‰ä¸€æ®µè¯<em>å–äººä¹‹ä¸Šï¼Œå¾—å…¶ä¸­ä¹Ÿï¼›å–äººä¹‹ä¸­ï¼Œå¾—å…¶ä¸‹ä¹Ÿã€‚</em> å¦‚æœä½ è¿½æ±‚æœ€é«˜çš„æ ‡å‡†ï¼Œä½ å¯èƒ½ä¼šè¾¾åˆ°ä¸€ç§ä¸­ç­‰çš„çŠ¶æ€ï¼›å¦‚æœä½ åªè¿½æ±‚ä¸­ç­‰çš„æ ‡å‡†ï¼Œä½ å¯èƒ½ä¼šé™è‡³ä¸€ä¸ªä½ç­‰çš„çŠ¶æ€ã€‚æé†’æˆ‘ä»¬è¦æœ‰é«˜çš„ç›®æ ‡å’ŒæœŸæœ›ã€‚åº”ä¸ºå®é™…ç»“æœå¾€å¾€è¦æ¯”æœŸæœ›çš„è¦ä½ä¸€äº›ã€‚</p>
<p>3ã€<strong>é€‰æ‹©å¯ä»¥å¸¦æ¥æ›´å¤šå¯èƒ½æ€§çš„</strong>ã€‚å’Œä¸Šä¸€æ¡æœ‰äº›é‡åˆï¼Œé€‰æ‹©éš¾çš„é€šå¸¸å¯ä»¥å¸¦æ¥æ›´å¤šå¯èƒ½æ€§ã€‚æ¯”å¦‚ç§‘å­¦ä¸Šç½‘ã€ChatGPTã€Copilotã€Englishã€Googleç­‰ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥å¸¦æ¥æ›´å¤šå¯èƒ½æ€§ã€‚</p>
<p>4ã€<strong>é€‰æ‹©æœ‰å¤åˆ©æ•ˆåº”çš„</strong>ã€‚æœ‰å¤åˆ©æ•ˆåº”çš„äº‹æœ‰å†™å·¥å…·ã€å†™æ–‡æ¡£ã€å­¦è‹±è¯­ã€å†™ä½œã€å½“ç„¶è¿˜æœ‰æ‘‡äººã€äººå¤šåŠ›é‡å¤§ã€‘ã€æ‡‚å–èˆï¼ˆçŸ¥é“ä¸åšä»€ä¹ˆï¼‰ã€è§£å†³ç—›ç‚¹é—®é¢˜ã€å¤šæ•™å¤šåˆ†äº«ã€å¤šè¾“å…¥ï¼ˆåªæœ‰è¾“å…¥è¶³å¤Ÿå¤šçš„çŸ¥è¯†æ‰èƒ½åšæ›´å¥½çš„å†³ç­–ï¼‰ã€æœ¬è´¨è§£å’Œç°è±¡è§£ç­‰ã€‚</p>
<h3>æ–¹æ³•</h3>
<p>ä¸ç®¡å·¥ä½œè¿˜æ˜¯ä¸ªäººçš„ï¼Œéƒ½æ˜¯åœ¨èµ°[å®šç›®æ ‡ï¼Œæ‹†ç›®æ ‡ï¼Œæ‰§è¡Œï¼Œå®ŒæˆğŸ‰]è¿™ä¸ªå¾ªç¯ï¼Œä½†æ˜¯è¦ç¡®ä¿ç›®æ ‡å¾ˆå¥½åœ°è¢«å®Œæˆï¼Œéœ€è¦è€ƒè™‘ä»€ä¹ˆæ—¶å€™å®šï¼Œæ€ä¹ˆå®šï¼Œæ€ä¹ˆæ‰§è¡Œã€‚</p>
<p><strong>ä»€ä¹ˆæ—¶å€™å®šç›®æ ‡</strong> ï¼Ÿè¶Šæ—©è¶Šå¥½ï¼Œæˆ‘åˆšå¼€å§‹æ‰§è¡Œï¼Œæ‰€ä»¥å°±æ˜¯ç°åœ¨ï¼Œæˆ‘çš„ç›®æ ‡åŒ…æ‹¬ä¸ªäººçš„å’Œå·¥ä½œçš„ï¼Œæœ€è¿‘æ€è€ƒäº†ä¸‹è‡ªå·±çš„æœªæ¥ï¼Œè‡ªå·±ä»¥åæƒ³åšä»€ä¹ˆï¼Œçˆ±å¥½æ˜¯ä»€ä¹ˆï¼Œèƒ½åšä»€ä¹ˆï¼Œç„¶åå¼€å§‹å®šç›®æ ‡ï¼Œç«‹flagã€‚</p>
<p><strong>æ€ä¹ˆå®šç›®æ ‡</strong>ï¼Ÿæˆ‘æŠŠè‡ªå·±æƒ³åˆ°çš„ï¼Œçœ¼å‰æƒ³åšçš„ï¼Œä»¥åæƒ³åšçš„ï¼Œèƒ½åšçš„ï¼Œéƒ½å†™ä¸‹æ¥ï¼Œç„¶åé—®ä¸‹å®¶äººçš„æƒ³æ³•ï¼Œç„¶åä½œä¸ºä»Šå¹´çš„ç›®æ ‡ï¼Œä»Šå¹´åªå‰©ä¸‹ä¸€ä¸ªå­£åº¦äº†ï¼Œå“ï¼Œæ—¶é—´å¦‚æµæ°´ï¼Œä¸èˆæ˜¼å¤œã€‚ç„¶åä»ä¸­é€‰å‡º3-5ä¸ªä½œä¸ºä»Šå¹´çš„æœ€ç»ˆç›®æ ‡ã€‚</p>
<p><strong>æ€ä¹ˆæ‰§è¡Œ</strong>ï¼Ÿå…ˆæ‹†ç›®æ ‡ï¼Œåˆ°é‡Œç¨‹ç¢‘ç»´åº¦ï¼Œæ¯ä¸ªé‡Œç¨‹ç¢‘åŒ…å«æ—¶é—´ã€è´Ÿè´£äººå’Œå…·ä½“çš„å¤§ä»»åŠ¡ï¼›è´Ÿè´£äººä¸»è¦æ˜¯æˆ‘è‡ªå·±ã€‚ç„¶åé€šè¿‡æœˆè®¡åˆ’ã€å‘¨è®¡åˆ’ã€æ—¥è®¡åˆ’è¿›ä¸€æ­¥æ‹†åˆ†ï¼›æœˆè®¡åˆ’å’Œå‘¨è®¡åˆ’æ‹†åˆ†åˆ°ä»¥hä¸ºå•ä½ï¼Œæ—¥è®¡åˆ’æ‹†åˆ†åˆ°æœ€å¤š1hèƒ½å®Œæˆçš„ç¨‹åº¦ã€‚æˆ‘ç°åœ¨åªåšå‘¨è®¡åˆ’å’Œæ—¥è®¡åˆ’ï¼Œè¿˜æ²¡æœ‰æœˆè®¡åˆ’ã€‚æ¯å‘¨æ—¥ç¡®å®šä¸‹å‘¨çš„æ—¥è®¡åˆ’ï¼Œæ¯å¤©å‰ä¸€å¤©ç¡®å®šåä¸€å¤©çš„æ—¥è®¡åˆ’ã€‚æœˆæœ«æˆ‘ä¼šåšå®šæœŸå›é¡¾å’Œæ•´ç†ï¼Œå…ˆè¿™æ ·æ‰§è¡Œï¼Œè§†æƒ…å†µè°ƒæ•´ã€‚</p>
<p><strong>æ¯å¤©æ€ä¹ˆå®‰æ’</strong>ï¼Ÿæˆ‘å‚è€ƒçš„æ˜¯Lex Fridmançš„æ¯æ—¥å·¥ä½œæµã€‚ä»–çš„æ—¥å¸¸æ˜¯è¿™æ ·çš„ï¼š</p>
<ul>
<li>deep work 4h</li>
<li>ç¤¾äº¤åª’ä½“å’ŒéŸ³ä¹ 30m</li>
<li>è¿åŠ¨ 2h</li>
<li>deep work 4h</li>
<li>æ™šé¤</li>
<li>shallow work 4h</li>
<li>æ™šé—´é˜…è¯» 2h</li>
</ul>
<p>æˆ‘çš„æ—¶é—´å®‰æ’ï¼š</p>
<ul>
<li>6:30 - 7:30 è‹±è¯­</li>
<li>7:30 - 8:50 ä¸Šç­</li>
<li>9:00 - 11: 15 Deep Work</li>
<li>11:15 - 11: 40 åˆé¥­</li>
<li>11ï¼š40 - 12:10 èµ„è®¯</li>
<li>12:10 - 13:10 è¯»ä¹¦</li>
<li>13:10 - 13:30 åˆä¼‘</li>
<li>13:30 - 17:30 Deep Work</li>
<li>17:30 - 16:20 ç¤¾äº¤åª’ä½“</li>
<li>18:20 - 19:00 å›å®¶</li>
<li>19:00 - 20:00 é”»ç‚¼</li>
<li>20:00 - 21:00 äº²å­æ—¶é—´</li>
<li>21:00 - 23:00 Shallow Work</li>
</ul>
<p>å·¥ä½œæ—¶é—´ä¸å›å¤ä¸é‡è¦çš„æ¶ˆæ¯ï¼Œæ—©ä¸Šä¼˜å…ˆåšæ˜¨å¤©è®¾å®šçš„3Frogä»»åŠ¡ï¼Œå‘¨æ—¥å‘¨æœ«æ—¶é—´è¡¨ä¸åŒï¼Œæˆ‘å¯èƒ½åœ¨å®¶å¸¦å¨ƒï¼Œæˆ–è€…æˆ·å¤–æ´»åŠ¨ã€‚åŒæ—¶ä¿è¯4å°æ—¶çš„é•¿æ–‡é˜…è¯»ï¼Œ4å°æ—¶çš„Deep Workã€‚</p>
<p><img src="https://ajiu9.cn/images/2023101520370316973734231697373423408sJebk1.png" alt="daily plan"></p>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[å›¾åºŠï¼ŒuPicå’Œé˜¿é‡Œossæ­å»ºå’Œä½¿ç”¨]]></title>
        <id>https://ajiu9.cn/posts/construction-and-use-of-picture-bed</id>
        <link href="https://ajiu9.cn/posts/construction-and-use-of-picture-bed"/>
        <updated>2023-09-16T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>å¯¹äºç»å¸¸å†™ç¬”è®°çš„äººæ¥è¯´ï¼Œå›¾ç‰‡æ˜¯å¿…ç„¶ä¸å¯å°‘çš„ã€‚ä¸ºäº†æ›´å¥½åœ°ç®¡ç†å’Œå±•ç¤ºå›¾ç‰‡ï¼Œå¯ä»¥æ­å»ºè‡ªå·±çš„å›¾åºŠã€‚è¿™æ˜¯ä¸€ç¯‡æ€»ç»“å¦‚ä½•ä½¿ç”¨uPicå’Œé˜¿é‡ŒOSSæ¥æ­å»ºå’Œä½¿ç”¨ä¸ªäººå›¾åºŠï¼Œè½»æ¾ä½¿ç”¨å›¾ç‰‡</p>
</blockquote>
<h3>å›¾åºŠä½¿ç”¨uPic</h3>
<pre><code class="language-cmd">brew install bigwig-club/brew/upic --cask
</code></pre>
<h3>é˜¿é‡ŒOSSç”³è¯·è´­ä¹°</h3>
<blockquote>
<p>OSSä½¿é˜¿é‡Œäº‘çš„å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œéœ€è¦ä»˜è´¹ä½¿ç”¨ï¼Œä½†æ˜¯å¯¹äºå¹³å¸¸çš„åšå®¢æ–‡ç« è€Œè¨€ï¼Œå¾ˆä¾¿å®œï¼Œæˆ‘ç°åœ¨æ˜¯ç”³è¯·çš„3ä¸ªæœˆå…è´¹ä½¿ç”¨ï¼Œå®é™…ä»˜è´¹ä¹Ÿä¸è´µï¼Œä¸€ä¸ªæœˆå°±2.16å…ƒï¼Œï¼ˆèµ„æºåŒ…å…³è”çš„æŒ‰é‡ä»˜è´¹å®ä¾‹ä¸åœæœºï¼ŒæŒ‰ä½¿ç”¨é‡æ”¶è´¹ï¼‰ï¼Œå°±å¹³å¸¸çš„è®¿é—®é‡è€Œè¨€ï¼Œä¼°è®¡æ˜¯å¾ˆéš¾è¶…è¿‡ä½¿ç”¨é‡çš„ã€‚</p>
</blockquote>
<p><img src="https://ajiu9.cn/images/IITkfA.png" alt="æ¯æœˆä»·æ ¼"></p>
<h3>é…ç½®OSS</h3>
<p>æœ‰äº†OSSåï¼Œéœ€è¦ç®€å•é…ç½®ä¸‹ï¼Œé˜¿é‡Œäº‘æœ‰å®˜æ–¹æ•™ç¨‹ï¼Œä¸€æ­¥ä¸€æ­¥å‡ åˆ†é’Ÿæå®šã€‚</p>
<ul>
<li>
<ol>
<li>åˆ›å»ºbucket <img src="/images/5eGHP4.png" alt="bucket"></li>
</ol>
</li>
<li>
<ol start="2">
<li>å‡»ç«‹å³åˆ›å»ºï¼Œå‹¾é€‰é…ç½®<img src="/images/nKvi0c.png" alt="é…ç½®"></li>
</ol>
</li>
<li>
<ol start="3">
<li>é…ç½®å®Œæˆï¼Œå¦‚æœæœ‰è‡ªå·±çš„åŸŸåçš„è¯å¯ä»¥é…ç½®å¥½è‡ªå·±çš„åŸŸåï¼Œ<s>æˆ‘ç°åœ¨ç”¨çš„æ˜¯é˜¿é‡Œäº‘çš„é»˜è®¤åŸŸåï¼Œè¿˜æ²¡ä¹°ï¼Œä¸‹æ¬¡å†ç”³è¯·</s></li>
</ol>
</li>
</ul>
<ol>
<li>åœ¨ AccessKeyç®¡ç†ä¸­æ‰¾åˆ°å¯¹åº”çš„keyå¡«å†™åˆ°uPicä¸­<img src="/images/20230917112327.png" alt="AccessKey"></li>
</ol>
<h3>uPicå›¾åºŠé…ç½®</h3>
<p>åœ¨uPicåå¥½è®¾ç½®ä¸­ï¼Œè®¾ç½®å¥½å›¾åºŠï¼<br>
<img src="/images/20230917162239169493895916949389595970bFTu6.png" alt="å›¾åºŠé…ç½®"></p>
<h3>å®Œæˆ</h3>
<p>é…ç½®å®Œæˆåå°±å¯ä»¥æ„‰å¿«çš„å¼•ç”¨å›¾ç‰‡åˆ°æ–‡ç« ä¸­äº†ï¼Œæœ€åå¯ä»¥è®¾ç½®ä¸‹å›¾åºŠçš„å¿«æ·é”®<img src="/images/2023091716261416949391741694939174953lwT8Qv.png" alt="å¿«æ·é”®"></p>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[å‰ç«¯webpackæ„å»ºæé€Ÿ]]></title>
        <id>https://ajiu9.cn/posts/webpack-building-speed-up</id>
        <link href="https://ajiu9.cn/posts/webpack-building-speed-up"/>
        <updated>2023-01-04T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<p>1.ä½¿ç”¨speed-measure-webpack-pluginè¿›è¡Œé€Ÿåº¦åˆ†æ</p>
<pre><code class="language-javascript">// å®‰è£…
npm install --save-dev speed-measure-webpack-plugin
// ä½¿ç”¨æ–¹å¼
const SpeedMeasurePlugin = require(&quot;speed-measure-webpack-plugin&quot;);
const smp = new SpeedMeasurePlugin();
const webpackConfig = smp.wrap({
  plugins: [
    new MyPlugin(),
    new MyOtherPlugin()
  ]
});
</code></pre>
<ol start="2">
<li>ä½¿ç”¨webpack-bundle-analyzerè¿›è¡Œä½“ç§¯åˆ†æ</li>
</ol>
<pre><code class="language-javascript">// å®‰è£…
npm install --save-dev webpack-bundle-analyzer
// ä½¿ç”¨
const BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin;
module.exports = {
 plugins: [
   new BundleAnalyzerPlugin()
 ]
}
</code></pre>
<ol start="3">
<li>ä½¿ç”¨å¤šè¿›ç¨‹ã€å¤šå®ä¾‹æ„å»º
<blockquote>
<p>ä½¿ç”¨<a href="https://webpack.js.org/loaders/thread-loader/">thread-loader</a>: æ¯æ¬¡ webpack è§£æä¸€ä¸ªæ¨¡å—ï¼Œthread-loader ä¼šå°†å®ƒåŠå®ƒçš„ä¾èµ–åˆ†é…ç»™ worker çº¿ç¨‹ä¸­</p>
</blockquote>
</li>
</ol>
<pre><code class="language-javascript">// webpack.config.js
const os = require('os')
const threads = os.cpus().length
console.info('ç¼–è¯‘çº¿ç¨‹æ•° =&gt; ', threads)
module.exports = {
  config.module
    .rule('vue')
    .use('thread-loader')
    .loader('thread-loader')
    .options({
      workers: threads
    })
    .end()
  config.module
    .rule('js')
    .use('thread-loader')
    .loader('thread-loader')
    .options({
      workers: threads
    })
    .end()
};
</code></pre>
<ol start="4">
<li>åˆ©ç”¨ç¼“å­˜æå‡äºŒæ¬¡æ„å»ºé€Ÿåº¦
<blockquote>
<p><a href="https://webpack.js.org/configuration/cache/#cachetype">bable-loader</a>æä¾›äº†ä¸€ä¸ªå‚æ•°æ¥ä½¿ç”¨ç¼“å­˜, æœ‰false,memory, filesystemç­‰é…ç½®</p>
</blockquote>
</li>
</ol>
<pre><code class="language-javascript">module.exports = {
  //...
  cache: {
    type: 'filesystem',
  },
};
</code></pre>
<ol start="5">
<li>åœ¨webpackæ„å»ºè¿‡ç¨‹ä¸­ç§»é™¤æ— ç”¨çš„cssä»£ç æ–¹å¼
<blockquote>
<p><a href="https://www.npmjs.com/package/mini-css-extract-plugin">mini-css-extract-plugin</a>æ­¤æ’ä»¶å°†CSSæå–åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚å®ƒä¸ºæ¯ä¸ªåŒ…å«CSSçš„JSæ–‡ä»¶åˆ›å»ºä¸€ä¸ªCSSæ–‡ä»¶ã€‚å®ƒæ”¯æŒCSSå’ŒSourceMapsçš„æŒ‰éœ€åŠ è½½ã€‚<br>
å®ƒå»ºç«‹åœ¨æ–°çš„webpack v5åŠŸèƒ½ä¹‹ä¸Šï¼Œéœ€è¦webpack 5æ‰èƒ½å·¥ä½œã€‚</p>
</blockquote>
</li>
</ol>
<pre><code class="language-javascript">const MiniCssExtractPlugin = require(&quot;mini-css-extract-plugin&quot;);

module.exports = {
  plugins: [new MiniCssExtractPlugin()],
  module: {
    rules: [
      {
        test: /\.css$/i,
        use: [MiniCssExtractPlugin.loader, &quot;css-loader&quot;],
      },
    ],
  },
};
</code></pre>
<p>6.å¯¹å›¾ç‰‡è¿›è¡Œä¼˜åŒ–</p>
<blockquote>
<p>ä½¿ç”¨<a href="https://webpack.js.org/configuration/module/#ruleparserdataurlcondition">ruleparserdataurlcondition</a>å‡å°‘httpè¯·æ±‚</p>
</blockquote>
<pre><code class="language-javascript">module.exports = {
  //...
  module: {
    rules: [
      {
        //...
        parser: {
          dataUrlCondition: {
            maxSize: 4 * 1024,
          },
        },
      },
    ],
  },
};
</code></pre>
<p>7.åœ¨ç”Ÿäº§æ„å»ºæ—¶ï¼Œä½¿ç”¨ä»£ç æ‹†åˆ†ã€splitChunksä¼˜åŒ–</p>
<blockquote>
<p><a href="https://webpack.js.org/configuration/optimization/">optimization</a>å¼€å¯minimizeï¼š true, é…ç½®<a href="https://webpack.js.org/configuration/optimization/#optimizationsplitchunks">splitChunks</a>æ¥æ‹†åˆ†åˆå¹¶ä»£ç ï¼Œä¼˜åŒ–ç”Ÿäº§ç¯å¢ƒçš„ä»£ç ï¼Œå¯¹å¸¸ç”¨çš„å…¬ç”¨ä»£ç ä½¿ç”¨CDN<br>
<a href="https://medium.com/webpack/webpack-4-code-splitting-chunk-graph-and-the-splitchunks-optimization-be739a861366">webpack-4-code-splitting-chunk-graph-and-the-splitchunks-optimization</a><br>
æ¯”å¦‚å¯¹ç¬¬äºŒæ­¥ä¸­ä½¿ç”¨webpack-bundle-analyzerè¿›è¡Œä½“ç§¯åˆ†æåå¾—åˆ°çš„ä¼˜åŒ–å»ºè®®ï¼Œå¯ä»¥é…ç½®ä¸€ä¸‹ä»£ç æ¥è¿›è¡Œä¼˜åŒ–</p>
</blockquote>
<pre><code class="language-javascript">module.exports = {
splitChunks: {
      chunks: 'async',
      minChunks: 1,
      maxInitialRequests: 30,
      minSize: 0,
      cacheGroups: {
        default: {
          minChunks: 1,
          priority: -20,
          reuseExistingChunk: true
        },
        coreJs: {
          chunks: 'all',
          name: 'lib.core-js',
          test: /[\\/]node_modules[\\/]core-js[\\/]/
        },
        axios: {
          chunks: 'all',
          name: 'lib.axios',
          test: /[\\/]node_modules[\\/](axios|axios-ex)[\\/]/
        },
        handsontable: {
          chunks: 'all',
          name: 'lib.handsontable',
          test: /[\\/]node_modules[\\/](handsontable|@handsontable)[\\/]/
        },
        lodash: {
          chunks: 'all',
          name: 'lib.lodash',
          test: /[\\/]node_modules[\\/]lodash[\\/]/
        },
        moment: {
          chunks: 'all',
          name: 'lib.moment',
          test: /[\\/]node_modules[\\/]moment[\\/]/
        },
        i18n: {
          chunks: 'all',
          name: 'lib.i18n',
          test: /[\\/]node_modules[\\/]vue-i18n[\\/]/
        },
        common: {
          chunks: 'all',
          name: 'lib.common',
          priority: 0,
          test(module) {
            const includes = [
              'intro.js',
              'countup.js',
              'qs',
              'node-rsa',
              'vue-grid-layout'
            ]
            return (
              module.resource &amp;&amp;
              includes.some(pkg =&gt;
                module.resource.includes(
                  `${sep}node_modules${sep}${pkg}${sep}`
                )
              )
            )
          }
        }
      }
    }
}
</code></pre>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¦‚ä½•å®ç°ä¸€ä¸ªæ·±æµ…æ‹·è´]]></title>
        <id>https://ajiu9.cn/posts/how-to-achieve-a-deep-copy</id>
        <link href="https://ajiu9.cn/posts/how-to-achieve-a-deep-copy"/>
        <updated>2021-01-21T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<p>åœ¨ JavaScript çš„ç¼–ç¨‹ä¸­ç»å¸¸éœ€è¦å¯¹æ•°æ®è¿›è¡Œå¤åˆ¶ï¼Œä»€ä¹ˆæ—¶å€™ç”¨æ·±æ‹·è´ã€ä»€ä¹ˆæ—¶å€™ç”¨æµ…æ‹·è´ï¼Ÿ<br>
æ‹·è´ä¸€ä¸ªå¾ˆå¤šåµŒå¥—çš„å¯¹è±¡æ€ä¹ˆå®ç°ï¼Ÿ<br>
å†™æˆä»€ä¹ˆæ ·çš„æ·±æ‹·è´ä»£ç æ‰èƒ½ç®—åˆæ ¼ï¼Ÿ</p>
<h3>æµ…æ‹·è´çš„åŸç†å’Œå®ç°</h3>
<p>å¯¹äºæµ…æ‹·è´çš„å®šä¹‰æˆ‘ä»¬å¯ä»¥åˆæ­¥ç†è§£ä¸ºï¼š</p>
<blockquote>
<p>è‡ªå·±åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œæ¥æ¥å—ä½ è¦é‡æ–°å¤åˆ¶æˆ–å¼•ç”¨çš„å¯¹è±¡å€¼ã€‚å¦‚æœå¯¹è±¡å±æ€§æ˜¯åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œå¤åˆ¶çš„å°±æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ç»™æ–°å¯¹è±¡ï¼›ä½†å¦‚æœå±æ€§æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œå¤åˆ¶çš„å°±æ˜¯å†…å­˜ä¸­çš„åœ°å€ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªå¯¹è±¡æ”¹å˜äº†è¿™ä¸ªå†…å­˜ä¸­çš„åœ°å€ï¼Œè‚¯å®šä¼šå½±å“åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚</p>
</blockquote>
<p>ä¸‹é¢æ€»ç»“äº†ä¸€äº› JavaScript æä¾›çš„æµ…æ‹·è´æ–¹æ³•ï¼Œä¸€èµ·æ¥çœ‹çœ‹å“ªäº›æ–¹æ³•èƒ½å®ç°ä¸Šè¿°å®šä¹‰æ‰€æè¿°çš„è¿‡ç¨‹ã€‚</p>
<h4>æ–¹æ³•ä¸€ï¼šobject.assign</h4>
<p>object.assign æ˜¯ ES6 ä¸­ object çš„ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ä»¥ç”¨äº JS å¯¹è±¡çš„åˆå¹¶ç­‰å¤šä¸ªç”¨é€”ï¼Œå…¶ä¸­ä¸€ä¸ªç”¨é€”å°±æ˜¯å¯ä»¥è¿›è¡Œæµ…æ‹·è´ã€‚è¯¥æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ‹·è´çš„ç›®æ ‡å¯¹è±¡ï¼Œåé¢çš„å‚æ•°æ˜¯æ‹·è´çš„æ¥æºå¯¹è±¡ï¼ˆä¹Ÿå¯ä»¥æ˜¯å¤šä¸ªæ¥æºï¼‰ã€‚</p>
<blockquote>
<p><code>**Object.assign()**</code>æ–¹æ³•ç”¨äºå°†æ‰€æœ‰å¯æšä¸¾å±æ€§çš„å€¼ä»ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡åˆ†é…åˆ°ç›®æ ‡å¯¹è±¡ã€‚å®ƒå°†è¿”å›ç›®æ ‡å¯¹è±¡ã€‚</p>
</blockquote>
<pre><code class="language-js">const target = {}
const source = { a: { b: 1 } }
Object.assign(target, source)
console.log(target) // { a: { b: 1 } };
</code></pre>
<p>ä»ä¸Šé¢çš„ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ object.assign ç®€å•å®ç°äº†ä¸€ä¸ªæµ…æ‹·è´ï¼Œâ€œtargetâ€å°±æ˜¯æ–°æ‹·è´çš„å¯¹è±¡ï¼Œä¸‹é¢å†çœ‹ä¸€ä¸ªå’Œä¸Šé¢ä¸å¤ªä¸€æ ·çš„ä¾‹å­ã€‚</p>
<pre><code class="language-js">const target = {}
const source = { a: { b: 1 } }
Object.assign(target, source)
console.log(target) // { a: { b: 10 } };
source.a.b = 10
console.log(source) // { a: { b: 10 } };
console.log(target) // { a: { b: 10 } };
</code></pre>
<p>ä»ä¸Šé¢ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œé¦–å…ˆé€šè¿‡ Object.assign å°† source æ‹·è´åˆ° target å¯¹è±¡ä¸­ï¼Œç„¶åå°† source å¯¹è±¡ä¸­çš„ b å±æ€§ç”± 2 ä¿®æ”¹ä¸º 10ã€‚é€šè¿‡æ§åˆ¶å°å¯ä»¥å‘ç°ï¼Œæ‰“å°ç»“æœä¸­ï¼Œä¸‰ä¸ª target é‡Œçš„ b å±æ€§éƒ½å˜ä¸º 10 äº†ï¼Œè¯æ˜ Object.assign æš‚æ—¶å®ç°äº†æˆ‘ä»¬æƒ³è¦çš„æ‹·è´æ•ˆæœã€‚</p>
<p>ä½¿ç”¨ object.assign æ–¹æ³•æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p>
<ul>
<li>å®ƒä¸ä¼šæ‹·è´å¯¹è±¡çš„ç»§æ‰¿å±æ€§ï¼›</li>
<li>å®ƒä¸ä¼šæ‹·è´å¯¹è±¡çš„ä¸å¯æšä¸¾çš„å±æ€§ï¼›</li>
<li>å¯ä»¥æ‹·è´ Symbol ç±»å‹çš„å±æ€§ã€‚</li>
</ul>
<p>å¯ä»¥ç®€å•ç†è§£ä¸ºï¼šObject.assign å¾ªç¯éå†åŸå¯¹è±¡çš„å±æ€§ï¼Œé€šè¿‡å¤åˆ¶çš„æ–¹å¼å°†å…¶èµ‹å€¼ç»™ç›®æ ‡å¯¹è±¡çš„ç›¸åº”å±æ€§ï¼Œæ¥çœ‹ä¸€ä¸‹è¿™æ®µä»£ç ï¼Œä»¥éªŒè¯å®ƒå¯ä»¥æ‹·è´ Symbol ç±»å‹çš„å¯¹è±¡ã€‚</p>
<pre><code class="language-js">const obj1 = { a: { b: 1 }, sym: Symbol(1) }
Object.defineProperty(obj1, 'innumerable', {
  value: 'ä¸å¯æšä¸¾å±æ€§',
  enumerable: false
})
const obj2 = {}
Object.assign(obj2, obj1)
obj1.a.b = 2
console.log('obj1', obj1)
console.log('obj2', obj2)
</code></pre>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ§åˆ¶å°æ‰“å°çš„ç»“æœï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://ajiu9.cn/images/20240316211739l57kt9.png" alt="å›¾ç‰‡"></p>
<p>ä»ä¸Šé¢çš„ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œåˆ©ç”¨ object.assign ä¹Ÿå¯ä»¥æ‹·è´ Symbol ç±»å‹çš„å¯¹è±¡ï¼Œä½†æ˜¯å¦‚æœåˆ°äº†å¯¹è±¡çš„ç¬¬äºŒå±‚å±æ€§ obj1.a.b è¿™é‡Œçš„æ—¶å€™ï¼Œå‰è€…å€¼çš„æ”¹å˜ä¹Ÿä¼šå½±å“åè€…çš„ç¬¬äºŒå±‚å±æ€§çš„å€¼ï¼Œè¯´æ˜å…¶ä¸­ä¾æ—§å­˜åœ¨ç€è®¿é—®å…±åŒå †å†…å­˜çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ç§æ–¹æ³•è¿˜ä¸èƒ½è¿›ä¸€æ­¥å¤åˆ¶ï¼Œè€Œåªæ˜¯å®Œæˆäº†æµ…æ‹·è´çš„åŠŸèƒ½ã€‚</p>
<h4>æ–¹æ³•äºŒï¼šæ‰©å±•è¿ç®—ç¬¦æ–¹å¼</h4>
<p>åˆ©ç”¨ JS çš„æ‰©å±•è¿ç®—ç¬¦ï¼Œåœ¨æ„é€ å¯¹è±¡çš„åŒæ—¶å®Œæˆæµ…æ‹·è´çš„åŠŸèƒ½ã€‚</p>
<p>æ‰©å±•è¿ç®—ç¬¦çš„è¯­æ³•ä¸ºï¼šlet cloneObj = { â€¦obj };</p>
<pre><code class="language-js">/* å¯¹è±¡çš„æ‹·è´ */
const obj = { a: 1, b: { c: 1 } }
const obj2 = { ...obj }
obj.a = 2
console.log(obj) // {a:2,b:{c:1}} console.log(obj2); //{a:1,b:{c:1}}
obj.b.c = 2
console.log(obj) // {a:2,b:{c:2}} console.log(obj2); //{a:1,b:{c:2}}
/* æ•°ç»„çš„æ‹·è´ */
const arr = [1, 2, 3]
const newArr = [...arr] // è·Ÿarr.slice()æ˜¯ä¸€æ ·çš„æ•ˆæœ
</code></pre>
<p>æ‰©å±•è¿ç®—ç¬¦ å’Œ object.assign æœ‰åŒæ ·çš„ç¼ºé™·ï¼Œä¹Ÿå°±æ˜¯å®ç°çš„æµ…æ‹·è´çš„åŠŸèƒ½å·®ä¸å¤šï¼Œä½†æ˜¯å¦‚æœå±æ€§éƒ½æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ï¼Œä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦è¿›è¡Œæµ…æ‹·è´ä¼šæ›´åŠ æ–¹ä¾¿ã€‚</p>
<h4>æ–¹æ³•ä¸‰ï¼šconcat æ‹·è´æ•°ç»„</h4>
<p>æ•°ç»„çš„ concat æ–¹æ³•å…¶å®ä¹Ÿæ˜¯æµ…æ‹·è´ï¼Œæ‰€ä»¥è¿æ¥ä¸€ä¸ªå«æœ‰å¼•ç”¨ç±»å‹çš„æ•°ç»„æ—¶ï¼Œéœ€è¦æ³¨æ„ä¿®æ”¹åŸæ•°ç»„ä¸­çš„å…ƒç´ çš„å±æ€§ï¼Œå› ä¸ºå®ƒä¼šå½±å“æ‹·è´ä¹‹åè¿æ¥çš„æ•°ç»„ã€‚ä¸è¿‡ concat åªèƒ½ç”¨äºæ•°ç»„çš„æµ…æ‹·è´ï¼Œä½¿ç”¨åœºæ™¯æ¯”è¾ƒå±€é™ã€‚ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<pre><code class="language-js">const arr = [1, 2, 3]
const newArr = arr.concat()
newArr[1] = 100
console.log(arr) // [ 1, 2, 3 ]
console.log(newArr) // [ 1, 100, 3 ]
</code></pre>
<h4>æ–¹æ³•å››ï¼šslice æ‹·è´æ•°ç»„</h4>
<p>slice æ–¹æ³•ä¹Ÿæ¯”è¾ƒæœ‰å±€é™æ€§ï¼Œå› ä¸ºå®ƒä»…ä»…é’ˆå¯¹æ•°ç»„ç±»å‹ã€‚slice æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡ç”±è¯¥æ–¹æ³•çš„å‰ä¸¤ä¸ªå‚æ•°æ¥å†³å®šåŸæ•°ç»„æˆªå–çš„å¼€å§‹å’Œç»“æŸæ—¶é—´ï¼Œæ˜¯ä¸ä¼šå½±å“å’Œæ”¹å˜åŸå§‹æ•°ç»„çš„ã€‚</p>
<blockquote>
<p>slice çš„è¯­æ³•ä¸ºï¼šarr.slice(begin, end);</p>
</blockquote>
<pre><code class="language-js">const arr = [1, 2, { val: 4 }]
const newArr = arr.slice()
newArr[2].val = 1000
console.log(arr) // [ 1, 2, { val: 1000 } ]
</code></pre>
<p>æµ…æ‹·è´â€”â€”å®ƒåªèƒ½æ‹·è´ä¸€å±‚å¯¹è±¡ã€‚å¦‚æœå­˜åœ¨å¯¹è±¡çš„åµŒå¥—ï¼Œé‚£ä¹ˆæµ…æ‹·è´å°†æ— èƒ½ä¸ºåŠ›ã€‚å› æ­¤æ·±æ‹·è´å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œç”Ÿçš„ï¼Œå®ƒèƒ½è§£å†³å¤šå±‚å¯¹è±¡åµŒå¥—é—®é¢˜ï¼Œå½»åº•å®ç°æ‹·è´ã€‚</p>
<h3>æ‰‹å·¥å®ç°ä¸€ä¸ªæµ…æ‹·è´</h3>
<ol>
<li>å¯¹åŸºç¡€ç±»å‹åšä¸€ä¸ªæœ€åŸºæœ¬çš„ä¸€ä¸ªæ‹·è´ï¼›</li>
<li>å¯¹å¼•ç”¨ç±»å‹å¼€è¾Ÿä¸€ä¸ªæ–°çš„å­˜å‚¨ï¼Œå¹¶ä¸”æ‹·è´ä¸€å±‚å¯¹è±¡å±æ€§ã€‚</li>
</ol>
<pre><code class="language-js">function shallowClone(target) {
  if (typeof target == 'object' &amp;&amp; target !== null) {
    const cloneTarget = Array.isArray(target) ? [] : {}
    for (const prop in target) {
      if (target.hasOwnProperty(prop))
        cloneTarget[prop] = target[prop]
    }
    return cloneTarget
  }
  else {
    return target
  }
}
</code></pre>
<h3>æ·±æ‹·è´çš„åŸç†å’Œå®ç°</h3>
<p>æµ…æ‹·è´åªæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¤åˆ¶äº†åŸæœ‰å¯¹è±¡çš„åŸºæœ¬ç±»å‹çš„å€¼ï¼Œè€Œå¼•ç”¨æ•°æ®ç±»å‹åªæ‹·è´äº†ä¸€å±‚å±æ€§ï¼Œå†æ·±å±‚çš„è¿˜æ˜¯æ— æ³•è¿›è¡Œæ‹·è´ã€‚æ·±æ‹·è´åˆ™ä¸åŒï¼Œå¯¹äºå¤æ‚å¼•ç”¨æ•°æ®ç±»å‹ï¼Œå…¶åœ¨å †å†…å­˜ä¸­å®Œå…¨å¼€è¾Ÿäº†ä¸€å—å†…å­˜åœ°å€ï¼Œå¹¶å°†åŸæœ‰çš„å¯¹è±¡å®Œå…¨å¤åˆ¶è¿‡æ¥å­˜æ”¾ã€‚</p>
<p>è¿™ä¸¤ä¸ªå¯¹è±¡æ˜¯ç›¸äº’ç‹¬ç«‹ã€ä¸å—å½±å“çš„ï¼Œå½»åº•å®ç°äº†å†…å­˜ä¸Šçš„åˆ†ç¦»ã€‚æ€»çš„æ¥è¯´ï¼Œæ·±æ‹·è´çš„åŸç†å¯ä»¥æ€»ç»“å¦‚ä¸‹ï¼š</p>
<p>å°†ä¸€ä¸ªå¯¹è±¡ä»å†…å­˜ä¸­å®Œæ•´åœ°æ‹·è´å‡ºæ¥ä¸€ä»½ç»™ç›®æ ‡å¯¹è±¡ï¼Œå¹¶ä»å †å†…å­˜ä¸­å¼€è¾Ÿä¸€ä¸ªå…¨æ–°çš„ç©ºé—´å­˜æ”¾æ–°å¯¹è±¡ï¼Œä¸”æ–°å¯¹è±¡çš„ä¿®æ”¹å¹¶ä¸ä¼šæ”¹å˜åŸå¯¹è±¡ï¼ŒäºŒè€…å®ç°çœŸæ­£çš„åˆ†ç¦»ã€‚</p>
<h4>æ–¹æ³•ä¸€ï¼šJSON.stringfly</h4>
<p>JSON.stringfly() æ˜¯ç›®å‰å¼€å‘è¿‡ç¨‹ä¸­æœ€ç®€å•çš„æ·±æ‹·è´æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯æŠŠä¸€ä¸ªå¯¹è±¡åºåˆ—åŒ–æˆä¸º JSON çš„å­—ç¬¦ä¸²ï¼Œå¹¶å°†å¯¹è±¡é‡Œé¢çš„å†…å®¹è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œæœ€åå†ç”¨ JSON.parse() çš„æ–¹æ³•å°†JSON å­—ç¬¦ä¸²ç”Ÿæˆä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<pre><code class="language-js">const obj1 = { a: 1, b: [1, 2, 3] }
const str = JSON.stringify(obj1)
const obj2 = JSON.parse(str)
console.log(obj2) // {a:1,b:[1,2,3]}
obj1.a = 2
obj1.b.push(4)
console.log(obj1) // {a:2,b:[1,2,3,4]}
console.log(obj2) // {a:1,b:[1,2,3]}
</code></pre>
<p>ä»ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ JSON.stringfly å¯ä»¥åˆæ­¥å®ç°ä¸€ä¸ªå¯¹è±¡çš„æ·±æ‹·è´ï¼Œé€šè¿‡æ”¹å˜ obj1 çš„ b å±æ€§ï¼Œå…¶å®å¯ä»¥çœ‹å‡º obj2 è¿™ä¸ªå¯¹è±¡ä¹Ÿä¸å—å½±å“ã€‚<br>
ä½†æ˜¯ä½¿ç”¨ JSON.stringfly å®ç°æ·±æ‹·è´è¿˜æ˜¯æœ‰ä¸€äº›åœ°æ–¹å€¼å¾—æ³¨æ„ï¼Œæ€»ç»“ä¸‹æ¥ä¸»è¦æœ‰è¿™å‡ ç‚¹ï¼š</p>
<ol>
<li>æ‹·è´çš„å¯¹è±¡çš„å€¼ä¸­å¦‚æœæœ‰å‡½æ•°ã€undefinedã€symbol è¿™å‡ ç§ç±»å‹ï¼Œç»è¿‡ JSON.stringify åºåˆ—åŒ–ä¹‹åçš„å­—ç¬¦ä¸²ä¸­è¿™ä¸ªé”®å€¼å¯¹ä¼šæ¶ˆå¤±ï¼›</li>
<li>æ‹·è´ Date å¼•ç”¨ç±»å‹ä¼šå˜æˆå­—ç¬¦ä¸²ï¼›</li>
<li>æ— æ³•æ‹·è´ä¸å¯æšä¸¾çš„å±æ€§ï¼›</li>
<li>æ— æ³•æ‹·è´å¯¹è±¡çš„åŸå‹é“¾ï¼›</li>
<li>æ‹·è´ RegExp å¼•ç”¨ç±»å‹ä¼šå˜æˆç©ºå¯¹è±¡ï¼›</li>
<li>å¯¹è±¡ä¸­å«æœ‰ NaNã€Infinity ä»¥åŠ -Infinityï¼ŒJSON åºåˆ—åŒ–çš„ç»“æœä¼šå˜æˆ nullï¼›</li>
</ol>
<pre><code class="language-js">function Obj() {
  this.func = function () { alert(1) }
  this.obj = { a: 1 }
  this.arr = [1, 2, 3]
  this.und = undefined
  this.reg = /123/
  this.date = new Date(0)
  this.NaN = Number.NaN
  this.infinity = Number.POSITIVE_INFINITY
  this.sym = Symbol(1)
}
const obj1 = new Obj()
Object.defineProperty(obj1, 'innumerable', {
  enumerable: false,
  value: 'innumerable'
})
console.log('obj1', obj1)
const str = JSON.stringify(obj1)
const obj2 = JSON.parse(str)
console.log('obj2', obj2)
</code></pre>
<p>é€šè¿‡ä¸Šé¢è¿™æ®µä»£ç å¯ä»¥çœ‹åˆ°æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src="/images/20240316211813QB9z6C.png" alt="å›¾ç‰‡"></p>
<p>ä½¿ç”¨ JSON.stringify æ–¹æ³•å®ç°æ·±æ‹·è´å¯¹è±¡ï¼Œè™½ç„¶åˆ°ç›®å‰ä¸ºæ­¢è¿˜æœ‰å¾ˆå¤šæ— æ³•å®ç°çš„åŠŸèƒ½ï¼Œ<br>
å¯¹äºå…¶ä»–çš„ä¹Ÿè¦å®ç°æ·±æ‹·è´çš„ï¼ŒJSON.stringify æš‚æ—¶è¿˜æ˜¯æ— æ³•æ»¡è¶³çš„ï¼Œå°±éœ€è¦ä¸‹é¢çš„å‡ ç§æ–¹æ³•ã€‚</p>
<h4>æ–¹æ³•äºŒï¼šåŸºç¡€ç‰ˆï¼ˆæ‰‹å†™é€’å½’å®ç°ï¼‰</h4>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®ç° deepClone å‡½æ•°å°è£…çš„ä¾‹å­ï¼Œé€šè¿‡ for in éå†ä¼ å…¥å‚æ•°çš„å±æ€§å€¼ï¼Œå¦‚æœå€¼æ˜¯å¼•ç”¨ç±»å‹åˆ™å†æ¬¡é€’å½’è°ƒç”¨è¯¥å‡½æ•°ï¼Œå¦‚æœæ˜¯åŸºç¡€æ•°æ®ç±»å‹å°±ç›´æ¥å¤åˆ¶ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<pre><code class="language-js">const obj1 = {
  a: {
    b: 1,
  },
}
function deepClone(obj) {
  const cloneObj = {}
  for (const key in obj) {
    if (typeof obj[key] === 'object' &amp;&amp; typeof obj[key] !== null)
      cloneObj[key] = deepClone(obj[key])
    else
      cloneObj[key] = obj[key]
  }
  return cloneObj
}
const obj2 = deepClone(obj1)
obj1.a.b = 2
console.log(obj2) //  {a:{b:1}}
</code></pre>
<p>è™½ç„¶åˆ©ç”¨é€’å½’èƒ½å®ç°ä¸€ä¸ªæ·±æ‹·è´ï¼Œä½†æ˜¯åŒä¸Šé¢çš„ JSON.stringfly ä¸€æ ·ï¼Œè¿˜æ˜¯æœ‰ä¸€äº›é—®é¢˜æ²¡æœ‰å®Œå…¨è§£å†³ï¼Œä¾‹å¦‚ï¼š</p>
<ol>
<li>è¿™ä¸ªæ·±æ‹·è´å‡½æ•°å¹¶ä¸èƒ½å¤åˆ¶ä¸å¯æšä¸¾çš„å±æ€§ä»¥åŠ Symbol ç±»å‹ï¼›</li>
<li>è¿™ç§æ–¹æ³•åªæ˜¯é’ˆå¯¹æ™®é€šçš„å¼•ç”¨ç±»å‹çš„å€¼åšé€’å½’å¤åˆ¶ï¼Œè€Œå¯¹äº Arrayã€Dateã€RegExpã€Errorã€Function è¿™æ ·çš„å¼•ç”¨ç±»å‹å¹¶ä¸èƒ½æ­£ç¡®åœ°æ‹·è´ï¼›</li>
<li>å¯¹è±¡çš„å±æ€§é‡Œé¢æˆç¯ï¼Œå³å¾ªç¯å¼•ç”¨æ²¡æœ‰è§£å†³ã€‚</li>
</ol>
<p>ä¸‹é¢ä¸€èµ·çœ‹çœ‹æ”¹è¿›çš„ç‰ˆæœ¬ã€‚</p>
<h4>æ–¹æ³•ä¸‰ï¼šæ”¹è¿›ç‰ˆï¼ˆæ”¹è¿›åé€’å½’å®ç°ï¼‰</h4>
<p>é’ˆå¯¹ä¸Šé¢å‡ ä¸ªå¾…è§£å†³é—®é¢˜ï¼Œå…ˆé€šè¿‡å››ç‚¹ç›¸å…³çš„ç†è®ºåˆ†æåˆ†åˆ«åº”è¯¥æ€ä¹ˆåšã€‚</p>
<ol>
<li>é’ˆå¯¹èƒ½å¤Ÿéå†å¯¹è±¡çš„ä¸å¯æšä¸¾å±æ€§ä»¥åŠ Symbol ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Reflect.ownKeys æ–¹æ³•ï¼›</li>
<li>å½“å‚æ•°ä¸º Dateã€RegExp ç±»å‹ï¼Œåˆ™ç›´æ¥ç”Ÿæˆä¸€ä¸ªæ–°çš„å®ä¾‹è¿”å›ï¼›</li>
<li>åˆ©ç”¨ Object çš„ getOwnPropertyDescriptors æ–¹æ³•å¯ä»¥è·å¾—å¯¹è±¡çš„æ‰€æœ‰å±æ€§ï¼Œä»¥åŠå¯¹åº”çš„ç‰¹æ€§ï¼Œé¡ºä¾¿ç»“åˆ Object çš„ create æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¹¶ç»§æ‰¿ä¼ å…¥åŸå¯¹è±¡çš„åŸå‹é“¾ï¼›</li>
<li>åˆ©ç”¨ WeakMap ç±»å‹ä½œä¸º Hash è¡¨ï¼Œå› ä¸º WeakMap æ˜¯å¼±å¼•ç”¨ç±»å‹ï¼Œå¯ä»¥æœ‰æ•ˆé˜²æ­¢å†…å­˜æ³„æ¼ï¼ˆä½ å¯ä»¥å…³æ³¨ä¸€ä¸‹ Map å’Œ weakMap çš„å…³é”®åŒºåˆ«ï¼Œè¿™é‡Œè¦ç”¨ weakMapï¼‰ï¼Œä½œä¸ºæ£€æµ‹å¾ªç¯å¼•ç”¨å¾ˆæœ‰å¸®åŠ©ï¼Œå¦‚æœå­˜åœ¨å¾ªç¯ï¼Œåˆ™å¼•ç”¨ç›´æ¥è¿”å› WeakMap å­˜å‚¨çš„å€¼ã€‚</li>
</ol>
<p>é‚£ä¹ˆé’ˆå¯¹ä¸Šé¢è¿™å‡ ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹æ”¹è¿›åçš„é€’å½’å®ç°çš„æ·±æ‹·è´ä»£ç åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<pre><code class="language-js">const isComplexDataType = obj =&gt; (typeof obj === 'object' || typeof obj === 'function') &amp;&amp; (obj !== null)
const deepClone = function (obj, hash = new WeakMap()) {
  if (obj.constructor === Date)
    return new Date(obj) // æ—¥æœŸå¯¹è±¡ç›´æ¥è¿”å›ä¸€ä¸ªæ–°çš„æ—¥æœŸå¯¹è±¡
  if (obj.constructor === RegExp)
    return new RegExp(obj) // æ­£åˆ™å¯¹è±¡ç›´æ¥è¿”å›ä¸€ä¸ªæ–°çš„æ­£åˆ™å¯¹è±¡
  // å¦‚æœå¾ªç¯å¼•ç”¨äº†å°±ç”¨ weakMap æ¥è§£å†³
  if (hash.has(obj))
    return hash.get(obj)
  const allDesc = Object.getOwnPropertyDescriptors(obj)
  // éå†ä¼ å…¥å‚æ•°æ‰€æœ‰é”®çš„ç‰¹æ€§
  const cloneObj = Object.create(Object.getPrototypeOf(obj), allDesc)
  // ç»§æ‰¿åŸå‹é“¾
  hash.set(obj, cloneObj)
  for (const key of Reflect.ownKeys(obj))
    cloneObj[key] = (isComplexDataType(obj[key]) &amp;&amp; typeof obj[key] !== 'function') ? deepClone(obj[key], hash) : obj[key]

  return cloneObj
}
// ä¸‹é¢æ˜¯éªŒè¯ä»£ç 
let obj = {
  num: 0,
  str: '',
  boolean: true,
  unf: undefined,
  nul: null,
  obj: { name: 'æˆ‘æ˜¯ä¸€ä¸ªå¯¹è±¡', id: 1 },
  arr: [0, 1, 2],
  func() { console.log('æˆ‘æ˜¯ä¸€ä¸ªå‡½æ•°') },
  date: new Date(0),
  reg: new RegExp('/æˆ‘æ˜¯ä¸€ä¸ªæ­£åˆ™/ig'),
  [Symbol('1')]: 1,
}
Object.defineProperty(obj, 'innumerable', {
  enumerable: false,
  value: 'ä¸å¯æšä¸¾å±æ€§'
})
obj = Object.create(obj, Object.getOwnPropertyDescriptors(obj))
obj.loop = obj // è®¾ç½®loopæˆå¾ªç¯å¼•ç”¨çš„å±æ€§
const cloneObj = deepClone(obj)
cloneObj.arr.push(4)
console.log('obj', obj)
console.log('cloneObj', cloneObj)
</code></pre>
<p><img src="/images/202403162118438RZn3P.png" alt="å›¾ç‰‡"></p>
<p>ä»è¿™å¼ æˆªå›¾çš„ç»“æœå¯ä»¥çœ‹å‡ºï¼Œæ”¹è¿›ç‰ˆçš„ deepClone å‡½æ•°å·²ç»å¯¹åŸºç¡€ç‰ˆçš„é‚£å‡ ä¸ªé—®é¢˜è¿›è¡Œäº†æ”¹è¿›ï¼Œä¹ŸéªŒè¯äº†ä¸Šé¢æåˆ°çš„é‚£å››ç‚¹ç†è®ºã€‚</p>
<h3>æ€»ç»“</h3>
<p>å…¶å®åˆ°æœ€åæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè‡ªå·±å®Œæ•´å®ç°ä¸€ä¸ªæ·±æ‹·è´ï¼Œè¿˜æ˜¯è€ƒå¯Ÿäº†ä¸å°‘çš„çŸ¥è¯†ç‚¹å’Œç¼–ç¨‹èƒ½åŠ›ï¼Œæ€»ç»“ä¸‹æ¥å¤§è‡´åˆ†ä¸ºè¿™å‡ ç‚¹ã€‚</p>
<ul>
<li>åŸºç¡€ç¼–ç èƒ½åŠ›ï¼ˆé€’å½’ï¼Œä»£ç ä¸¥è°¨æ€§ï¼ŒæŠ½è±¡èƒ½åŠ›ï¼‰ã€‚</li>
<li>jsç¼–ç èƒ½åŠ›ï¼ˆWeak Mapèƒ½åŠ›ï¼Œå¼•ç”¨ç±»å‹çš„å„ç§APIç†Ÿç»ƒç¨‹åº¦ï¼Œå‡†ç¡®åˆ¤æ–­JSå„ç§æ•°é‡ç±»å‹èƒ½åŠ›ã€‚</li>
<li>è€ƒè™‘é—®é¢˜çš„å…¨é¢æ€§ï¼ˆè¾¹ç•Œæƒ…å†µï¼Œè§£å†³å¾ªç¯å¼•ç”¨çš„èƒ½åŠ›ï¼‰ã€‚</li>
</ul>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[JavaScript-æ•°æ®ç±»å‹é—®é¢˜]]></title>
        <id>https://ajiu9.cn/posts/javascript-data-type</id>
        <link href="https://ajiu9.cn/posts/javascript-data-type"/>
        <updated>2021-01-20T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<p>æˆ‘å°†ä»æ•°æ®ç±»å‹çš„æ¦‚å¿µã€æ£€æµ‹æ–¹æ³•ã€è½¬æ¢æ–¹æ³•ä¸‰ä¸ªæ–¹é¢æ¢³ç†æ•°æ®ç±»å‹çš„çŸ¥è¯†ç‚¹ã€‚èƒ½å¤Ÿç†Ÿç»ƒæŒæ¡æ•°æ®ç±»å‹çš„åˆ¤æ–­ä»¥åŠè½¬æ¢ç­‰çŸ¥è¯†ç‚¹ã€‚ï¼ˆåŒ…æ‹¬éšå¼è½¬æ¢ç­‰é—®é¢˜ï¼‰ã€‚</p>
<h2>æ•°æ®ç±»å‹çš„æ¦‚å¿µ</h2>
<p>JavaScript çš„æ•°æ®ç±»å‹æœ‰ä¸‹å›¾æ‰€ç¤ºçš„ 8 ç§ï¼š</p>
<p><img src="https://ajiu9.cn/images/20240316205349r3tol1.png" alt="å›¾ç‰‡"></p>
<p>å…¶ä¸­ï¼Œå‰ 7 ç§ç±»å‹ä¸ºåŸºç¡€ç±»å‹ï¼Œæœ€å 1 ç§ï¼ˆObjectï¼‰ä¸ºå¼•ç”¨ç±»å‹ï¼Œä¹Ÿæ˜¯ä½ éœ€è¦é‡ç‚¹å…³æ³¨çš„ï¼Œå› ä¸ºå®ƒåœ¨æ—¥å¸¸å·¥ä½œä¸­æ˜¯ä½¿ç”¨å¾—æœ€é¢‘ç¹ï¼Œä¹Ÿæ˜¯éœ€è¦å…³æ³¨æœ€å¤šæŠ€æœ¯ç»†èŠ‚çš„æ•°æ®ç±»å‹ã€‚<br>
è€Œå¼•ç”¨æ•°æ®ç±»å‹ï¼ˆObjectï¼‰åˆåˆ†ä¸ºå›¾ä¸Šè¿™å‡ ç§å¸¸è§çš„ç±»å‹ï¼šArray - æ•°ç»„å¯¹è±¡ã€RegExp - æ­£åˆ™å¯¹è±¡ã€Date - æ—¥æœŸå¯¹è±¡ã€Math - æ•°å­¦å‡½æ•°ã€Function - å‡½æ•°å¯¹è±¡ã€‚<br>
å› ä¸ºå„ç§ JavaScript çš„æ•°æ®ç±»å‹æœ€åéƒ½ä¼šåœ¨åˆå§‹åŒ–ä¹‹åæ”¾åœ¨ä¸åŒçš„å†…å­˜ä¸­ï¼Œå› æ­¤ä¸Šé¢çš„æ•°æ®ç±»å‹å¤§è‡´å¯ä»¥åˆ†æˆä¸¤ç±»æ¥è¿›è¡Œå­˜å‚¨ï¼š</p>
<ol>
<li>åŸºç¡€ç±»å‹å­˜å‚¨åœ¨æ ˆå†…å­˜ï¼Œè¢«å¼•ç”¨æˆ–æ‹·è´æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå®Œå…¨ç›¸ç­‰çš„å˜é‡ï¼›</li>
<li>å¼•ç”¨ç±»å‹å­˜å‚¨åœ¨å †å†…å­˜ï¼Œå­˜å‚¨çš„æ˜¯åœ°å€ï¼Œå¤šä¸ªå¼•ç”¨æŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼Œè¿™é‡Œä¼šæ¶‰åŠä¸€ä¸ªâ€œå…±äº«â€çš„æ¦‚å¿µã€‚</li>
</ol>
<p>å…³äºå¼•ç”¨ç±»å‹ä¸‹é¢ç›´æ¥çœ‹ä¸¤æ®µä»£ç ï¼š</p>
<pre><code class="language-js">const a = {
  name: 'lee',
  age: 18
}
const b = a
console.log(a.name) // ç¬¬ä¸€ä¸ªconsole
b.name = 'son'
console.log(a.name) // ç¬¬äºŒä¸ªconsole
console.log(b.name) // ç¬¬ä¸‰ä¸ªconsole
</code></pre>
<p>è¿™é“é¢˜æ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç¬¬ä¸€ä¸ª console æ‰“å‡ºæ¥ name æ˜¯ 'lee'ï¼›ä½†æ˜¯åœ¨æ‰§è¡Œäº† b.name='son' ä¹‹åï¼Œç»“æœä½ ä¼šå‘ç° a å’Œ b çš„å±æ€§ name éƒ½æ˜¯ 'son'ï¼Œç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªæ‰“å°ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œå°±ä½“ç°äº†å¼•ç”¨ç±»å‹çš„â€œå…±äº«â€çš„ç‰¹æ€§ï¼Œå³è¿™ä¸¤ä¸ªå€¼éƒ½å­˜åœ¨åŒä¸€å—å†…å­˜ä¸­å…±äº«ï¼Œä¸€ä¸ªå‘ç”Ÿäº†æ”¹å˜ï¼Œå¦å¤–ä¸€ä¸ªä¹Ÿéšä¹‹è·Ÿç€å˜åŒ–ã€‚</p>
<pre><code class="language-js">const a = {
  name: 'Julia',
  age: 20
}
function change(o) {
  o.age = 24
  o = {
    name: 'Kaph',
    age: 30
  }
  return o
}
const b = change(a) // æ³¨æ„è¿™é‡Œæ²¡æœ‰newï¼Œåé¢newç›¸å…³ä¼šæœ‰ä¸“é—¨æ–‡ç« è®²è§£
console.log(b.age) // ç¬¬ä¸€ä¸ªconsole
console.log(a.age) // ç¬¬äºŒä¸ªconsole
</code></pre>
<p>è¿™é“é¢˜æ¶‰åŠäº† functionï¼Œé€šè¿‡ä¸Šè¿°ä»£ç å¯ä»¥çœ‹åˆ°ç¬¬ä¸€ä¸ª console çš„ç»“æœæ˜¯ 30ï¼Œb æœ€åæ‰“å°ç»“æœæ˜¯ {name: &quot;Kaph&quot;, age: 30}ï¼›ç¬¬äºŒä¸ª console çš„è¿”å›ç»“æœæ˜¯ 24ï¼Œè€Œ a æœ€åçš„æ‰“å°ç»“æœæ˜¯ {name: &quot;Julia&quot;, age: 24}ã€‚</p>
<p>æ˜¯ä¸æ˜¯å’Œé¢„æƒ³çš„æœ‰äº›åŒºåˆ«ï¼Ÿè¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„ function å’Œ return å¸¦æ¥äº†ä¸ä¸€æ ·çš„ä¸œè¥¿ã€‚</p>
<p>åŸå› åœ¨äºï¼šå‡½æ•°ä¼ å‚è¿›æ¥çš„ oï¼Œä¼ é€’çš„æ˜¯å¯¹è±¡åœ¨å †ä¸­çš„å†…å­˜åœ°å€å€¼ï¼Œé€šè¿‡è°ƒç”¨ o.age = 24ï¼ˆç¬¬ 7 è¡Œä»£ç ï¼‰ç¡®å®æ”¹å˜äº† a å¯¹è±¡çš„ age å±æ€§ï¼›ä½†æ˜¯ç¬¬ 12 è¡Œä»£ç çš„ return å´åˆæŠŠ o å˜æˆäº†å¦ä¸€ä¸ªå†…å­˜åœ°å€ï¼Œå°† {name: &quot;Kaph&quot;, age: 30} å­˜å…¥å…¶ä¸­ï¼Œæœ€åè¿”å› b çš„å€¼å°±å˜æˆäº† {name: &quot;Kaph&quot;, age: 30}ã€‚è€Œå¦‚æœæŠŠç¬¬ 12 è¡Œå»æ‰ï¼Œé‚£ä¹ˆ b å°±ä¼šè¿”å› undefinedã€‚</p>
<h2>æ•°æ®ç±»å‹æ£€æµ‹</h2>
<p>æ•°æ®ç±»å‹çš„åˆ¤æ–­æ–¹æ³•å…¶å®æœ‰å¤šç§ï¼Œæ¯”å¦‚ typeof å’Œ instanceofï¼Œä¸‹é¢æˆ‘æ¥é‡ç‚¹ä»‹ç»ä¸‰ç§åœ¨å·¥ä½œä¸­ç»å¸¸ä¼šé‡åˆ°çš„æ•°æ®ç±»å‹æ£€æµ‹æ–¹æ³•ã€‚</p>
<h4>ç¬¬ä¸€ç§åˆ¤æ–­æ–¹æ³•ï¼štypeof</h4>
<pre><code class="language-js">typeof 1 // 'number'
typeof '1' // 'string'
typeof undefined // 'undefined'
typeof true // 'boolean'
typeof Symbol('1') // 'symbol'
typeof null // 'object'
typeof [] // 'object'
typeof {} // 'object'
typeof console // 'object'
typeof console.log // 'function'
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå‰ 6 ä¸ªéƒ½æ˜¯åŸºç¡€æ•°æ®ç±»å‹ï¼Œè€Œä¸ºä»€ä¹ˆç¬¬ 6 ä¸ª null çš„ typeof æ˜¯ 'object' å‘¢ï¼Ÿè™½ç„¶ typeof null ä¼šè¾“å‡º objectï¼Œä½†è¿™åªæ˜¯ JS å­˜åœ¨çš„ä¸€ä¸ªæ‚ ä¹… Bugï¼Œä¸ä»£è¡¨ null å°±æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œå¹¶ä¸” null æœ¬èº«ä¹Ÿä¸æ˜¯å¯¹è±¡ã€‚å› æ­¤ï¼Œnull åœ¨ typeof ä¹‹åè¿”å›çš„æ˜¯æœ‰é—®é¢˜çš„ç»“æœï¼Œä¸èƒ½ä½œä¸ºåˆ¤æ–­ null çš„æ–¹æ³•ã€‚å¦‚æœéœ€è¦åœ¨ if è¯­å¥ä¸­åˆ¤æ–­æ˜¯å¦ä¸º nullï¼Œç›´æ¥é€šè¿‡ â€˜===nullâ€™æ¥åˆ¤æ–­å°±å¥½ã€‚</p>
<p>æ­¤å¤–è¿˜è¦æ³¨æ„ï¼Œå¼•ç”¨æ•°æ®ç±»å‹ Objectï¼Œç”¨ typeof æ¥åˆ¤æ–­çš„è¯ï¼Œé™¤äº† function ä¼šåˆ¤æ–­ä¸º OK ä»¥å¤–ï¼Œå…¶ä½™éƒ½æ˜¯ 'object'ï¼Œæ˜¯æ— æ³•åˆ¤æ–­å‡ºæ¥çš„ã€‚</p>
<h4>ç¬¬äºŒç§åˆ¤æ–­æ–¹æ³•ï¼šinstanceof</h4>
<p>new ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªæ–°å¯¹è±¡å°±æ˜¯å®ƒåŸå‹é“¾ç»§æ‰¿ä¸Šé¢çš„å¯¹è±¡ï¼Œé€šè¿‡ instanceof èƒ½åˆ¤æ–­è¿™ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ä¹‹å‰é‚£ä¸ªæ„é€ å‡½æ•°ç”Ÿæˆçš„å¯¹è±¡ï¼Œè¿™æ ·å°±åŸºæœ¬å¯ä»¥åˆ¤æ–­å‡ºè¿™ä¸ªæ–°å¯¹è±¡çš„æ•°æ®ç±»å‹ã€‚ä¸‹é¢é€šè¿‡ä»£ç æ¥äº†è§£ä¸€ä¸‹ã€‚</p>
<pre><code class="language-js">const Car = function () {}
const benz = new Car()
benz instanceof Car // true
const car = new String('Mercedes Benz')
car instanceof String // true
const str = 'Covid-19'
str instanceof String // false
</code></pre>
<p>ä¸Šé¢å°±æ˜¯ç”¨ instanceof æ–¹æ³•åˆ¤æ–­æ•°æ®ç±»å‹çš„å¤§è‡´æµç¨‹ï¼Œå¦‚æœè‡ªå·±å®ç°ä¸€ä¸ª instanceof çš„åº•å±‚å®ç°ï¼Œåº”è¯¥æ€ä¹ˆå†™å‘¢ï¼Ÿè¯·çœ‹ä¸‹é¢çš„ä»£ç ã€‚</p>
<pre><code class="language-js">function myInstanceof(left, right) {
  // è¿™é‡Œå…ˆç”¨typeofæ¥åˆ¤æ–­åŸºç¡€æ•°æ®ç±»å‹ï¼Œå¦‚æœæ˜¯ï¼Œç›´æ¥è¿”å›false
  if (typeof left !== 'object' || left === null)
    return false
  // getProtypeOfæ˜¯Objectå¯¹è±¡è‡ªå¸¦çš„APIï¼Œèƒ½å¤Ÿæ‹¿åˆ°å‚æ•°çš„åŸå‹å¯¹è±¡
  let proto = Object.getPrototypeOf(left)
  while (true) { // å¾ªç¯å¾€ä¸‹å¯»æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ç›¸åŒçš„åŸå‹å¯¹è±¡
    if (proto === null)
      return false
    if (proto === right.prototype)
      return true// æ‰¾åˆ°ç›¸åŒåŸå‹å¯¹è±¡ï¼Œè¿”å›true
    proto = Object.getPrototypeof(proto)
  }
}
// éªŒè¯ä¸€ä¸‹è‡ªå·±å®ç°çš„myInstanceofæ˜¯å¦OK
console.log(myInstanceof(new Number(123), Number)) // true
console.log(myInstanceof(123, Number)) // false
</code></pre>
<h4>ç¬¬ä¸‰ç§åˆ¤æ–­æ–¹æ³•ï¼šObject.prototype.toString</h4>
<p>toString() æ˜¯ Object çš„åŸå‹æ–¹æ³•ï¼Œè°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¯ä»¥ç»Ÿä¸€è¿”å›æ ¼å¼ä¸º â€œ[object Xxx]â€ çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ Xxx å°±æ˜¯å¯¹è±¡çš„ç±»å‹ã€‚å¯¹äº Object å¯¹è±¡ï¼Œç›´æ¥è°ƒç”¨ toString() å°±èƒ½è¿”å› [object Object]ï¼›è€Œå¯¹äºå…¶ä»–å¯¹è±¡ï¼Œåˆ™éœ€è¦é€šè¿‡ call æ¥è°ƒç”¨ï¼Œæ‰èƒ½è¿”å›æ­£ç¡®çš„ç±»å‹ä¿¡æ¯ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä»£ç ã€‚</p>
<pre><code class="language-js">Object.prototype.toString({}) // &quot;[object Object]&quot;
Object.prototype.toString.call({}) // åŒä¸Šç»“æœï¼ŒåŠ ä¸Šcallä¹Ÿok
Object.prototype.toString.call(1) // &quot;[object Number]&quot;
Object.prototype.toString.call('1') // &quot;[object String]&quot;
Object.prototype.toString.call(true) // &quot;[object Boolean]&quot;
Object.prototype.toString.call(() =&gt; {}) // &quot;[object Function]&quot;
Object.prototype.toString.call(null) // &quot;[object Null]&quot;
Object.prototype.toString.call(undefined) // &quot;[object Undefined]&quot;
Object.prototype.toString.call(/123/g) // &quot;[object RegExp]&quot;
Object.prototype.toString.call(new Date()) // &quot;[object Date]&quot;
Object.prototype.toString.call([]) // &quot;[object Array]&quot;
Object.prototype.toString.call(document) // &quot;[object HTMLDocument]&quot;
Object.prototype.toString.call(window) // &quot;[object Window]&quot;
</code></pre>
<p>å¯ä»¥çœ‹å‡ºï¼šinstanceof å¯ä»¥å‡†ç¡®åœ°åˆ¤æ–­å¤æ‚å¼•ç”¨æ•°æ®ç±»å‹ï¼Œä½†æ˜¯ä¸èƒ½æ­£ç¡®åˆ¤æ–­åŸºç¡€æ•°æ®ç±»å‹ï¼›</p>
<p>è€Œ typeof ä¹Ÿå­˜åœ¨å¼Šç«¯ï¼Œå®ƒè™½ç„¶å¯ä»¥åˆ¤æ–­åŸºç¡€æ•°æ®ç±»å‹ï¼ˆnull é™¤å¤–ï¼‰ï¼Œä½†æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ä¸­ï¼Œé™¤äº† function ç±»å‹ä»¥å¤–ï¼Œå…¶ä»–çš„ä¹Ÿæ— æ³•åˆ¤æ–­ï¼›Object.prototype.toString.call() å¯ä»¥å¾ˆå¥½åœ°åˆ¤æ–­å¼•ç”¨ç±»å‹ï¼Œç”šè‡³å¯ä»¥æŠŠ document å’Œ window éƒ½åŒºåˆ†å¼€æ¥ã€‚</p>
<p>ä½†æ˜¯åœ¨å†™åˆ¤æ–­æ¡ä»¶çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•æœ€åè¿”å›ç»Ÿä¸€å­—ç¬¦ä¸²æ ¼å¼ä¸º &quot;[object Xxx]&quot; ï¼Œè€Œè¿™é‡Œå­—ç¬¦ä¸²é‡Œé¢çš„ &quot;Xxx&quot; ï¼Œç¬¬ä¸€ä¸ªé¦–å­—æ¯è¦å¤§å†™ï¼ˆæ³¨æ„ï¼šä½¿ç”¨ typeof è¿”å›çš„æ˜¯å°å†™ï¼‰ã€‚</p>
<p>ä¸‹é¢æ¥å®ç°ä¸€ä¸ªå…¨å±€é€šç”¨çš„æ•°æ®ç±»å‹åˆ¤æ–­æ–¹æ³•ï¼Œæ¥åŠ æ·±ä½ çš„ç†è§£ï¼Œä»£ç å¦‚ä¸‹ã€‚</p>
<pre><code class="language-js">function getType(obj) {
  const type = typeof obj
  if (type !== 'object') { // å…ˆè¿›è¡Œtypeofåˆ¤æ–­ï¼Œå¦‚æœæ˜¯åŸºç¡€æ•°æ®ç±»å‹ï¼Œç›´æ¥è¿”å›
    return type
  }
  // å¯¹äºtypeofè¿”å›ç»“æœæ˜¯objectçš„ï¼Œå†è¿›è¡Œå¦‚ä¸‹çš„åˆ¤æ–­ï¼Œæ­£åˆ™è¿”å›ç»“æœ
  return Object.prototype.toString.call(obj).replace(/^\[object (\S+)\]$/, '$1') // æ³¨æ„æ­£åˆ™ä¸­é—´æœ‰ä¸ªç©ºæ ¼
}
/* ä»£ç éªŒè¯ï¼Œéœ€è¦æ³¨æ„å¤§å°å†™ï¼Œå“ªäº›æ˜¯typeofåˆ¤æ–­ï¼Œå“ªäº›æ˜¯toStringåˆ¤æ–­ï¼Ÿæ€è€ƒä¸‹ */
getType([]) // &quot;Array&quot; typeof []æ˜¯objectï¼Œå› æ­¤toStringè¿”å›
getType('123') // &quot;string&quot; typeof ç›´æ¥è¿”å›
getType(window) // &quot;Window&quot; toStringè¿”å›
getType(null) // &quot;Null&quot;é¦–å­—æ¯å¤§å†™ï¼Œtypeof nullæ˜¯objectï¼Œéœ€toStringæ¥åˆ¤æ–­
getType(undefined) // &quot;undefined&quot; typeof ç›´æ¥è¿”å›
getType() // &quot;undefined&quot; typeof ç›´æ¥è¿”å›
getType(() =&gt; {}) // &quot;function&quot; typeofèƒ½åˆ¤æ–­ï¼Œå› æ­¤é¦–å­—æ¯å°å†™
getType(/123/g) // &quot;RegExp&quot; toStringè¿”å›
</code></pre>
<h3>æ•°æ®ç±»å‹è½¬æ¢</h3>
<p>åœ¨æ—¥å¸¸çš„å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ° JavaScript æ•°æ®ç±»å‹è½¬æ¢é—®é¢˜ï¼Œæœ‰çš„æ—¶å€™éœ€è¦æˆ‘ä»¬ä¸»åŠ¨è¿›è¡Œå¼ºåˆ¶è½¬æ¢ï¼Œè€Œæœ‰çš„æ—¶å€™ JavaScript ä¼šè¿›è¡Œéšå¼è½¬æ¢ï¼Œéšå¼è½¬æ¢çš„æ—¶å€™å°±éœ€è¦æˆ‘ä»¬å¤šåŠ ç•™å¿ƒã€‚</p>
<p>é‚£ä¹ˆè¿™éƒ¨åˆ†éƒ½ä¼šæ¶‰åŠå“ªäº›å†…å®¹å‘¢ï¼Ÿæˆ‘ä»¬å…ˆçœ‹ä¸€æ®µä»£ç ï¼Œäº†è§£ä¸‹å¤§è‡´çš„æƒ…å†µã€‚</p>
<pre><code class="language-js">'123' == 123   // true
'' == null    // false
'' == 0        // true
[] == 0        // true
[] == ''       // true
[] == ![]      // true
null == undefined // true
Number(null)     //0
Number('')      // 0
parseInt('');    // NaN
{}+10           // 10
let obj = {
    [Symbol.toPrimitive]() {
        return 200;
    },
    valueOf() {
        return 300;
    },
    toString() {
        return 'Hello';
    }
}
console.log(obj + 200); // 400
</code></pre>
<p>ä¸Šé¢è¿™ 12 ä¸ªé—®é¢˜ï¼ŒåŸºæœ¬æ¶µç›–äº†æˆ‘ä»¬å¹³å¸¸å®¹æ˜“ç–æ¼çš„ä¸€äº›æƒ…å†µï¼Œè¿™å°±æ˜¯åœ¨åšæ•°æ®ç±»å‹è½¬æ¢æ—¶ç»å¸¸ä¼šé‡åˆ°çš„å¼ºåˆ¶è½¬æ¢å’Œéšå¼è½¬æ¢çš„æ–¹å¼ã€‚</p>
<h4>å¼ºåˆ¶ç±»å‹è½¬æ¢</h4>
<p>å¼ºåˆ¶ç±»å‹è½¬æ¢æ–¹å¼åŒ…æ‹¬ Number()ã€parseInt()ã€parseFloat()ã€toString()ã€String()ã€Boolean()ï¼Œè¿™å‡ ç§æ–¹æ³•éƒ½æ¯”è¾ƒç±»ä¼¼ï¼Œé€šè¿‡å­—é¢æ„æ€å¯ä»¥å¾ˆå®¹æ˜“ç†è§£ï¼Œéƒ½æ˜¯é€šè¿‡è‡ªèº«çš„æ–¹æ³•æ¥è¿›è¡Œæ•°æ®ç±»å‹çš„å¼ºåˆ¶è½¬æ¢ã€‚ä¸‹é¢æˆ‘åˆ—ä¸¾ä¸€äº›æ¥è¯¦ç»†è¯´æ˜ã€‚</p>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬ 8 è¡Œçš„ç»“æœæ˜¯ 0ï¼Œç¬¬ 9 è¡Œçš„ç»“æœåŒæ ·æ˜¯ 0ï¼Œç¬¬ 10 è¡Œçš„ç»“æœæ˜¯ NaNã€‚è¿™äº›éƒ½æ˜¯å¾ˆæ˜æ˜¾çš„å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå› ä¸ºç”¨åˆ°äº† Number() å’Œ parseInt()ã€‚</p>
<p>å…¶å®ä¸Šè¿°å‡ ä¸ªå¼ºåˆ¶ç±»å‹è½¬æ¢çš„åŸç†å¤§è‡´ç›¸åŒï¼Œä¸‹é¢æˆ‘æŒ‘ä¸¤ä¸ªæ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„æ–¹æ³•è¿›è¡Œè®²è§£ã€‚</p>
<h4>Number() æ–¹æ³•çš„å¼ºåˆ¶è½¬æ¢è§„åˆ™</h4>
<ol>
<li>å¦‚æœæ˜¯å¸ƒå°”å€¼ï¼Œtrue å’Œ false åˆ†åˆ«è¢«è½¬æ¢ä¸º 1 å’Œ 0ï¼›</li>
<li>å¦‚æœæ˜¯æ•°å­—ï¼Œè¿”å›è‡ªèº«ï¼›</li>
<li>å¦‚æœæ˜¯ nullï¼Œè¿”å› 0ï¼›</li>
<li>å¦‚æœæ˜¯ undefinedï¼Œè¿”å› NaNï¼›</li>
<li>å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œéµå¾ªä»¥ä¸‹è§„åˆ™ï¼šå¦‚æœå­—ç¬¦ä¸²ä¸­åªåŒ…å«æ•°å­—ï¼ˆæˆ–è€…æ˜¯0X/0x å¼€å¤´çš„åå…­è¿›åˆ¶æ•°å­—å­—ç¬¦ä¸²ï¼Œå…è®¸åŒ…å«æ­£è´Ÿå·ï¼‰ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºåè¿›åˆ¶ï¼›å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«æœ‰æ•ˆçš„æµ®ç‚¹æ ¼å¼ï¼Œå°†å…¶è½¬æ¢ä¸ºæµ®ç‚¹æ•°å€¼ï¼›å¦‚æœæ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œå°†å…¶è½¬æ¢ä¸º 0ï¼›å¦‚æœä¸æ˜¯ä»¥ä¸Šæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œå‡è¿”å› NaNï¼›</li>
<li>å¦‚æœæ˜¯ Symbolï¼ŒæŠ›å‡ºé”™è¯¯ï¼›</li>
<li>å¦‚æœæ˜¯å¯¹è±¡ï¼Œå¹¶ä¸”éƒ¨ç½²äº† [Symbol.toPrimitive] ï¼Œé‚£ä¹ˆè°ƒç”¨æ­¤æ–¹æ³•ï¼Œå¦åˆ™è°ƒç”¨å¯¹è±¡çš„ valueOf()æ–¹æ³•ï¼Œç„¶åä¾æ®å‰é¢çš„è§„åˆ™è½¬æ¢è¿”å›çš„å€¼ï¼›å¦‚æœè½¬æ¢çš„ç»“æœæ˜¯ NaN ï¼Œåˆ™è°ƒç”¨å¯¹è±¡çš„ toString()æ–¹æ³•ï¼Œå†æ¬¡ä¾ç…§å‰é¢çš„é¡ºåºè½¬æ¢è¿”å›å¯¹åº”çš„å€¼ï¼ˆObject è½¬æ¢è§„åˆ™ä¼šåœ¨ä¸‹é¢ç»†è®²ï¼‰ã€‚</li>
</ol>
<p>ä¸‹é¢é€šè¿‡ä¸€æ®µä»£ç æ¥è¯´æ˜ä¸Šè¿°è§„åˆ™ã€‚</p>
<pre><code class="language-js">Number(true) // 1
</code></pre>
<p>å…¶ä¸­ï¼Œæˆ‘åˆ†åˆ«åˆ—ä¸¾äº†æ¯”è¾ƒå¸¸è§çš„ Number è½¬æ¢çš„ä¾‹å­ï¼Œå®ƒä»¬éƒ½ä¼šæŠŠå¯¹åº”çš„éæ•°å­—ç±»å‹è½¬æ¢æˆæ•°å­—ç±»å‹ï¼Œè€Œæœ‰ä¸€äº›å®åœ¨æ— æ³•è½¬æ¢æˆæ•°å­—çš„ï¼Œæœ€ååªèƒ½è¾“å‡º NaN çš„ç»“æœã€‚</p>
<h3>Boolean() æ–¹æ³•çš„å¼ºåˆ¶è½¬æ¢è§„åˆ™</h3>
<p>è¿™ä¸ªæ–¹æ³•çš„è§„åˆ™æ˜¯ï¼šé™¤äº† undefinedã€ nullã€ falseã€ ''ã€ 0ï¼ˆåŒ…æ‹¬ +0ï¼Œ-0ï¼‰ã€ NaN è½¬æ¢å‡ºæ¥æ˜¯ falseï¼Œå…¶ä»–éƒ½æ˜¯ trueã€‚</p>
<p>è¿™ä¸ªè§„åˆ™åº”è¯¥å¾ˆå¥½ç†è§£ï¼Œæ²¡æœ‰é‚£ä¹ˆå¤šæ¡æ¡æ¡†æ¡†ï¼Œæˆ‘ä»¬è¿˜æ˜¯é€šè¿‡ä»£ç æ¥å½¢æˆè®¤çŸ¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<pre><code class="language-js">Number(true) // 1
Number(false) // 0
Number('0111') // 111
Number(null) // 0
Number('') // 0
Number('1a') // NaN
Number(-0x11) // -17
Number('0X11') // 17
</code></pre>
<h3>éšå¼ç±»å‹è½¬æ¢</h3>
<p>å‡¡æ˜¯é€šè¿‡é€»è¾‘è¿ç®—ç¬¦ (&amp;&amp;ã€ ||ã€ !)ã€è¿ç®—ç¬¦ (+ã€-ã€*ã€/)ã€å…³ç³»æ“ä½œç¬¦ (&gt;ã€ &lt;ã€ &lt;= ã€&gt;=)ã€ç›¸ç­‰è¿ç®—ç¬¦ (==) æˆ–è€… if/while æ¡ä»¶çš„æ“ä½œï¼Œå¦‚æœé‡åˆ°ä¸¤ä¸ªæ•°æ®ç±»å‹ä¸ä¸€æ ·çš„æƒ…å†µï¼Œéƒ½ä¼šå‡ºç°éšå¼ç±»å‹è½¬æ¢ã€‚è¿™é‡Œä½ éœ€è¦é‡ç‚¹å…³æ³¨ä¸€ä¸‹ï¼Œå› ä¸ºæ¯”è¾ƒéšè”½ï¼Œç‰¹åˆ«å®¹æ˜“è®©äººå¿½è§†ã€‚</p>
<p>ä¸‹é¢ç€é‡è®²è§£ä¸€ä¸‹æ—¥å¸¸ç”¨å¾—æ¯”è¾ƒå¤šçš„â€œ==â€å’Œâ€œ+â€è¿™ä¸¤ä¸ªç¬¦å·çš„éšå¼è½¬æ¢è§„åˆ™ã€‚</p>
<h4>'==' çš„éšå¼ç±»å‹è½¬æ¢è§„åˆ™</h4>
<ol>
<li>å¦‚æœç±»å‹ç›¸åŒï¼Œæ— é¡»è¿›è¡Œç±»å‹è½¬æ¢ï¼›</li>
<li>å¦‚æœå…¶ä¸­ä¸€ä¸ªæ“ä½œå€¼æ˜¯ null æˆ–è€… undefinedï¼Œé‚£ä¹ˆå¦ä¸€ä¸ªæ“ä½œç¬¦å¿…é¡»ä¸º null æˆ–è€… undefinedï¼Œæ‰ä¼šè¿”å› trueï¼Œå¦åˆ™éƒ½è¿”å› falseï¼›</li>
<li>å¦‚æœå…¶ä¸­ä¸€ä¸ªæ˜¯ Symbol ç±»å‹ï¼Œé‚£ä¹ˆè¿”å› falseï¼›</li>
<li>ä¸¤ä¸ªæ“ä½œå€¼å¦‚æœéƒ½ä¸º string å’Œ number ç±»å‹ï¼Œé‚£ä¹ˆå°±ä¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸º numberï¼›</li>
<li>å¦‚æœä¸€ä¸ªæ“ä½œå€¼æ˜¯ booleanï¼Œé‚£ä¹ˆè½¬æ¢æˆ numberï¼›</li>
<li>å¦‚æœä¸€ä¸ªæ“ä½œå€¼ä¸º object ä¸”å¦ä¸€æ–¹ä¸º stringã€number æˆ–è€… symbolï¼Œå°±ä¼šæŠŠ object è½¬ä¸ºåŸå§‹ç±»å‹å†è¿›è¡Œåˆ¤æ–­ï¼ˆè°ƒç”¨ object çš„ valueOf/toString æ–¹æ³•è¿›è¡Œè½¬æ¢ï¼‰ã€‚</li>
<li>
<pre><code>null == undefined       // true  è§„åˆ™2
</code></pre>
</li>
</ol>
<p>'+' çš„éšå¼ç±»å‹è½¬æ¢è§„åˆ™</p>
<p>'+' å·æ“ä½œç¬¦ï¼Œä¸ä»…å¯ä»¥ç”¨ä½œæ•°å­—ç›¸åŠ ï¼Œè¿˜å¯ä»¥ç”¨ä½œå­—ç¬¦ä¸²æ‹¼æ¥ã€‚ä»…å½“ '+' å·ä¸¤è¾¹éƒ½æ˜¯æ•°å­—æ—¶ï¼Œè¿›è¡Œçš„æ˜¯åŠ æ³•è¿ç®—ï¼›</p>
<ol>
<li>
<p>å¦‚æœä¸¤è¾¹éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™ç›´æ¥æ‹¼æ¥ï¼Œæ— é¡»è¿›è¡Œéšå¼ç±»å‹è½¬æ¢ã€‚</p>
</li>
<li>
<p>å¦‚æœå…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯ undefinedã€null æˆ–å¸ƒå°”å‹ï¼Œåˆ™è°ƒç”¨ toString() æ–¹æ³•è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ï¼›å¦‚æœæ˜¯çº¯å¯¹è±¡ã€æ•°ç»„ã€æ­£åˆ™ç­‰ï¼Œåˆ™é»˜è®¤è°ƒç”¨å¯¹è±¡çš„è½¬æ¢æ–¹æ³•ä¼šå­˜åœ¨ä¼˜å…ˆçº§ï¼ˆä¸‹ä¸€è®²ä¼šä¸“é—¨ä»‹ç»ï¼‰ï¼Œç„¶åå†è¿›è¡Œæ‹¼æ¥ã€‚</p>
</li>
<li>
<p>å¦‚æœå…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯æ•°å­—ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯ undefinedã€nullã€å¸ƒå°”å‹æˆ–æ•°å­—ï¼Œåˆ™ä¼šå°†å…¶è½¬æ¢æˆæ•°å­—è¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œå¯¹è±¡çš„æƒ…å†µè¿˜æ˜¯å‚è€ƒä¸Šä¸€æ¡è§„åˆ™ã€‚</p>
</li>
<li>
<p>å¦‚æœå…¶ä¸­ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ã€ä¸€ä¸ªæ˜¯æ•°å­—ï¼Œåˆ™æŒ‰ç…§å­—ç¬¦ä¸²è§„åˆ™è¿›è¡Œæ‹¼æ¥ã€‚</p>
</li>
</ol>
<pre><code class="language-js">1 + 2 // 3  å¸¸è§„æƒ…å†µ
'1' + '2' // '12' å¸¸è§„æƒ…å†µ
// ä¸‹é¢çœ‹ä¸€ä¸‹ç‰¹æ®Šæƒ…å†µ
// eslint-disable-next-line prefer-template
'1' + undefined // &quot;1undefined&quot; è§„åˆ™1ï¼Œundefinedè½¬æ¢å­—ç¬¦ä¸²
// eslint-disable-next-line prefer-template
'1' + null // &quot;1null&quot; è§„åˆ™1ï¼Œnullè½¬æ¢å­—ç¬¦ä¸²
// eslint-disable-next-line prefer-template
'1' + true // &quot;1true&quot; è§„åˆ™1ï¼Œtrueè½¬æ¢å­—ç¬¦ä¸²
// eslint-disable-next-line prefer-template
'1' + 1n // '11' æ¯”è¾ƒç‰¹æ®Šå­—ç¬¦ä¸²å’ŒBigIntç›¸åŠ ï¼ŒBigIntè½¬æ¢ä¸ºå­—ç¬¦ä¸²
1 + undefined // NaN  è§„åˆ™2ï¼Œundefinedè½¬æ¢æ•°å­—ç›¸åŠ NaN
1 + null // 1    è§„åˆ™2ï¼Œnullè½¬æ¢ä¸º0
1 + true // 2    è§„åˆ™2ï¼Œtrueè½¬æ¢ä¸º1ï¼ŒäºŒè€…ç›¸åŠ ä¸º2
1 + 1n // é”™è¯¯  ä¸èƒ½æŠŠBigIntå’ŒNumberç±»å‹ç›´æ¥æ··åˆç›¸åŠ 
// eslint-disable-next-line prefer-template
'1' + 3 // '13' è§„åˆ™3ï¼Œå­—ç¬¦ä¸²æ‹¼æ¥
</code></pre>
<p>æ•´ä½“æ¥çœ‹ï¼Œå¦‚æœæ•°æ®ä¸­æœ‰å­—ç¬¦ä¸²ï¼ŒJavaScript ç±»å‹è½¬æ¢è¿˜æ˜¯æ›´å€¾å‘äºè½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œå› ä¸ºç¬¬ä¸‰æ¡è§„åˆ™ä¸­å¯ä»¥çœ‹åˆ°ï¼Œåœ¨å­—ç¬¦ä¸²å’Œæ•°å­—ç›¸åŠ çš„è¿‡ç¨‹ä¸­æœ€åè¿”å›çš„è¿˜æ˜¯å­—ç¬¦ä¸²ã€‚</p>
<h4>Object çš„è½¬æ¢è§„åˆ™</h4>
<p>å¯¹è±¡è½¬æ¢çš„è§„åˆ™ï¼Œä¼šå…ˆè°ƒç”¨å†…ç½®çš„ [ToPrimitive] å‡½æ•°ï¼Œå…¶è§„åˆ™é€»è¾‘å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p>å¦‚æœéƒ¨ç½²äº† Symbol.toPrimitive æ–¹æ³•ï¼Œä¼˜å…ˆè°ƒç”¨å†è¿”å›ï¼›</p>
</li>
<li>
<p>è°ƒç”¨ valueOf()ï¼Œå¦‚æœè½¬æ¢ä¸ºåŸºç¡€ç±»å‹ï¼Œåˆ™è¿”å›ï¼›</p>
</li>
<li>
<p>è°ƒç”¨ toString()ï¼Œå¦‚æœè½¬æ¢ä¸ºåŸºç¡€ç±»å‹ï¼Œåˆ™è¿”å›ï¼›</p>
</li>
<li>
<p>å¦‚æœéƒ½æ²¡æœ‰è¿”å›åŸºç¡€ç±»å‹ï¼Œä¼šæŠ¥é”™ã€‚</p>
</li>
</ol>
<pre><code class="language-js">const obj = {
  value: 1,
  valueOf() {
    return 2
  },
  toString() {
    return '3'
  },
  [Symbol.toPrimitive]() {
    return 4
  }
}
console.log(obj + 1) // è¾“å‡º5
// å› ä¸ºæœ‰Symbol.toPrimitiveï¼Œå°±ä¼˜å…ˆæ‰§è¡Œè¿™ä¸ªï¼›å¦‚æœSymbol.toPrimitiveè¿™æ®µä»£ç åˆ æ‰ï¼Œåˆ™æ‰§è¡ŒvalueOfæ‰“å°ç»“æœä¸º3ï¼›å¦‚æœvalueOfä¹Ÿå»æ‰ï¼Œåˆ™è°ƒç”¨toStringè¿”å›'31'(å­—ç¬¦ä¸²æ‹¼æ¥)
// å†çœ‹ä¸¤ä¸ªç‰¹æ®Šçš„caseï¼š
10 + {};
// &quot;10[object Object]&quot;ï¼Œæ³¨æ„ï¼š{}ä¼šé»˜è®¤è°ƒç”¨valueOfæ˜¯{}ï¼Œä¸æ˜¯åŸºç¡€ç±»å‹ç»§ç»­è½¬æ¢ï¼Œè°ƒç”¨toStringï¼Œè¿”å›ç»“æœ&quot;[object Object]&quot;ï¼Œäºæ˜¯å’Œ10è¿›è¡Œ'+'è¿ç®—ï¼ŒæŒ‰ç…§å­—ç¬¦ä¸²æ‹¼æ¥è§„åˆ™æ¥ï¼Œå‚è€ƒ'+'çš„è§„åˆ™C
[1, 2, undefined, 4, 5] + 10
// &quot;1,2,,4,510&quot;ï¼Œæ³¨æ„[1,2,undefined,4,5]ä¼šé»˜è®¤å…ˆè°ƒç”¨valueOfç»“æœè¿˜æ˜¯è¿™ä¸ªæ•°ç»„ï¼Œä¸æ˜¯åŸºç¡€æ•°æ®ç±»å‹ç»§ç»­è½¬æ¢ï¼Œä¹Ÿè¿˜æ˜¯è°ƒç”¨toStringï¼Œè¿”å›&quot;1,2,,4,5&quot;ï¼Œç„¶åå†å’Œ10è¿›è¡Œè¿ç®—ï¼Œè¿˜æ˜¯æŒ‰ç…§å­—ç¬¦ä¸²æ‹¼æ¥è§„åˆ™ï¼Œå‚è€ƒ'+'çš„ç¬¬3æ¡è§„åˆ™
</code></pre>
<h3>æ€»ç»“</h3>
<p>ä»ä¸‰ä¸ªæ–¹é¢å­¦ä¹ äº†æ•°æ®ç±»å‹ç›¸å…³å†…å®¹:</p>
<ul>
<li>
<p>æ•°æ®ç±»å‹çš„åŸºæœ¬æ¦‚å¿µï¼šè¿™æ˜¯å¿…é¡»æŒæ¡çš„çŸ¥è¯†ç‚¹ï¼Œä½œä¸ºæ·±å…¥ç†è§£ JavaScript çš„åŸºç¡€ã€‚</p>
</li>
<li>
<p>æ•°æ®ç±»å‹çš„åˆ¤æ–­æ–¹æ³•ï¼štypeof å’Œ instanceofï¼Œä»¥åŠ Object.prototype.toString çš„åˆ¤æ–­æ•°æ®ç±»å‹ã€æ‰‹å†™ instanceof ä»£ç ç‰‡æ®µã€‚</p>
</li>
<li>
<p>æ•°æ®ç±»å‹çš„è½¬æ¢æ–¹å¼ï¼šä¸¤ç§æ•°æ®ç±»å‹çš„è½¬æ¢æ–¹å¼ï¼Œæ—¥å¸¸å†™ä»£ç è¿‡ç¨‹ä¸­éšå¼è½¬æ¢éœ€è¦å¤šç•™æ„ï¼Œå¦‚æœç†è§£ä¸åˆ°ä½ï¼Œå¾ˆå®¹æ˜“å¼•èµ·åœ¨ç¼–ç è¿‡ç¨‹ä¸­çš„ bugï¼Œå¾—åˆ°ä¸€äº›æ„æƒ³ä¸åˆ°çš„ç»“æœã€‚</p>
</li>
</ul>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Proxyå’ŒReflect]]></title>
        <id>https://ajiu9.cn/posts/proxy-reflect</id>
        <link href="https://ajiu9.cn/posts/proxy-reflect"/>
        <updated>2018-10-31T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<p>è®¡ç®—æœºä¸­ä»£ç†æ¨¡å¼çš„å®šä¹‰ï¼šä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸€ä¸ªå¯¹è±¡ä¸é€‚åˆæˆ–è€…ä¸èƒ½ç›´æ¥å¼•ç”¨å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä»£ç†å¯¹è±¡å¯ä»¥åœ¨å®¢æˆ·ç«¯å’Œç›®æ ‡å¯¹è±¡ä¹‹é—´èµ·åˆ°ä¸­ä»‹ä½œç”¨ã€‚</p>
<h4>Proxyå’ŒReflect</h4>
<ul>
<li>
<p>Proxyå¯¹è±¡ç”¨äºå®šä¹‰åŸºæœ¬æ“ä½œçš„è‡ªå®šä¹‰è¡Œä¸ºï¼ˆå¦‚å±æ€§æŸ¥æ‰¾ï¼Œèµ‹å€¼ï¼Œæšä¸¾ï¼Œå‡½æ•°è°ƒç”¨ç­‰ï¼‰ã€‚</p>
</li>
<li>
<p>Reflectæ˜¯ä¸€ä¸ªå†…ç½®çš„å¯¹è±¡ï¼Œå®ƒæä¾›æ‹¦æˆª JavaScript æ“ä½œçš„æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•ä¸å¤„ç†å™¨å¯¹è±¡çš„æ–¹æ³•ç›¸åŒã€‚Reflectä¸æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå› æ­¤å®ƒæ˜¯ä¸å¯æ„é€ çš„ã€‚</p>
</li>
</ul>
<h4>Proxyçš„æ–¹æ³•</h4>
<pre><code class="language-js">let obj = {
time: '2018-10-31',
name: 'vender',
_r: 123

}
let monitor = new Proxy(obj, {
    //æ‹¦æˆªå¯¹è±¡è¯»å–å±æ€§å€¼
    get(target, key) {
        return obj[key].replace(/-/g, ':')
    },
    //æ‹¦æˆªå¯¹è±¡è®¾ç½®å±æ€§å€¼
    set(target, key, value) {
        if (key === 'name') {
        return target[key] = value
      } else {
        return target[key]
      }
    },
    // æ‹¦æˆª key in object æ“ä½œ
    has(target, key) {
    if (key === 'name') {
        return true
      } else {
        return false
    }
    // æ‹¦æˆªdelete
    deleteProperty(target, key) {
        if (key === '_r') {
        delete target[key]
        return true
      } else {
        return target[key]
      }
    },
    // æ‹¦æˆª Object.getOwnPropertyNames(),Object.getOwnProptySymbols(), Object.keys(), Reflect.ownKeys()
    ownKeys(target) {
        return Object.keys(target).filter(item =&gt; item !== 'time')
    }

})
</code></pre>
<p>ä¸Šé¢å®šä¹‰äº†ä¸€ä¸ªå¯¹è±¡<code>obj</code>, åŒæ—¶ä½¿ç”¨äº†Proxyä»£ç†åˆ†åˆ«æ‹¦æˆªäº†<code>get</code>,<code>set</code>,<code>has</code>,<code>deleteProperty</code>,<code>ownKeys</code>äº”ç§æ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ³•ã€‚</p>
<pre><code class="language-js">console.log('get', monitor.time) // get 2018:10:31
</code></pre>
<p>ä»£ç†<code>get</code>æ–¹æ³•æ‹¦æˆªå¯¹è±¡è¯»å–å±æ€§å€¼ã€‚</p>
<pre><code class="language-js">monitor.time = '2019'
monitor.name = 'apple'
console.log('set', monitor.name, monitor) // set apple Proxy {time: &quot;2018-10-31&quot;, name: &quot;apple&quot;, _r: 123}
</code></pre>
<p>ä»£ç†<code>set</code>æ–¹æ³•æ‹¦æˆªå¯¹è±¡è®¾ç½®å±æ€§å€¼ã€‚</p>
<pre><code class="language-js">console.log('has', 'name' in monitor, 'time' in monitor) // has true false
</code></pre>
<p>ä»£ç†<code>has</code>æ–¹æ³•æ‹¦æˆª key in object æ“ä½œã€‚</p>
<pre><code class="language-js">delete monitor.name
console.log('delete', monitor) // delete Proxy {time: &quot;2018-10-31&quot;, name: &quot;apple&quot;, _r: 123}
delete monitor._r
console.log('delete', monitor) // delete Proxy {time: &quot;2018-10-31&quot;, name: &quot;apple&quot;}
</code></pre>
<p>ä»£ç†<code>deleteProperty</code>æ–¹æ³•æ‹¦æˆªdeleteã€‚</p>
<pre><code class="language-js">console.log('ownKeys', Object.keys(monitor)) // ownKeys [&quot;name&quot;]
</code></pre>
<p>ä»£ç†<code>ownKeys</code>æ–¹æ³•æ‹¦æˆª<code>Object.getOwnPropertyNames()</code>,<code>Object.getOwnProptoSymbols()</code>,<code>Object.keys()</code>,<code>Reflect.ownKeys()</code>ã€‚</p>
<h4>Reflectçš„æ–¹æ³•</h4>
<p>å¦‚å‰é¢æ‰€è¯´ï¼ŒReflectçš„æ–¹æ³•ä¸å¤„ç†å™¨å¯¹è±¡çš„æ–¹æ³•ç›¸åŒã€‚Reflectä¸æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå› æ­¤å®ƒæ˜¯ä¸å¯æ„é€ çš„ã€‚<br>
ä¸€ä¸‹ç®€å•ä¸¾ä¾‹ï¼š</p>
<pre><code class="language-js">const obj = {
  time: '2018-10-31',
  name: 'vender',
  _r: 123
}
console.log('Reflect get:', Reflect.get(obj, 'time')) // Reflect get: 2018-10-31Reflect.set(obj, 'name', 'banana')
console.log('Reflect set:', obj) // Reflect set: {time: &quot;2018-10-31&quot;, name: &quot;banana&quot;, _r: 123}
console.log('Reflect has:', Reflect.has(obj, 'time')) // Reflect has: trueReflect.deleteProperty(obj, '_r')
console.log('Reflect delete:', obj) // Reflect delete: {time: &quot;2018-10-31&quot;, name: &quot;banana&quot;}
console.log('Reflect ownKeys:', Reflect.ownKeys(obj)) // Reflect ownKeys: [&quot;time&quot;, &quot;name&quot;]
</code></pre>
<h4>ç®€å•åº”ç”¨</h4>
<p>åœ¨å¼€å‘ä¸­é€šå¸¸ä¼šå¯¹æ•°æ®è¿›è¡Œæ ¡éªŒï¼Œæäº¤æ•°æ®çš„æ—¶å€™ä¼šåˆ¤æ–­æ•°æ®æ˜¯å¦ç¬¦åˆï¼Œåˆ©ç”¨<code>Proxy</code>å’Œ<code>Reflect</code>æ¥å®ç°ä¸€ä¸ªç®€å•çš„éªŒè¯ï¼Œå®ç°æ•°æ®å’Œä¸šåŠ¡è§£è€¦ï¼ŒåŠŸèƒ½ï¼š1.å¯¹ç”¨æˆ·å¡«å†™çš„åŸå§‹æ•°æ®è¿›è¡ŒéªŒè¯ã€‚2.æ•°æ®å’Œä¸šåŠ¡è§£è€¦</p>
<p>æ€è·¯ï¼š</p>
<ul>
<li>1.é€šè¿‡å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½å°±æ˜¯æ¥æ”¶ä¿©ä¸ªå‚æ•°(<code>target</code>åŸå§‹å¯¹è±¡å’Œ<code>validator</code>éªŒè¯è§„åˆ™)è¿”å›ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œæ‹¦æˆªåŸå§‹å¯¹è±¡çš„è®¾ç½®å±æ€§å€¼ï¼Œä¹Ÿå°±æ˜¯<code>set</code>æ–¹æ³•ã€‚</li>
<li>2.å®šä¹‰ä¸€ä¸ªç±»<code>Person</code>,åœ¨<code>constructor</code>ä¸­é‡å†™<code>this</code>ï¼ˆ<code>return validator(this, personValidator)</code>è¿™é‡Œè¿”å›çš„æ˜¯ä»£ç†å¯¹è±¡ï¼‰ä»è€Œè¾¾åˆ°å¯¹è¿™ä¸ªå¯¹è±¡å®ä¾‹çš„ä»£ç†ã€‚</li>
<li>3.å®šä¹‰ç¬¬äºŒæ­¥è¿™ä¸ªç±»<code>Person</code>æ‰€éœ€è¦çš„éªŒè¯è§„åˆ™å®šä¹‰<code>personValidator</code>ï¼Œåœ¨è¿™ä¸ªå¯¹è±¡é‡Œï¼Œå®ç°å¯¹æ•°æ®çš„å…·ä½“éªŒè¯ã€‚</li>
<li>4.ä½¿ç”¨æ—¶ï¼Œå®ä¾‹åŒ–ç¬¬äºŒæ­¥å®šä¹‰çš„ç±»<code>Person</code>ã€‚</li>
</ul>
<pre><code class="language-js">// å®šä¹‰ä¸€ä¸ªéªŒè¯å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªä»£ç†å¯¹è±¡ã€‚å®ƒçš„åŠŸèƒ½å°±æ˜¯éªŒè¯
function validator(target, validator) {
  return new Proxy(target, {
    _validator: validator, // ä¿å­˜åŸå§‹æ ¡éªŒå¯¹è±¡
    set(target, key, value, proxy) {
      // æ‹¦æˆªtargetè®¾ç½®å±æ€§
      if (target.hasOwnProperty(key)) { // targetå±æ€§keyå­˜åœ¨å°±ç»§ç»­ä¸‹ä¸€æ­¥ï¼Œä¸å­˜åœ¨æŠ›å‡ºé”™è¯¯
        const va = this._validator[key]
        if (va(value)) { // æ ¡éªŒè§„åˆ™æ˜¯å¦é€šè¿‡
          return Reflect.set(target, key, value, proxy) // æ‹¦æˆªtargetè®¾ç½®å±æ€§ï¼ŒéªŒè¯é€šè¿‡
        }
        else {
          throw new Error(`${key}ä¸èƒ½è®¾ç½®ä¸º${value}`)
        }
      }
      else {
        throw new Error(`${key} ä¸å­˜åœ¨`)
      }
    }
  })
}

// å®šä¹‰éªŒè¯è§„åˆ™
const personValidator = {
  name(val) {
    return typeof val === 'string'
  },
  age(val) {
    return typeof val === 'number' &amp;&amp; val &gt; 18
  }
}
// å®šä¹‰ç±»

class Person {
  constructor(name, age) {
    this.name = name
    this.age = age
    return validator(this, personValidator)
  }
}

// å®ä¾‹
const person = new Person('wu', 20)
person.name = 'zhuli'
console.info(person) // Proxy {name: &quot;hell&quot;, age: 20}

person.age = 'year' // Uncaught Error: ageä¸èƒ½è®¾ç½®ä¸ºyear
</code></pre>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä½ æ˜¯æ™¨é¸Ÿå‹è¿˜æ˜¯å¤œçŒ«å­å‹ï¼Ÿ]]></title>
        <id>https://ajiu9.cn/posts/are-you-a-morning-bird-or-a-night-owl</id>
        <link href="https://ajiu9.cn/posts/are-you-a-morning-bird-or-a-night-owl"/>
        <updated>2018-10-29T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<p>ä¸€å¤©ä¸­èº«ä½“çš„é‡è¦èº«ç†åŠŸèƒ½å¦‚å”¤é†’æ°´å¹³ã€æ–°é™ˆä»£è°¢å’Œå¿ƒç‡ä½“æ¸©ä¼šç»å†å˜åŒ–ã€‚å°½ç®¡è¿™äº›æ˜¼å¤œèŠ‚å¾‹åœ¨æ¯ä¸ªäººèº«ä¸Šéƒ½æ˜¯ç¡®å®å­˜åœ¨çš„ä½†å…·ä½“çš„æ—¶é—´åœ¨ä¸åŒçš„äººèº«ä¸Šæœ‰å¾ˆå¤§çš„å·®å¼‚ã€‚å®é™…ä¸Šï¼Œç ”ç©¶è€…æå‡ºæ ¹æ®æ‰€åå¥½çš„ç¡çœ -è§‰é†’æ¨¡å¼äººä»¬å¯ä»¥åˆ†æˆä¸åŒçš„æ—¶å‹ã€‚</p>
<p>è€ƒè™‘è¿™æ ·ä¸€ä¸ªç ”ç©¶ï¼Œä¸€ç»„ç ”ç©¶è€…è®©æ•°åƒç§˜åæ¬§æ´²æˆå¹´äººå›ç­”ä¸€ç³»åˆ—é—®é¢˜(æ¯”å¦‚ä½ ä½•æ—¶ä¸ŠåºŠç¡è§‰ï¼Ÿä½ éœ€è¦ç¡å¤šä¹…ï¼Ÿ)ã€‚åœ¨å‚ä¸è€…ä¸éœ€èµ·åºŠå·¥ä½œçš„æ—¥å­é‡Œï¼Œæœ€å¸¸è§çš„å›ç­”æ˜¯åˆå¤œåä¸ä¹…ç¡è§‰ï¼Œæ—©ä¸Š8.20èµ·åºŠï¼ˆRoenneberg et al.,2017ï¼‰ã€‚ä¸è¿™æ ·çš„æ ‡å‡†ç›¸æ¯”ï¼Œä½ çš„åå¥½æ˜¯æ€æ ·çš„ï¼Ÿå¦‚æœä½ æ—©èµ·æ—©ç¡ï¼Œä½ å¯ä»¥ç®—åšæ™¨é¸Ÿå‹ã€‚å¦‚æœä½ ä¹ æƒ¯åˆå¤œåèµ·åºŠï¼Œä½ ç®—åšå¤œçŒ«å­å‹ã€‚ä½ ç¦»æ ‡å‡†è¶Šè¿œï¼Œæ™¨é¸Ÿå‹å’Œå¤œçŒ«å­å‹çš„ç¨‹åº¦å°±è¶Šé«˜ã€‚éšç€æˆäººçš„å¹´é¾„å¢å¤§ï¼Œäººä»¬çš„åå¥½å¾€å¾€è½¬å‘æ™¨é¸Ÿå‹:ç¥–çˆ¶æ¯ä¸€èˆ¬åå‘äºæ¯”ä»–ä»¬åå‡ å²çš„å­™å­èµ·åºŠæ—©å¾—å¤šã€‚ç„¶è€Œï¼Œä¸è¿™ç§æ€»ä½“çš„è½¬å˜ç›¸åï¼Œä¸ªä½“å·®å¼‚ä¼¼ä¹ä¿æŒç¨³å®šã€‚ç›¸å¯¹æˆå¹´äººæ¥è¯´ï¼Œå¤œçŒ«å­å‹çš„é’å°‘å¹´èµ·åºŠæ›´æ™šã€‚ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹ä¸ºä»€ä¹ˆä½ çš„æ—¶å‹å¾ˆé‡è¦ã€‚</p>
<p>ç ”ç©¶è€…æä¾›äº†å¤§é‡çš„è¯æ®ï¼Œè¡¨æ˜èº«ç†èŠ‚å¾‹å¸®åŠ©ç¡®å®šäººä»¬åœ¨ä¸€å¤©çš„å“ªäº›æ—¶æ®µæœ€ä½³(BLatter &amp; Cajochen,2007)ã€‚ç”±äºèº«ç†èŠ‚å¾‹çš„å½±å“ï¼Œæ—¶å‹ä¸åŒçš„äººæœ€ä½³è¡¨ç°çš„æ—¶é—´ä¹Ÿä¸åŒã€‚è¿™ä¸ªè§„å¾‹åŒæ—¶é€‚ç”¨äºç”Ÿç†ä»»åŠ¡å’Œè®¤çŸ¥ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œè¶³çƒè¿åŠ¨å‘˜çš„è¿åŠ¨ç›¸å…³æŠ€èƒ½(å¦‚ç”¨è„šé¢ çƒçš„èƒ½åŠ›)å› æµ‹è¯•çš„æ—¶é—´è€Œè¡¨ç°å‡ºå˜åŒ–(Reillyetal.,2007)ã€‚è®¸å¤šè¡¨ç°ä¸Šçš„å·®å¼‚ä¸ä½“æ¸©å˜åŒ–çš„ç”Ÿç†æ¨¡å¼æœ‰å…³ã€‚</p>
<p>ä¸ºäº†è¯æ˜æ—¶å‹å¯¹è®¤çŸ¥çš„å½±å“ï¼Œç ”ç©¶è€…æ‹›å‹Ÿäº†ä¸€ç»„å¹´é¾„ä»11å²åˆ°14å²çš„é’å°‘å¹´(Goldsteinetal.,2007)ç ”ç©¶è€…æŒ‘é€‰äº†40åå‚ä¸è€…ï¼Œä»–ä»¬éƒ½æ˜¯é²œæ˜çš„æ™¨é¸Ÿå‹æˆ–å¤œçŒ«å­å‹ã€‚é’å°‘å¹´åœ¨ä¸€å¤©çš„æœ€ä½³æ—¶æ®µæˆ–éæœ€ä½³æ—¶æ®µæ¥å®Œæˆè‡ªæ ‡å‡†æ™ºåŠ›æµ‹éªŒ(WISC)çš„ä¸€éƒ¨åˆ†é¡¹ç›®ã€‚ä¾‹å¦‚ï¼Œä¸€åŠçš„æ™¨é¸Ÿå‹åœ¨æ—©æ™¨å®Œæˆæµ‹éªŒï¼Œå¦ä¸€åŠåˆ™åœ¨ä¸‹åˆã€‚åœ¨ä»–ä»¬åå¥½çš„æ—¶æ®µæ¥å—æµ‹éªŒçš„å‚ä¸è€…ï¼Œå…¶æ™ºåŠ›æµ‹éªŒå¾—åˆ†é«˜å‡º6åˆ†ã€‚(è¿™æ˜¯ä¸€ä¸ªéå¸¸å¤§çš„å·®å¼‚)ã€‚</p>
<p>ç ”ç©¶è€…è¿˜ä»é’å°‘å¹´çš„çˆ¶æ¯å’Œäº²å±é‚£é‡Œè·å¾—å…³äºä»–ä»¬æ—¥å¸¸è¡Œä¸ºçš„ä¿¡æ¯ã€‚æ™¨é¸Ÿå‹çš„å­¦ç”Ÿåœ¨è¿™äº›æµ‹é‡æ–¹å¼ä¸­è¡¨ç°å‡ºæ›´å¼ºçš„ç¤¾äº¤èƒ½åŠ›â€”â€”æ¯”å¤œçŒ«å­å‹çš„é’å°‘å¹´æ›´å°‘æŠ¥å‘Šæ³¨æ„é—®é¢˜å’Œæ”»å‡»è¡Œä¸ºã€‚è¿™ç±»ç»“æœæ”¯æŒäº†å¤œçŒ«å­å‹å­¦ç”Ÿå…·æœ‰ä¸€ç§â€œç¤¾äº¤æ—¶å·®â€çš„è§‚ç‚¹(Wittmannetal.,2006)ã€‚å› ä¸ºä»–ä»¬æ˜¯è¢«é—¹é’Ÿå«é†’ï¼Œæ‰€ä»¥ä»–ä»¬çš„è¡Œä¸ºè¡¨ç°æ€»æ˜¯å‘ç”Ÿåœ¨ä¸ä¸ªäººèŠ‚å¾‹ä¸åŒæ­¥æ—¶æ®µã€‚ç¼ºä¹åŒæ­¥æ€§å¯¹æˆç»©å’Œè¡Œä¸ºéƒ½æœ‰è´Ÿé¢å½±å“ã€‚é‚£ä¹ˆï¼Œä½ æ˜¯æ˜ç¡®çš„æ™¨é¸Ÿå‹è¿˜æ˜¯å¤œçŒ«å­å‹ï¼Ÿä½ å¯èƒ½æ›¾åœ¨å­¦æ ¡åšå‡ºä¸€å¤©çš„è®¡åˆ’æ—¶æˆ–ä¹‹åè®¤çœŸæ€è€ƒè¿‡è¿™ä¸ªé—®é¢˜ã€‚å¦‚æœä½ æœ‰å¾ˆå¼ºçš„æ—¶å‹ï¼Œæƒ³æƒ³è¯¥å¦‚ä½•å®‰æ’å·¥ä½œå’Œå¨±ä¹ä»¥è·å¾—æœ€ä½³è¡¨ç°ã€‚</p>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[ES6ä¸­Mapï¼ŒSetä¸æ•°ç»„å’Œå¯¹è±¡çš„æ¯”è¾ƒ]]></title>
        <id>https://ajiu9.cn/posts/map-set-array-object</id>
        <link href="https://ajiu9.cn/posts/map-set-array-object"/>
        <updated>2018-10-29T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<p>åœ¨es6ä¸­å¸¸ç”¨çš„æ•°æ®é›†åˆæœ‰è¿™å‡ ç§ï¼ŒObjectã€Arrayã€Mapã€Setã€‚ä»–ä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹é€‰ç”¨å“ªç§æ•°æ®é›†åˆç±»å‹ï¼Ÿä¸‹æ¥çœ‹è¿™å‡ ç§æ•°æ®é›†åˆçš„ä½¿ç”¨æ¯”è¾ƒã€‚</p>
<ul>
<li>Objectï¼šObjectæ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªå¯¹è±¡åŒ…è£…å™¨ã€‚</li>
<li>Arrayï¼šArrayå¯¹è±¡æ˜¯ç”¨äºæ„é€ æ•°ç»„çš„å…¨å±€å¯¹è±¡ï¼Œæ•°ç»„æ˜¯ç±»ä¼¼äºåˆ—è¡¨çš„é«˜é˜¶å¯¹è±¡ã€‚</li>
<li>Mapï¼šMap å¯¹è±¡ä¿å­˜é”®å€¼å¯¹ã€‚<code>ä»»ä½•å€¼</code>(å¯¹è±¡æˆ–è€…åŸå§‹å€¼) éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªé”®æˆ–ä¸€ä¸ªå€¼ã€‚</li>
<li>Setï¼šSet å¯¹è±¡å…è®¸ä½ å­˜å‚¨ä»»ä½•ç±»å‹çš„<code>å”¯ä¸€å€¼</code>ï¼Œæ— è®ºæ˜¯åŸå§‹å€¼æˆ–è€…æ˜¯å¯¹è±¡å¼•ç”¨ã€‚</li>
</ul>
<h4>Mapä¸æ•°ç»„æ¯”è¾ƒ</h4>
<pre><code class="language-js">const map = new Map()
const arr = []

// add
map.set('a', 1)
arr.push({ a: 1 })
console.log('map-array', map, arr)
// map-array Map(1) {&quot;a&quot; =&gt; 1} [{â€¦}]

// exist
const map_exist = map.has('a')
const arr_exist = arr.find(item =&gt; item.a)
console.log('map-array', map_exist, arr_exist)
// map-array true {a: 1}

// modify
map.set('a', 2)
arr.forEach(item =&gt; item.a ? item.a = 2 : '')
console.log('map-array', map, arr)
// map-array Map(1) {&quot;a&quot; =&gt; 2} [{â€¦}]

// delete
map.delete('a')
const index = arr.findIndex(item =&gt; item.a)
arr.splice(arr.findIndex(item =&gt; item.b), 1)
console.log('map-array', map, arr)
// map-array Map(0) {} []
</code></pre>
<h4>Setä¸æ•°ç»„æ¯”è¾ƒ</h4>
<pre><code class="language-js">const set = new Set()
const array = []

// add
const a1 = {
  a: 11
}
set.add(a1)
array.push({ a: 11 })
console.log('set-array', set, array)
// set-array Set(1) {{â€¦}} [{â€¦}]

// exist
const set_exist = set.has('a')
const array_exist = array.find(item =&gt; item.a)
console.info('map-array', set_exist, array_exist)
// map-array false {a: 11}

// modify
set.forEach(item =&gt; item.a ? item.a = 2 : '')
array.forEach(item =&gt; item.a ? item.a = 2 : '')
console.log('set-array', set, array)
// set-array Set(1) {{â€¦}} [{â€¦}]

// delete
set.forEach(item =&gt; item.a ? set.delete(item) : '')
array.splice(array.findIndex(item =&gt; item.b), 1)
console.log('map-array', set, array) // map-array Set(0) {} []
</code></pre>
<h4>Map-Setä¸Objectæ¯”è¾ƒ</h4>
<pre><code class="language-js">const item = { a: 1 }
const map = new Map()
const set = new Set()
const obj = new Object()

// add
map.set('a', 1)
set.add(item)
obj.a = 1
console.log('map-set-object', map, set, obj)
// map-set-object Map(1) {&quot;a&quot; =&gt; 1} Set(1) {{â€¦}} {a: 1}

// exist
console.info({
  map_exist: map.has('a'),
  set_exist: set.has(item),
  ibj_exist: 'a' in obj
})
// {map_exist: true, set_exist: true, ibj_exist: true}

// modify
map.set('a', 2)
item.a = 2
obj.a = 2
console.log('map-set-object', map, set, obj)
// map-set-object Map(1) {&quot;a&quot; =&gt; 2} Set(1) {{â€¦}} {a: 2}

// delete
map.delete('a')
set.delete(item)
delete obj.a
console.log('map-set-object', map, set, obj)
// map-set-object Map(0) {} Set(0) {} {}
</code></pre>
<h4>æ€»ç»“</h4>
<p>ä»ä¸Šé¢å¯¹æ•°æ®ç»“æ„çš„å¢æŸ¥æ”¹åˆ ä¸­å¯ä»¥çœ‹å‡ºï¼Œèƒ½ä½¿ç”¨Mapä¸ç”¨Array,å¦‚æœè¦ä¿è¯æ•°æ®çš„å”¯ä¸€æ€§ï¼Œå¯ä»¥ä½¿ç”¨Setã€‚</p>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[å‰ç«¯é”™è¯¯ç›‘æ§]]></title>
        <id>https://ajiu9.cn/posts/front-end-error-monitoring</id>
        <link href="https://ajiu9.cn/posts/front-end-error-monitoring"/>
        <updated>2018-10-18T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<h4>å†™åœ¨å‰é¢</h4>
<p>åšå¥½é”™è¯¯ç›‘æ§ï¼Œå°†ç”¨æˆ·ä½¿ç”¨æ—¶çš„é”™è¯¯ä¸ŠæŠ¥ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®šä½è§£å†³ä¸€äº›å‡ºç°çš„é—®é¢˜ã€‚æœ¬æ¬¡ä¸»è¦äº†è§£ä¸€ä¸‹å‡ ä¸ªé—®é¢˜ï¼šå‰ç«¯é”™è¯¯çš„åˆ†ç±»ï¼Œæ¯ä¸€ç§åˆ†ç±»çš„é”™è¯¯æ•è·æ–¹å¼æ˜¯ä»€ä¹ˆï¼Œå¦‚ä½•æŠŠè¿™äº›é”™è¯¯ä¸ŠæŠ¥ï¼Ÿ</p>
<h3>å‰ç«¯é”™è¯¯åˆ†ç±»</h3>
<ul>
<li>å³æ—¶è¿è¡Œé”™è¯¯ï¼šä»£ç é”™è¯¯</li>
<li>èµ„æºåŠ è½½é”™è¯¯</li>
<li>æ¥å£é”™è¯¯<br>
å³æ—¶è¿è¡Œé”™è¯¯çš„æ•è·æ–¹å¼ï¼š</li>
<li><code>try..catch</code></li>
<li><code>window.onerror</code></li>
</ul>
<p>èµ„æºåŠ è½½é”™è¯¯çš„æ•è·æ–¹å¼ï¼š</p>
<ul>
<li><code>object.onerror</code></li>
<li><code>performance.getEntries()</code></li>
<li><code>addEventListener(&quot;error&quot;,function{}, true)</code>erroräº‹ä»¶æ•è·ï¼ˆèµ„æºåŠ è½½é”™è¯¯ä¸ä¼šå†’æ³¡ï¼Œæ‰€ä»¥window.onerrorä¸èƒ½æ•è·èµ„æºåŠ è½½é”™è¯¯ï¼‰ã€‚</li>
</ul>
<p>æ¥å£é”™è¯¯æ•è·æ–¹å¼<br>
æ‰€æœ‰httpè¯·æ±‚éƒ½æ˜¯åŸºäº<code>xmlHttpRequest</code>æˆ–è€…<code>fetch</code>å°è£…çš„ã€‚æ‰€ä»¥è¦æ•è·å…¨å±€çš„æ¥å£é”™è¯¯ï¼Œæ–¹æ³•å°±æ˜¯å°è£…xmlHttpRequestæˆ–è€…fetchã€‚<br>
è¿™ä¸ªæ•è·å¯ä»¥ç”¨çŠ¶æ€ç ä½œä¸ºå‡ºé”™æ¡ä»¶å¤„ç†</p>
<pre><code class="language-js">function axios() {
  if (!window.XMLHttpRequest)
    return
  const xmlhttp = window.XMLHttpRequest
  _oldSend = xmlhttp.prototype.send
  const _handleEvent = function (event) {
    if (event &amp;&amp; event.currentTarget &amp;&amp; event.currentTarget.status !== 200) {
      // è‡ªå®šä¹‰é”™è¯¯ä¸ŠæŠ¥
    }
  }
  xmlhttp.prototype.send = function () {
    if (this.addEventListener) {
      this.addEventListener('error', _handleEvent)
      this.addEventListener('load', _handleEvent)
      this.addEventListener('abort', _handleEvent)
    }
    else {
      const _oldStateChange = this.onreadystatechange
      this.onreadystatechange = function (event) {
        if (this.readyState === 4)
          _handleEvent(event)

        _oldStateChange &amp;&amp; _oldStateChange.apply(this, arguments)
      }
    }
    return _oldSend.apply(this, arguments)
  }
}
</code></pre>
<pre><code class="language-js">function axios() {
  if (!window.fetch)
    return
  const _oldFetch = window.fetch
  window.fetch = function () {
    return _oldFetch.apply(this, arguments)
      .then((res) =&gt; {
        if (!res.ok) {
          // True if status is HTTP 2xx
          // ä¸ŠæŠ¥é”™è¯¯
        }
        return res
      })
      .catch((error) =&gt; {
        // ä¸ŠæŠ¥é”™è¯¯throw error;
      })
  }
}
</code></pre>
<p>è·¨åŸŸçš„jsè¿è¡Œé”™è¯¯æ•è·é”™è¯¯æç¤ºï¼š</p>
<p><img src="https://ajiu9.cn/images/20240316133018d6be9j.png" alt="å›¾ç‰‡"></p>
<p>å¤„ç†æ–¹æ³•ï¼š</p>
<ul>
<li>åœ¨scriptæ ‡ç­¾ä¸­å¢åŠ crossoriginå±æ€§ã€‚</li>
<li>è®¾ç½®jsèµ„æºå“åº”å¤´Access-Control-Allow-Originã€‚</li>
</ul>
<h4>ä¸ŠæŠ¥é”™è¯¯çš„åŸºæœ¬åŸç†</h4>
<ul>
<li>é‡‡ç”¨Ajaxé€šä¿¡çš„æ–¹å¼ä¸ŠæŠ¥ã€‚</li>
<li>åˆ©ç”¨Imageå¯¹è±¡ä¸ŠæŠ¥</li>
</ul>
<p>æ¨èç”¨Imageå¯¹è±¡ä¸ŠæŠ¥é”™è¯¯ç±»å‹ï¼Œæ¯”Ajaxæ–¹å¼ç®€å•ï¼Œå¹¶ä¸”ä¸ç”¨å€ŸåŠ©ä»»ä½•ç¬¬ä¸‰æ–¹åº“ã€‚</p>
<pre><code class="language-js">(new Image()).src = 'http://baidu.com/error?err=error'
</code></pre>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[æµè§ˆå™¨æ¸²æŸ“æœºåˆ¶]]></title>
        <id>https://ajiu9.cn/posts/browser-rendering-mechanism</id>
        <link href="https://ajiu9.cn/posts/browser-rendering-mechanism"/>
        <updated>2018-10-11T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<h4>ä»€ä¹ˆæ˜¯DOCTYPEåŠä½œç”¨</h4>
<p>DOCTYPEæ ‡ç­¾æ˜¯ä¸€ç§æ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€çš„æ–‡æ¡£ç±»å‹å£°æ˜ï¼Œå®ƒçš„ç›®çš„æ˜¯è¦å‘Šè¯‰æ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€è§£æå™¨ï¼Œå®ƒåº”è¯¥ä½¿ç”¨ä»€ä¹ˆæ ·çš„æ–‡æ¡£ç±»å‹å®šä¹‰ï¼ˆDTDï¼‰æ¥è§£ææ–‡æ¡£ã€‚</p>
<ul>
<li>
<p>HTML5ï¼š<code>&lt;!DOCTYPE html&gt;</code></p>
</li>
<li>
<p>HTML4.01 Strict <code>&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot; &quot; http://www.w3.org/TR/html4/strict.dtd&quot;&gt;</code>(è¯¥DTDåŒ…å«æ‰€æœ‰HTMLå…ƒç´ å’Œå±æ€§ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬å±•ç¤ºæ€§çš„å’Œå¼ƒç”¨çš„å…ƒç´ å¦‚(font))</p>
</li>
<li>
<p>HTML4.01 Transitional <code>&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot; http://www.w3.org/TR/html4/loose.dtd&quot; &gt;</code>(è¯¥DTDåŒ…å«æ‰€æœ‰HTMLå…ƒç´ å’Œå±æ€§ï¼ŒåŒ…æ‹¬å±•ç¤ºæ€§çš„å’Œå¼ƒç”¨çš„å…ƒç´ å¦‚(font))</p>
</li>
</ul>
<h4>æµè§ˆå™¨æ¸²æŸ“è¿‡ç¨‹</h4>
<p>webkitçš„ä¸»è¦æµç¨‹ï¼š</p>
<p><img src="https://ajiu9.cn/images/20240316130401LakYs1.png" alt="å›¾ç‰‡"></p>
<p>è§£æhtmlä»¥æ„å»ºdomæ ‘ -&gt; æ„å»ºrenderæ ‘ -&gt; å¸ƒå±€renderæ ‘ -&gt; ç»˜åˆ¶renderæ ‘</p>
<ul>
<li>
<p>æµè§ˆå™¨ä¼šå°†HTMLè§£ææˆä¸€ä¸ªDOMæ ‘ï¼ŒDOMæ ‘çš„æ„å»ºè¿‡ç¨‹æ˜¯ä¸€ä¸ªæ·±åº¦éå†è¿‡ç¨‹ï¼šå½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½æ„å»ºå¥½åæ‰ä¼šå»æ„å»ºå½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ã€‚</p>
</li>
<li>
<p>å°†CSSè§£ææˆ CSS Rule Tree ã€‚</p>
</li>
<li>
<p>æ ¹æ®DOMæ ‘å’ŒCSSDOMæ¥æ„é€  Rendering Treeã€‚æ³¨æ„ï¼šRendering Tree æ¸²æŸ“æ ‘å¹¶ä¸ç­‰åŒäº DOM æ ‘ï¼Œå› ä¸ºä¸€äº›åƒHeaderæˆ–display:noneçš„ä¸œè¥¿å°±æ²¡å¿…è¦æ”¾åœ¨æ¸²æŸ“æ ‘ä¸­äº†ã€‚</p>
</li>
<li>
<p>æœ‰äº†Render Treeï¼Œæµè§ˆå™¨å·²ç»èƒ½çŸ¥é“ç½‘é¡µä¸­æœ‰å“ªäº›èŠ‚ç‚¹ã€å„ä¸ªèŠ‚ç‚¹çš„CSSå®šä¹‰ä»¥åŠä»–ä»¬çš„ä»å±å…³ç³»ã€‚ä¸‹ä¸€æ­¥æ“ä½œç§°ä¹‹ä¸ºlayoutï¼Œé¡¾åæ€ä¹‰å°±æ˜¯è®¡ç®—å‡ºæ¯ä¸ªèŠ‚ç‚¹åœ¨å±å¹•ä¸­çš„ä½ç½®ã€‚</p>
</li>
<li>
<p>å†ä¸‹ä¸€æ­¥å°±æ˜¯ç»˜åˆ¶ï¼Œå³éå†renderæ ‘ï¼Œå¹¶ä½¿ç”¨UIåç«¯å±‚ç»˜åˆ¶æ¯ä¸ªèŠ‚ç‚¹ã€‚</p>
</li>
</ul>
<h4>reflowï¼ˆå›æµï¼‰å’Œerepaintï¼ˆé‡ç»˜ï¼‰</h4>
<ul>
<li>
<p>reflowï¼ˆå›æµï¼‰ï¼šå½“æµè§ˆå™¨å‘ç°æŸä¸ªéƒ¨åˆ†å‘ç”Ÿäº†ç‚¹å˜åŒ–å½±å“äº†å¸ƒå±€ï¼Œéœ€è¦å€’å›å»é‡æ–°æ¸²æŸ“ï¼Œå†…è¡Œç§°è¿™ä¸ªå›é€€çš„è¿‡ç¨‹å« reflowã€‚reflow ä¼šä» è¿™ä¸ª root frame å¼€å§‹é€’å½’å¾€ä¸‹ï¼Œä¾æ¬¡è®¡ç®—æ‰€æœ‰çš„ç»“ç‚¹å‡ ä½•å°ºå¯¸å’Œä½ç½®ã€‚reflow å‡ ä¹æ˜¯æ— æ³•é¿å…çš„ã€‚ç°åœ¨ç•Œé¢ä¸Šæµè¡Œçš„ä¸€äº›æ•ˆæœï¼Œæ¯”å¦‚æ ‘çŠ¶ç›®å½•çš„æŠ˜å ã€å±•å¼€ï¼ˆå®è´¨ä¸Šæ˜¯å…ƒç´ çš„æ˜¾ ç¤ºä¸éšè—ï¼‰ç­‰ï¼Œéƒ½å°†å¼•èµ·æµè§ˆå™¨çš„ reflowã€‚é¼ æ ‡æ»‘è¿‡ã€ç‚¹å‡»â€¦â€¦åªè¦è¿™äº›è¡Œä¸ºå¼•èµ·äº†é¡µé¢ä¸ŠæŸäº›å…ƒç´ çš„å ä½é¢ç§¯ã€å®šä½æ–¹å¼ã€è¾¹è·ç­‰å±æ€§çš„å˜åŒ–ï¼Œéƒ½ä¼šå¼•èµ·å®ƒå†…éƒ¨ã€å‘¨å›´ç”šè‡³æ•´ä¸ªé¡µé¢çš„é‡æ–°æ¸²æŸ“ã€‚é€šå¸¸æˆ‘ä»¬éƒ½æ— æ³•é¢„ä¼°æµè§ˆå™¨åˆ°åº•ä¼š reflow å“ªä¸€éƒ¨åˆ†çš„ä»£ç ï¼Œå®ƒä»¬éƒ½å½¼æ­¤ç›¸äº’å½±å“ç€ã€‚</p>
</li>
<li>
<p>repaintï¼ˆé‡ç»˜ï¼‰ï¼šæ”¹å˜æŸä¸ªå…ƒç´ çš„èƒŒæ™¯è‰²ã€æ–‡å­—é¢œè‰²ã€è¾¹æ¡†é¢œè‰²ç­‰ç­‰ä¸å½±å“å®ƒå‘¨å›´æˆ–å†…éƒ¨å¸ƒå±€çš„å±æ€§æ—¶ï¼Œå±å¹•çš„ä¸€éƒ¨åˆ†è¦é‡ç”»ï¼Œä½†æ˜¯å…ƒç´ çš„å‡ ä½•å°ºå¯¸æ²¡æœ‰å˜ã€‚</p>
</li>
</ul>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[å‰ç«¯å®‰å…¨ç±»CSRF,XSS]]></title>
        <id>https://ajiu9.cn/posts/csrf-xss</id>
        <link href="https://ajiu9.cn/posts/csrf-xss"/>
        <updated>2018-09-29T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<h4>å‰ç«¯å®‰å…¨ç±»</h4>
<p><em>CSRF</em><br>
<em>XSS</em></p>
<h4>CSRF</h4>
<p>CSRFï¼Œé€šå¸¸ç§°ä¸ºè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œè‹±æ–‡åä¸ºCross-site request forgeryç¼©å†™ã€‚<br>
<strong>æ”»å‡»åŸç†ï¼š</strong><br>
æ”»å‡»é€šè¿‡åœ¨æˆæƒç”¨æˆ·è®¿é—®çš„é¡µé¢ä¸­åŒ…å«é“¾æ¥æˆ–è€…è„šæœ¬çš„æ–¹å¼å·¥ä½œã€‚ä¾‹å¦‚ï¼šä¸€ä¸ªç½‘ç«™ç”¨æˆ·Bobå¯èƒ½æ­£åœ¨æµè§ˆèŠå¤©è®ºå›ï¼Œè€ŒåŒæ—¶å¦ä¸€ä¸ªç”¨æˆ·Aliceä¹Ÿåœ¨æ­¤è®ºå›ä¸­ï¼Œå¹¶ä¸”åè€…åˆšåˆšå‘å¸ƒäº†ä¸€ä¸ªå…·æœ‰Bobé“¶è¡Œé“¾æ¥çš„å›¾ç‰‡æ¶ˆæ¯ã€‚è®¾æƒ³ä¸€ä¸‹ï¼ŒAliceç¼–å†™äº†ä¸€ä¸ªåœ¨Bobçš„é“¶è¡Œç«™ç‚¹ä¸Šè¿›è¡Œå–æ¬¾çš„formæäº¤çš„é“¾æ¥ï¼Œå¹¶å°†æ­¤é“¾æ¥ä½œä¸ºå›¾ç‰‡srcã€‚å¦‚æœBobçš„é“¶è¡Œåœ¨cookieä¸­ä¿å­˜ä»–çš„æˆæƒä¿¡æ¯ï¼Œå¹¶ä¸”æ­¤cookieæ²¡æœ‰è¿‡æœŸï¼Œé‚£ä¹ˆå½“Bobçš„æµè§ˆå™¨å°è¯•è£…è½½å›¾ç‰‡æ—¶å°†æäº¤è¿™ä¸ªå–æ¬¾formå’Œä»–çš„cookieï¼Œè¿™æ ·åœ¨æ²¡ç»BobåŒæ„çš„æƒ…å†µä¸‹ä¾¿æˆæƒäº†è¿™æ¬¡äº‹åŠ¡ã€‚<br>
å®ç°CSRFæ”»å‡»ä¸å¯ç¼ºå°‘çš„ä¸¤å¤§å› ç´ ï¼š</p>
<ul>
<li>è¿™ä¸ªç½‘ç«™çš„æ¥å£æœ‰æ¼æ´ã€‚</li>
<li>ç”¨æˆ·åœ¨è¿™ä¸ªæ³¨å†Œç½‘ç«™ç™»å½•è¿‡ã€‚</li>
</ul>
<p><strong>é˜²å¾¡æªæ–½</strong></p>
<ul>
<li>tokenéªŒè¯</li>
<li>RefereréªŒè¯</li>
<li>éšè—ä»¤ç‰Œ</li>
</ul>
<h4>XSS</h4>
<p>XSSåˆå«CSS (Cross Site Script) ï¼Œè·¨ç«™è„šæœ¬æ”»å‡»ã€‚å®ƒæŒ‡çš„æ˜¯æ¶æ„æ”»å‡»è€…å¾€Webé¡µé¢é‡Œæ’å…¥æ¶æ„htmlä»£ç ï¼Œå½“ç”¨æˆ·æµè§ˆè¯¥é¡µä¹‹æ—¶ï¼ŒåµŒå…¥å…¶ä¸­Webé‡Œé¢çš„htmlä»£ç ä¼šè¢«æ‰§è¡Œï¼Œä»è€Œè¾¾åˆ°æ¶æ„ç”¨æˆ·çš„ç‰¹æ®Šç›®çš„ã€‚</p>
<p><strong>æ”»å‡»åŸç†ï¼š</strong><br>
åˆ©ç”¨åˆæ³•çš„æ¸ é“å‘é¡µé¢æ³¨å…¥è„šæœ¬ï¼Œè¿è¡Œæ”»å‡»è€…è‡ªå·±æƒ³åšçš„äº‹æƒ…ã€‚<br>
æ”»å‡»æ–¹å¼ï¼š</p>
<ul>
<li>åå°„å‹ï¼šå‘å‡ºè¯·æ±‚æ—¶ï¼ŒXSSä»£ç å‡ºç°åœ¨URLä¸­ï¼Œåšä¸ºè¾“å…¥æäº¤åˆ°æœåŠ¡å™¨ç«¯ï¼ŒæœåŠ¡å™¨ç«¯ç®€æåå“åº”ï¼ŒXSSä»£ç éšå“åº”å†…å®¹ä¸€èµ·ä¼ å›æµè§ˆå™¨ï¼Œæœ€åæµè§ˆå™¨è§£æå¹¶æ‰§è¡Œä»£ç ã€‚è¿™ä¸ªè¿‡ç¨‹åƒä¸€æ¬¡åå°„ï¼Œæ•…ç§°åå°„å‹XSSã€‚</li>
<li>å­˜å‚¨å‹ï¼šå­˜å‚¨å‹å’Œåå°„å‹çš„å·®åˆ«åœ¨äºï¼Œæäº¤çš„ä»£ç ä¼šå­˜å‚¨åœ¨æœåŠ¡ç«¯ï¼ˆæ•°æ®åº“ã€å†…å­˜ã€ç³»ç»Ÿæ–‡ä»¶ç­‰ï¼‰ï¼Œä¸‹æ¬¡è¯·æ±‚é¡µé¢æ—¶ä¸ç”¨å†æäº¤XSSä»£ç ã€‚</li>
</ul>
<p><strong>é˜²å¾¡æªæ–½</strong></p>
<ul>
<li>ç¼–ç ï¼šå¯¹ç”¨æˆ·è¾“å…¥çš„æ•°æ®è¿›è¡ŒHTML Entityç¼–ç ã€‚</li>
<li>è¿‡æ»¤ï¼šç§»é™¤ç”¨æˆ·ä¸Šä¼ çš„DOMå±æ€§ï¼Œä¾‹å¦‚onerroräº‹ä»¶ç­‰ï¼›ç§»é™¤ç”¨æˆ·ä¸Šä¼ çš„styleèŠ‚ç‚¹ã€scriptèŠ‚ç‚¹ã€iframeèŠ‚ç‚¹ç­‰ã€‚</li>
<li>æ ¡æ­£ï¼šé¿å…ç›´æ¥å¯¹HTML Entityè§£ç ï¼›ä½¿ç”¨DOM Parseè½¬æ¢ï¼Œæ ¡æ­£ä¸é…å¯¹çš„DOMæ ‡ç­¾ã€‚</li>
</ul>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[é¢å‘å¯¹è±¡-ç±»ä¸ç»§æ‰¿]]></title>
        <id>https://ajiu9.cn/posts/object-oriented-class-and-inheritance</id>
        <link href="https://ajiu9.cn/posts/object-oriented-class-and-inheritance"/>
        <updated>2018-09-29T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<h4>æ¦‚å¿µ</h4>
<ul>
<li>å¯¹è±¡ï¼šå¯¹è±¡æ˜¯äººä»¬è¦è¿›è¡Œç ”ç©¶çš„ä»»ä½•äº‹ç‰©ï¼Œä»æœ€ç®€å•çš„æ•´æ•°åˆ°å¤æ‚çš„é£æœºç­‰å‡å¯çœ‹ä½œå¯¹è±¡ï¼Œå®ƒä¸ä»…èƒ½è¡¨ç¤ºå…·ä½“çš„äº‹ç‰©ï¼Œè¿˜èƒ½è¡¨ç¤ºæŠ½è±¡çš„è§„åˆ™ã€è®¡åˆ’æˆ–äº‹ä»¶ã€‚</li>
<li>å¯¹è±¡çš„çŠ¶æ€å’Œè¡Œä¸ºï¼šå¯¹è±¡å…·æœ‰çŠ¶æ€ï¼Œä¸€ä¸ªå¯¹è±¡ç”¨æ•°æ®å€¼æ¥æè¿°å®ƒçš„çŠ¶æ€ï¼›å¯¹è±¡è¿˜æœ‰æ“ä½œï¼Œç”¨äºæ”¹å˜å¯¹è±¡çš„çŠ¶æ€ï¼Œå¯¹è±¡åŠå…¶æ“ä½œå°±æ˜¯å¯¹è±¡çš„è¡Œä¸ºï¼›å¯¹è±¡å®ç°äº†æ•°æ®å’Œæ“ä½œçš„ç»“åˆï¼Œä½¿æ•°æ®å’Œæ“ä½œå°è£…äºå¯¹è±¡çš„ç»Ÿä¸€ä½“ä¸­ã€‚</li>
<li>ç±»ï¼šå…·æœ‰ç›¸åŒç‰¹æ€§ï¼ˆæ•°æ®å…ƒç´ ï¼‰å’Œè¡Œä¸ºï¼ˆåŠŸèƒ½ï¼‰çš„å¯¹è±¡çš„æŠ½è±¡å°±æ˜¯ç±»ã€‚å› æ­¤ï¼Œå¯¹è±¡çš„æŠ½è±¡æ˜¯ç±»ï¼Œç±»çš„å…·ä½“åŒ–å°±æ˜¯å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥è¯´ç±»çš„å®ä¾‹æ˜¯å¯¹è±¡ï¼Œç±»å®é™…ä¸Šå°±æ˜¯ä¸€ç§æ•°æ®ç±»å‹ã€‚ç±»å…·æœ‰å±æ€§ï¼Œå®ƒæ˜¯å¯¹è±¡çš„çŠ¶æ€çš„æŠ½è±¡ï¼Œç”¨æ•°æ®ç»“æ„æ¥æè¿°ç±»çš„å±æ€§ã€‚ç±»å…·æœ‰æ“ä½œï¼Œå®ƒæ˜¯å¯¹è±¡çš„è¡Œä¸ºçš„æŠ½è±¡ï¼Œç”¨æ“ä½œåå’Œå®ç°è¯¥æ“ä½œçš„æ–¹æ³•æ¥æè¿°ã€‚</li>
<li>javascriptæ˜¯é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯é€šè¿‡åŸå‹å®ç°ç»§æ‰¿çš„ã€‚</li>
</ul>
<h4>ç±»ä¸å®ä¾‹</h4>
<p>ç±»çš„å£°æ˜:</p>
<pre><code class="language-js">/*
* ç±»çš„å£°æ˜
*/
function Animal() {
  this.name = 'name'
}

/*
* ES6ä¸­classå£°æ˜
*/
class Animal2 {
  constructor() {
    this.name = name
  }

  walk() {
    console.log(this.name)
  }
}
/*
* å®ä¾‹åŒ–
*/
const o1 = new Animal(); const o2 = new Animal2()
</code></pre>
<h4>ç±»ä¸ç»§æ‰¿</h4>
<p>ç±»çš„ç»§æ‰¿æœ¬è´¨ä¸Šæ˜¯é€šè¿‡åŸå‹é“¾å®ç°ç»§æ‰¿ã€‚<br>
<strong>å€ŸåŠ©æ„é€ å‡½æ•°å®ç°ç»§æ‰¿</strong></p>
<pre><code class="language-js">/*
* å€ŸåŠ©æ„é€ å‡½æ•°å®ç°ç»§æ‰¿
*/
function Parent1() {
  this.name = 'parent1'
}
Parent1.prototype.say = function () {
  console.log('say')
}
function Child1() {
  Parent1.call(this); this.type = 'child1'
}
console.log(new Child1())
// {name: &quot;parent1&quot;, type: &quot;child1&quot;}
// `Parent1`å‡½æ•°åŸå‹ä¸Šçš„æ–¹æ³•æ²¡æœ‰ç»§æ‰¿ï¼ŒæŠ¥é”™console.log(new Child1().say())
// Uncaught TypeError: (intermediate value).say is not a function
</code></pre>
<p>å€ŸåŠ©æ„é€ å‡½æ•°å®ç°ç»§æ‰¿æ˜¯é€šè¿‡<code>call()</code>æˆ–è€…<code>apply()</code>æŒ‡å®š<code>this</code>æ¥å®ç°æ”¹å˜<code>Parent1</code>å‡½æ•°ä¸Šä¸‹æ–‡æ¥å®ç°ç»§æ‰¿ã€‚ä½†æ˜¯ä¸èƒ½ç»§æ‰¿<code>Parent1</code>å‡½æ•°åŸå‹ä¸Šçš„æ–¹æ³•ã€‚</p>
<p><strong>å€ŸåŠ©åŸå‹é“¾å®ç°ç»§æ‰¿</strong></p>
<pre><code class="language-js">/*
 * å€ŸåŠ©åŸå‹é“¾å®ç°ç»§æ‰¿
 */
function Parent2() {
  this.name = 'parent2'; this.list = [1, 2, 3]
}
Parent2.prototype.say = function () {
  console.log('say2')
}; function Child2() {
  this.type = 'child2'
}
Child2.prototype = new Parent2()
const s1 = new Child2()
const s2 = new Child2()
console.log(s1.list, s2.list)
// [1,2,3],[1,2,3]s2.list.push(4);console.log(s1.list,s2.list);
// [1, 2, 3, 4], [1, 2, 3, 4]console.log(s1.say()); // say2
</code></pre>
<p>è¿™ç§æ–¹å¼æ˜¯é€šè¿‡<code>prototype</code>æ¥å®ç°ç»§æ‰¿çš„ï¼Œå‡½æ•°çš„åŸå‹æŒ‡å‘<code>new Parent2()</code>ã€‚æ‰€ä»¥è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹æ˜¯ç»§æ‰¿çš„å±æ€§éƒ½æ˜¯åŸå‹é“¾ä¸Šçš„ï¼Œåªè¦ä¸€ä¸ªå®ä¾‹ä¸Šç»§æ‰¿çš„å±æ€§æ”¹å˜ï¼Œå°±æ˜¯æ”¹å˜åŸå‹é“¾ä¸Šçš„å±æ€§ï¼Œå¯¼è‡´æ‰€æœ‰å®ä¾‹å±æ€§éƒ½å˜äº†ã€‚</p>
<p><strong>ç»„åˆæ–¹å¼</strong></p>
<pre><code class="language-js">/*
* ç»„åˆæ–¹å¼
*/
function Parent3() {
  this.name = 'parent3'; this.list = [1, 2, 3]
}
Parent3.prototype.say = function () {
  console.log('say3')
}
function Child3() {
  Parent3.call(this); this.type = 'child3'
}
Child3.prototype = new Parent3()
const s3 = new Child3()
const s4 = new Child3()
console.log(s3.list, s4.list)
// [1,2,3],[1,2,3]s4.list.push(4);console.log(s3.list,s4.list);
// [1, 2, 3], [1, 2, 3, 4]console.log(s3.say());
// say3
</code></pre>
<p>é€šè¿‡ä¸Šé¢ä¸¤ç§ç»„åˆæ–¹å¼å®ç°ç»§æ‰¿ï¼Œç»“åˆäº†ä»–ä»¬çš„ä¼˜ç‚¹ï¼Œä½†è¿™é‡Œ<code>Parent3.call(this)</code>,<code>Child3.prototype = new Parent3()</code>æ„é€ å‡½æ•°æ‰§è¡Œäº†ä¿©æ¬¡ã€‚</p>
<p><strong>ç»„åˆç»§æ‰¿ä¼˜åŒ–æ–¹å¼1</strong></p>
<pre><code class="language-js">/*
* ç»„åˆç»§æ‰¿ä¼˜åŒ–æ–¹å¼1
*/
function Parent4() {
  this.name = 'parent4'; this.list = [1, 2, 3]
}
Parent4.prototype.say = function () {
  console.log('say4')
}
function Child4() {
  Parent4.call(this); this.type = 'child4'
}
Child4.prototype = Parent4.prototype
const s5 = new Child4()
const s6 = new Child4()
console.log(s5.list, s6.list)
// [1,2,3],[1,2,3]s5.list.push(4);console.log(s5.list,s6.list);
// [1, 2, 3], [1, 2, 3, 4]console.log(s5.say()); //say4
</code></pre>
<p>è¿™é‡Œé€šè¿‡<code>Child4.prototype = Parent4.prototype</code>æŠŠå‡½æ•°çš„åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹ï¼Œé€šè¿‡ç®€å•çš„å¼•ç”¨æ¥å®ç°ç»§æ‰¿ã€‚</p>
<p><strong>ç»„åˆç»§æ‰¿ä¼˜åŒ–æ–¹å¼2</strong></p>
<pre><code class="language-js">/*
 * ç»„åˆç»§æ‰¿ä¼˜åŒ–æ–¹å¼2
 */
function Parent5() {
  this.name = 'parent5'; this.list = [1, 2, 3]
}
Parent5.prototype.say = function () {
  console.log('say5')
}
function Child5() {
  Parent5.call(this); this.type = 'child5'
}
Child5.prototype = Object.create(Parent5.prototype)
Child5.prototype.constructor = Child5
const s7 = new Child5()
const s8 = new Child5()
console.log(s7.list, s8.list)
// [1,2,3],[1,2,3]s7.list.push(4);console.log(s7.list,s8.list);
// [1, 2, 3], [1, 2, 3, 4]console.log(s7.say());
// say5console.log(s7.constructor); // Child5
</code></pre>
<p>è¿™æ˜¯ç»„åˆç»§æ‰¿çš„å®Œç¾å†™æ³•ï¼Œé€šè¿‡<code>call()</code>æˆ–è€…<code>apply()</code>æ–¹æ³•æ‰§è¡Œæ„é€ å‡½æ•°ï¼Œé€šè¿‡æ”¹å˜thisä¸Šä¸‹æ–‡å®ç°å±æ€§ç»§æ‰¿ï¼›ç„¶åé€šè¿‡å¯¹å­ç±»å‡½æ•°çš„åŸå‹é‡‡ç”¨Object.create(Parent.prototype)ï¼Œå®ç°å­ç±»å‡½æ•°ç»§æ‰¿æ„é€ å‡½æ•°çš„åŸå‹ä¸Šçš„æ–¹æ³•ï¼›æœ€åé‡æ–°æŒ‡å®šå­ç±»å‡½æ•°åŸå‹çš„<code>constructor</code>ï¼Œä»è€Œå®Œç¾å®ç°ç±»çš„ç»§æ‰¿ã€‚</p>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ„é€ å‡½æ•°ã€åŸå‹ã€å®ä¾‹ã€åŸå‹é“¾çš„å…³ç³»]]></title>
        <id>https://ajiu9.cn/posts/constructor-instance-prototype-chain</id>
        <link href="https://ajiu9.cn/posts/constructor-instance-prototype-chain"/>
        <updated>2018-09-28T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<h4>åˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹æ³•</h4>
<pre><code class="language-js">// 1.ä½¿ç”¨new Object()
const o1 = new Object({ name: 'o1' })
// 2.å¯¹è±¡å­—é¢é‡ (è¿™ç§æ–¹æ³•å…¶å®å°±æ˜¯ç¬¬ä¸€ç§çš„ç®€å†™)
const o2 = { name: 'o2' }
// 3.æ„é€ å‡½æ•°
const A = function (name) {
  this.name = name
}
const o3 = new A('o3')
// 4.Object.create()
const B = { name: 'o4' }
const o4 = Object.create(B)
</code></pre>
<h4>æ„é€ å‡½æ•°ã€åŸå‹ã€å®ä¾‹ã€åŸå‹é“¾</h4>
<p>JavaScriptæ˜¯ä¸€é—¨é¢å‘å¯¹è±¡åŸºäºåŸå‹ç»§æ‰¿çš„è¯­è¨€,é‚£ä¹ˆåŸå‹åˆ°åº•æ˜¯æ€ä¹ˆå®ç°ç»§æ‰¿çš„ï¼Ÿ</p>
<p><img src="https://ajiu9.cn/images/20240311231356CGtgQw.png" alt="å›¾ç‰‡"></p>
<p>prototypeåŸå‹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåªæœ‰å‡½æ•°æ‰æœ‰çš„å±æ€§ï¼Œè¿™æ˜¯åœ¨åˆ›å»ºå‡½æ•°æ˜¯jså¼•æ“è‡ªåŠ¨æ·»åŠ çš„å±æ€§ï¼Œå…¶ä»–å¯¹è±¡å¯ä»¥é€šè¿‡å®ƒå®ç°å±æ€§ç»§æ‰¿ã€‚<br>
<code>__proto__</code>æ˜¯æ¯ä¸ªå¯¹è±¡éƒ½æœ‰çš„å±æ€§ï¼Œä½†ä¸æ˜¯ä¸€ä¸ªè§„èŒƒå±æ€§ï¼Œå®ƒæŒ‡å‘çš„æ˜¯æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚(<code>__proto__</code>é€šè¿‡ä¸Šé¢ç¬¬å››ç§æ–¹å¼<code>Object.create(O))</code>æŒ‡å‘çš„æ˜¯å¯¹è±¡O)</p>
<pre><code class="language-js">// 1.åˆ›å»ºæ„é€ å‡½æ•°Animal
const Animal = function (name) {
  this.name = name
}
// 2.å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡dog
const dog = new Animal('dog')
// Animal æ„é€ å‡½æ•°çš„åŸå‹çš„constructorå±æ€§æŒ‡å‘æ„é€ å‡½æ•°æœ¬èº«
Animal.prototype.constructor === Animal // true
// dogå®ä¾‹çš„__proto__æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹
dog.__proto__ === Animal.prototype // true
</code></pre>
<p>åŸå‹é“¾æŒ‡ç”±äº<code>__proto__</code>æ˜¯å¯¹è±¡éƒ½æœ‰çš„å±æ€§ï¼Œæ‰€ä»¥ä¼šå½¢æˆä¸€æ¡ç”±<code>__proto__</code>è¿èµ·æ¥çš„é“¾æ¡ï¼Œé€’å½’è®¿é—®<code>__proto__</code>æœ€ç»ˆåˆ°ç»ˆç‚¹ï¼Œæœ€åæŒ‡å‘<code>null</code>.<br>
å½“jsæŸ¥æ‰¾å¯¹è±¡çš„å±æ€§æ—¶ï¼Œå…ˆæŸ¥æ‰¾å¯¹è±¡æœ¬èº«æœ‰æ²¡æœ‰è¿™ä¸ªå±æ€§ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°±ä¼šåœ¨åŸå‹é“¾ä¸ŠæŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°æˆ–è€…åˆ°è¾¾ç»ˆç‚¹çš„<code>null</code>ã€‚</p>
<h4>instanceofè¿ç®—ç¬¦</h4>
<p><code>instanceof</code>è¿ç®—ç¬¦ç”¨äºæµ‹è¯•æ„é€ å‡½æ•°çš„prototypeå±æ€§æ˜¯å¦å‡ºç°åœ¨å¯¹è±¡çš„åŸå‹é“¾ä¸­çš„ä»»ä½•ä½ç½®</p>
<p><img src="/images/20240311231424c991rT.png" alt="å›¾ç‰‡"></p>
<p>ç”¨<code>instanceof</code>æ¥åˆ¤æ–­å®ä¾‹å¯¹è±¡æ˜¯å¦ä¸ºæ„é€ å‡½æ•°ç›´æ¥ç”Ÿæˆçš„å¯¹è±¡å¹¶ä¸ä¸¥æ ¼ï¼Œå› ä¸ºå‡ºç°åœ¨å¯¹è±¡åŸå‹é“¾ä¸­ä»»ä½•ä½ç½®éƒ½ä¼šè¿”å›trueï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨å¯¹è±¡çš„<code>__proto__.constructor</code>æ˜¯å¦ä¸¥æ ¼ç­‰äºæ„é€ å‡½æ•°æ¥åˆ¤æ–­ã€‚</p>
<pre><code class="language-js">// æµ‹è¯•æ„é€ å‡½æ•°çš„prototypeå±æ€§æ˜¯å¦å‡ºç°åœ¨å¯¹è±¡çš„åŸå‹é“¾ä¸­
dog instanceof Animal // true
dog instanceof Object // true
// åˆ¤æ–­å®ä¾‹å¯¹è±¡æ˜¯å¦ä¸ºæ„é€ å‡½æ•°ç›´æ¥ç”Ÿæˆ
dog.__proto__.constructor === Animal // true
</code></pre>
<h4>new è¿ç®—ç¬¦</h4>
<p>æ‰§è¡Œnewå</p>
<ul>
<li>ä¸€ä¸ªæ–°å¯¹è±¡è¢«åˆ›å»ºï¼Œå®ƒç»§æ‰¿è‡ªæ„é€ å‡½æ•°foo.prototype</li>
<li>æ„é€ å‡½æ•°fooè¢«æ‰§è¡Œã€‚æ‰§è¡Œçš„æ—¶å€™ï¼Œç›¸åº”çš„å‚æ•°è¢«ä¼ å…¥ï¼ŒåŒæ—¶ä¸Šä¸‹æ–‡<code>this</code>ä¼šè¢«æŒ‡å®šä¸ºè¿™ä¸ªæ–°å®ä¾‹ã€‚ <code>new foo</code> ç­‰äº <code>new foo()</code>,åªèƒ½ç”¨åœ¨ä¸ä¼ é€’ä»»ä½•å‚æ•°çš„æƒ…å†µä¸‹ã€‚</li>
<li>å¦‚æœæ„é€ å‡½æ•°è¿”å›äº†ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡ä¼šæ•´ä¸ªå–ä»£newå‡ºæ¥çš„ç»“æœã€‚å¦‚æœæ„é€ å‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ï¼Œé‚£ä¹ˆnewå‡ºæ¥çš„ç»“æœä¸ºç¬¬ä¸€æ­¥åˆ›å»ºçš„å¯¹è±¡ã€‚</li>
</ul>
<pre><code class="language-js">// new çš„æ‰§è¡Œå¦‚ä¸‹
const new1 = function (func) {
// ç¬¬ä¸€æ­¥:ä¸€ä¸ªæ–°å¯¹è±¡è¢«åˆ›å»ºï¼Œå®ƒç»§æ‰¿è‡ªæ„é€ å‡½æ•°func.prototype
  const o = Object.create(func.prototype)
  // ç¬¬äºŒæ­¥ï¼šæ„é€ å‡½æ•°funcè¢«æ‰§è¡Œã€‚æ‰§è¡Œçš„æ—¶å€™ï¼Œç›¸åº”çš„å‚æ•°è¢«ä¼ å…¥ï¼ŒåŒæ—¶ä¸Šä¸‹æ–‡`this`ä¼šè¢«æŒ‡å®šä¸ºè¿™ä¸ªæ–°å®ä¾‹ã€‚
  const k = func.call(o)
  // ç¬¬ä¸‰æ­¥
  if (typeof k === 'object')
    return k
  else
    return o
}
// éªŒè¯newå†…éƒ¨åŸç†æ˜¯å¦å’Œnew1å‡½æ•°çš„æ‰§è¡Œè¿‡ç¨‹ä¸€æ ·
// æ„é€ å‡½æ•°
const A = function (name) {
  this.name = name
}
// newè¿ç®—ç¬¦
const o3 = new A('o3')
// new1()
const o6 = new1(A)
// æ¥ä¸‹æ¥éªŒè¯é€šè¿‡new1ç”Ÿæˆçš„o6å¯¹è±¡æ˜¯å¦å’Œnewç”Ÿæˆçš„o3ä¸€æ ·
o6 instanceof A // true
o6 instanceof Object // true
o6.__proto__.constructor === A // true
A.prototype.walk = function () {
  console.log('walk')
}
o6.walk() // walk
o3.walk() // walk
</code></pre>
<p>é€šè¿‡ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡ºï¼Œnewçš„æ‰§è¡ŒåŸç†äº†å§ã€‚</p>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[å‰ç«¯é€šä¿¡ç±»ä»¥åŠè·¨åŸŸçš„å‡ ç§æ–¹æ³•]]></title>
        <id>https://ajiu9.cn/posts/cross-domain-methods</id>
        <link href="https://ajiu9.cn/posts/cross-domain-methods"/>
        <updated>2018-09-27T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<h4>ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥åŠé™åˆ¶</h4>
<p>åŒæºç­–ç•¥ï¼Œå®ƒæ˜¯ç”±Netscapeæå‡ºçš„ä¸€ä¸ªè‘—åçš„å®‰å…¨ç­–ç•¥ï¼Œç°åœ¨æ‰€æœ‰æ”¯æŒJavaScript çš„æµè§ˆå™¨éƒ½ä¼šä½¿ç”¨è¿™ä¸ªç­–ç•¥ã€‚é™åˆ¶ä»ä¸€ä¸ªæºåŠ è½½çš„æ–‡æ¡£æˆ–è„šæœ¬å¦‚ä½•ä¸æ¥è‡ªå¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚è¿™æ˜¯ä¸€ä¸ªç”¨äºéš”ç¦»æ½œåœ¨æ¶æ„æ–‡ä»¶çš„å…³é”®çš„å®‰å…¨æœºåˆ¶ã€‚<br>
æ‰€è°“åŒæºæ˜¯æŒ‡ï¼ŒåŸŸåï¼Œåè®®ï¼Œç«¯å£ï¼ˆhttpåè®®çš„é»˜è®¤ç«¯å£æ˜¯80ï¼‰ç›¸åŒã€‚<br>
ä¾‹å¦‚ä¸€ä¸ªæµè§ˆå™¨çš„ä¸¤ä¸ªtabé¡µä¸­åˆ†åˆ«æ‰“å¼€æ¥ç™¾åº¦å’Œè°·æ­Œçš„é¡µé¢ï¼Œå½“æµè§ˆå™¨çš„ç™¾åº¦tabé¡µæ‰§è¡Œä¸€ä¸ªè„šæœ¬çš„æ—¶å€™ä¼šæ£€æŸ¥è¿™ä¸ªè„šæœ¬æ˜¯å±äºå“ªä¸ªé¡µé¢çš„ï¼Œå³æ£€æŸ¥æ˜¯å¦åŒæºï¼Œåªæœ‰å’Œç™¾åº¦åŒæºçš„è„šæœ¬æ‰ä¼šè¢«æ‰§è¡Œã€‚å¦‚æœéåŒæºï¼Œé‚£ä¹ˆåœ¨è¯·æ±‚æ•°æ®æ—¶ï¼Œæµè§ˆå™¨ä¼šåœ¨æ§åˆ¶å°ä¸­æŠ¥ä¸€ä¸ªå¼‚å¸¸ï¼Œæç¤ºæ‹’ç»è®¿é—®ã€‚</p>
<p>é™åˆ¶ï¼š</p>
<ul>
<li>
<p>Cookieã€LocalStorageå’ŒIndexDBæ— æ³•è·å–ã€‚</p>
</li>
<li>
<p>æ— æ³•è·å–å’Œæ“ä½œDOMã€‚</p>
</li>
<li>
<p>ä¸èƒ½å‘é€Ajaxè¯·æ±‚ã€‚</p>
</li>
</ul>
<h4>å‰åç«¯å¦‚ä½•é€šä¿¡</h4>
<ul>
<li>
<p>Ajaxï¼šåŒæºä¸‹çš„é€šä¿¡æ–¹å¼ã€‚</p>
</li>
<li>
<p>WebSocketï¼šä¸å—åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œæ”¯æŒè·¨åŸŸã€‚</p>
</li>
<li>
<p>CORSï¼š CORSæ˜¯è·¨æºèµ„æºåˆ†äº«ï¼ˆCross-Origin Resource Sharingï¼‰çš„ç¼©å†™ã€‚å®ƒæ˜¯W3Cæ ‡å‡†ï¼Œæ˜¯è·¨æºAJAXè¯·æ±‚çš„æ ¹æœ¬è§£å†³æ–¹æ³•ã€‚ç›¸æ¯”JSONPåªèƒ½å‘GETè¯·æ±‚ï¼ŒCORSå…è®¸ä»»ä½•ç±»å‹çš„è¯·æ±‚ã€‚</p>
</li>
</ul>
<h4>å¦‚ä½•åˆ›å»ºAjax</h4>
<p>éœ€è¦çŸ¥é“ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>
<p>XMLHttpRequestçš„å·¥ä½œåŸç†</p>
</li>
<li>
<p>å…¼å®¹æ€§å¤„ç†ï¼ˆXMLHttpRequeståªåœ¨é«˜ç‰ˆæœ¬çš„æµè§ˆå™¨æ”¯æŒï¼‰</p>
</li>
<li>
<p>äº‹ä»¶çš„è§¦å‘æ¡ä»¶</p>
</li>
<li>
<p>äº‹ä»¶çš„è§¦å‘é¡ºåº</p>
</li>
</ul>
<pre><code class="language-js">util.ajax = function (options) {
  const opt = Object.assin({
    url: '',
    ype: 'get',
    data: {},
    success() {},
    error() {},
  }, options)

  if (opt.url) {
    // å…¼å®¹æ€§å¤„ç†
    const xhr = XMLHttpRequest
      ? new XMLHttpRequest()
      : new ActiveXObject('Microsoft.XMLHTTP')
    const data = opt.data
    let url = opt.url
    const type = opt.type.toUpperCase()
    const dataArr = []
    for (const k in data)
      dataArr.push(`${k}=${data[k]}`)

    if (type === 'GET') {
      url = `${url}?${dataArr.join('&amp;')}`
      xhr.open(type, url.replace(/\?$/g, ''), true)
      xhr.send()
    }
    if (type === 'POST') {
      xhr.open(type, url, true)
      xmlhttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded')
      xhr.send(dataArr.join('&amp;'))
    }
    xhr.onload = function () {
      if (xhr.status === 200 || xhr === 304) {
        var res
        if (opt.success &amp;&amp; opt.success instanceof Function) {
          res = xhr.responseText
          if (typeof res === 'string') {
            res = JSON.parse(res)
            opt.success.call(xhr, res)
          }
        }
      }
      else {
        if (opt.error &amp;&amp; opt.error instanceof Function)
          opt.error.call(xhr, res)
      }
    }
  }
}
</code></pre>
<h4>è·¨åŸŸé€šä¿¡çš„å‡ ç§æ–¹å¼</h4>
<ul>
<li>jsonp</li>
<li>Hash</li>
<li>webSocket</li>
<li>postMessage</li>
<li>CORS</li>
</ul>
<p><strong>1.jsonp</strong><br>
jsonpåŸç†ï¼š é€šè¿‡<code>&lt;script&gt;</code>æ ‡ç­¾çš„å¼‚æ­¥åŠ è½½æ¥å®ç°ã€‚ä¾‹å¦‚åœ¨<code>&lt;head&gt;</code>æ ‡ç­¾ä¸­é€šè¿‡<code>&lt;script&gt;</code>ä¸­çš„urlåŠ è½½çš„jsã€‚</p>
<pre><code class="language-js">/**
* [function æ‹¼æ¥url]
* @param  {[Object]]} data [description]
* @return {[value=key&amp;value1=key1]} [description]
*/var util = {}
util.param = function (data) {
  var url = ''
  for (var k in data) {
    let value = data[k] !== undefined ? data[k] : ''
    url += `&amp;${k}=${encodeURIComponent(value)}`
  }
  return url ? url.substring(1) : ''
}
/**
  * [function åˆ¤æ–­æ˜¯å¦ä¸ºå‡½æ•°]
  * @param  {[type]} source [description]
  * @return {[type]}        [description]
  */
util.isFunction = function (source) {
  return '[object Function]' === Object.prototype.toString.call(source);
};
/**
  * [function è·å–ä¸€ä¸ªéšæœºçš„5ä½å­—ç¬¦ä¸²]
  * @param  {[type]} prefix [description]
  * @return {[type]}        [description]
  */
 util.getName = function (prefix) {
    return prefix + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 5);
  };
/**
  * [function åœ¨é¡µé¢ä¸­æ³¨å…¥jsè„šæœ¬]
  * @param  {[type]} url     [description]
  * @param  {[type]} charset [description]
  * @return {[type]}         [description]
  */
 util.createScript = function (url, charset) {
  var script = document.createElement('script');
  script.setAttribute('type', 'text/javascript');
  charset &amp;&amp; script.setAttribute('charset', charset);
  script.setAttribute('src', url);
  script.async = true;
  return script;
};
// jsopå®ç°
util.jsonp = function(url, data, onsuccess, onerror, charset) {
  // ç¬¬ä¸€æ­¥ï¼Œå…¨å±€æ³¨å†Œä¸€ä¸ªcallbackå›è°ƒå‡½æ•°
  var callbackName = util.getName(_callback);
  window[callbackName] = function() {
    if (onsuccess &amp;&amp; onsuccess.util.isFunction) {
       onsuccess(arguments[0]);
    }
  }
  // ç¬¬äºŒæ­¥ åŠ¨æ€åˆ›å»ºScriptæ ‡ç­¾
  url += (url.indexOf('?') &lt; 0 ? '?' : '&amp;') + util.param(data);
  var script = util.createScript(url + '&amp;callback=' + callbackName, charset);
  // ç¬¬ä¸‰æ­¥ å‘é€scriptè¯·æ±‚
  document.getElementsByTagName('head')[0].appendChild(script);
  // ç¬¬å››æ­¥ ç›‘å¬å‡½æ•°
  script.onload = script.onreadystatechange = function () {
    if (!script.readyState || /loaded|complete/.test(script.readyState)) {
      script.onload = script.onreadystatechange = null;// ç§»é™¤è¯¥scriptçš„ DOM å¯¹è±¡
      if (script.parentNode) {
        script.parentNode.removeChild(script);
      }
    // åˆ é™¤å‡½æ•°æˆ–å˜é‡
    window[callbackName] = null;
  }
};
script.onerror = function () {
  if (onerror &amp;&amp; util.isFunction(onerror)) {
    onerror();
  }
};
}
</code></pre>
<p>å®ä¾‹ï¼š</p>
<pre><code class="language-js">util.jsonp('https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg', {
  g_tk: 5381,
  inCharset: 'utf-8',
  outCharset: 'utf-8',
  notice: 0,
  format: 'jsonp',
  platform: ' h5',
  uin: 0,
  needNewCode: 1
}, function () {
  console.log(arguments)
})
</code></pre>
<p><strong>2.Hashï¼ˆç‰‡æ®µè¯†åˆ«ç¬¦ï¼‰</strong><br>
urlçš„<code>#</code>åé¢çš„å†…å®¹å°±å«Hashã€‚Hashçš„æ”¹å˜ï¼Œé¡µé¢ä¸ä¼šåˆ·æ–°ã€‚è¿™å°±æ˜¯ç”¨ Hash åšè·¨åŸŸé€šä¿¡çš„åŸºæœ¬åŸç†(urlçš„?åé¢çš„å†…å®¹å«Searchã€‚Searchçš„æ”¹å˜ï¼Œä¼šå¯¼è‡´é¡µé¢åˆ·æ–°)ã€‚<br>
å®ä¾‹ï¼š<br>
é¡µé¢Aé€šè¿‡iframeæˆ–frameåµŒå…¥äº†è·¨åŸŸé¡µé¢Bã€‚<br>
çª—å£å¯ä»¥æŠŠä¿¡æ¯ï¼Œå†™å…¥å­çª—å£çš„ç‰‡æ®µæ ‡è¯†ç¬¦ã€‚</p>
<pre><code class="language-js">var src = originURL + '#' + data;
document.getElementById('myIFrame').src = src;
</code></pre>
<p>å­çª—å£é€šè¿‡ç›‘å¬hashchangeäº‹ä»¶å¾—åˆ°é€šçŸ¥ã€‚</p>
<pre><code class="language-js">window.onhashchange = checkMessage;
function checkMessage() {var message = window.location.hash;
// ...
}
</code></pre>
<p>åŒæ ·çš„ï¼Œå­çª—å£ä¹Ÿå¯ä»¥æ”¹å˜çˆ¶çª—å£çš„ç‰‡æ®µæ ‡è¯†ç¬¦ã€‚</p>
<pre><code class="language-js">parent.location.href= target + &quot;#&quot; + hash;
</code></pre>
<p><strong>3.postMessage</strong><br>
HTML5å¼•å…¥äº†ä¸€ä¸ªå…¨æ–°çš„APIï¼šè·¨æ–‡æ¡£é€šä¿¡ APIï¼ˆCross-document messagingï¼‰ã€‚è¿™ä¸ªAPIä¸ºwindowå¯¹è±¡æ–°å¢äº†ä¸€ä¸ªwindow.postMessageæ–¹æ³•ï¼Œå…è®¸è·¨çª—å£é€šä¿¡ï¼Œä¸è®ºè¿™ä¸¤ä¸ªçª—å£æ˜¯å¦åŒæºã€‚</p>
<pre><code class="language-js">// postMessage
// çª—å£A(http:A.com)å‘è·¨åŸŸçš„çª—å£B(http:B.com)å‘é€ä¿¡æ¯B
window.postMessage('data', 'http://B.com');
// åœ¨çª—å£Bä¸­ç›‘å¬A
window.addEventListener('message', function (event) {console.log(event.origin)});
// å‘é€æ¶ˆæ¯çš„çª—å£console.log(event.source); 
// æ¶ˆæ¯å‘å‘çš„ç½‘å€console.log(event.data); 
// æ¶ˆæ¯å†…å®¹}, false);
</code></pre>
<p><strong>4.webSocket</strong><br>
WebSocketæ˜¯ä¸€ç§é€šä¿¡åè®®ï¼Œä½¿ç”¨ws://ï¼ˆéåŠ å¯†ï¼‰å’Œwss://ï¼ˆåŠ å¯†ï¼‰ä½œä¸ºåè®®å‰ç¼€ã€‚è¯¥åè®®ä¸å®è¡ŒåŒæºæ”¿ç­–ï¼Œåªè¦æœåŠ¡å™¨æ”¯æŒï¼Œå°±å¯ä»¥é€šè¿‡å®ƒè¿›è¡Œè·¨æºé€šä¿¡ã€‚</p>
<pre><code class="language-js">var ws = new webSocket(&quot;wss://echo.websocket.org&quot;);
ws.onopen = function(evt) {console.log(&quot;Connection open ...&quot;);
ws.send(&quot;Hello WebSockets!&quot;);
};

ws.onmessage = function(evt) {console.log( &quot;Received Message: &quot; + evt.data);
ws.close();
};

ws.onclose = function(evt) {console.log(&quot;Connection closed.&quot;);
};
</code></pre>
<blockquote>
<p>Websocketã€å‚è€ƒèµ„æ–™ã€‘<a href="http://www.ruanyifeng.com/blog/2017/05/websocket.html">http://www.ruanyifeng.com/blog/2017/05/websocket.html</a></p>
</blockquote>
<p><strong>4.CORS</strong><br>
CORSæ˜¯ä¸€ä¸ªW3Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯â€è·¨åŸŸèµ„æºå…±äº«â€ï¼ˆCross-origin resource sharingï¼‰ã€‚å®ƒå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨ï¼Œå‘å‡ºXMLHttpRequestè¯·æ±‚ï¼Œä»è€Œå…‹æœäº†AJAXåªèƒ½åŒæºä½¿ç”¨çš„é™åˆ¶ã€‚<br>
è·¨åŸŸæ—¶ï¼Œæµè§ˆå™¨ä¼šæ‹¦æˆªAjaxè¯·æ±‚ï¼Œå¹¶åœ¨httpå¤´ä¸­åŠ Originã€‚</p>
<pre><code class="language-js">fetch('/some/url/', {
  method: 'get',
}).then(function (response) {
  // è¯·æ±‚æˆåŠŸåæ‰§è¡Œæ“ä½œ
}).catch(function (err) {
  // è¯·æ±‚å¤±è´¥åæ‰§è¡Œæ“ä½œ
});
</code></pre>
<p><a href="http://www.ruanyifeng.com/blog/2016/04/cors.html">CORSã€å‚è€ƒèµ„æ–™ã€‘</a></p>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[DOMäº‹ä»¶]]></title>
        <id>https://ajiu9.cn/posts/dom-event</id>
        <link href="https://ajiu9.cn/posts/dom-event"/>
        <updated>2018-09-26T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<h4>äº‹ä»¶çº§åˆ«</h4>
<ul>
<li>DOM0<br>
<code>element.onclick = function(){}</code></li>
<li>DOM2<br>
<code>element.addEventListener('click', function(){}, false)</code></li>
<li>DOM3<br>
<code>element.addEventListener('keyup', function(){}, false</code><br>
åœ¨DOM2äº‹ä»¶åæ–°å¢äº†UIäº‹ä»¶ã€é¼ æ ‡äº‹ä»¶ã€é”®ç›˜äº‹ä»¶ç­‰äº‹ä»¶ç±»å‹</li>
</ul>
<h4>äº‹ä»¶æ¨¡å‹</h4>
<ul>
<li>äº‹ä»¶æ•è·</li>
<li>äº‹ä»¶å†’æ³¡</li>
</ul>
<h4>DOMäº‹ä»¶æµ</h4>
<p>DOM(æ–‡æ¡£å¯¹è±¡æ¨¡å‹)ç»“æ„æ˜¯ä¸€ä¸ªæ ‘å‹ç»“æ„ï¼Œå½“ä¸€ä¸ªHTMLå…ƒç´ äº§ç”Ÿä¸€ä¸ªäº‹ä»¶æ—¶ï¼Œè¯¥äº‹ä»¶ä¼šåœ¨å…ƒç´ èŠ‚ç‚¹ä¸æ ¹ç»“ç‚¹ä¹‹é—´çš„è·¯å¾„ä¼ æ’­ï¼Œè·¯å¾„æ‰€ç»è¿‡çš„ç»“ç‚¹éƒ½ä¼šæ”¶åˆ°è¯¥äº‹ä»¶ï¼Œè¿™ä¸ªä¼ æ’­è¿‡ç¨‹å¯ç§°ä¸ºDOMäº‹ä»¶æµã€‚</p>
<h4>DOMäº‹ä»¶æµçš„å…·ä½“æµç¨‹</h4>
<p>åœ¨DOMå…¼å®¹æµè§ˆå™¨ä¸­ï¼Œäº‹ä»¶æµä¸­åˆ†ä¸‰ä¸ªçº§æ®µï¼š</p>
<ul>
<li>æ•è·é˜¶æ®µï¼ˆCapture Phaseï¼‰ï¼šäº‹ä»¶ä»windowè‡ªä¸Šè€Œä¸‹å‘ç›®æ ‡èŠ‚ç‚¹ä¼ æ’­çš„é˜¶æ®µï¼›</li>
<li>ç›®æ ‡é˜¶æ®µï¼ˆTarget Phaseï¼‰ï¼šæ­£çš„ç›®æ ‡èŠ‚ç‚¹æ­£åœ¨å¤„ç†äº‹ä»¶çš„é˜¶æ®µï¼›</li>
<li>å†’æ³¡é˜¶æ®µï¼ˆBubbling Phaseï¼‰ï¼šäº‹ä»¶ä»ç›®æ ‡èŠ‚ç‚¹è‡ªä¸Šè€Œä¸‹å‘windowä¼ æ’­çš„é˜¶æ®µã€‚<br>
<img src="https://ajiu9.cn/images/20240310220404oy7dPw.png" alt="å›¾ç‰‡"></li>
</ul>
<h4>Eventå¯¹è±¡çš„å¸¸è§åº”ç”¨</h4>
<ul>
<li>event.preventDefault() é˜»æ­¢é»˜è®¤äº‹ä»¶</li>
<li>event.stopPropagation() é˜»æ­¢æ•è·å’Œå†’æ³¡é˜¶æ®µä¸­å½“å‰äº‹ä»¶çš„è¿›ä¸€æ­¥ä¼ æ’­</li>
<li>event.stopImmediatePropagation() é˜»æ­¢äº‹ä»¶å†’æ³¡å¹¶ä¸”é˜»æ­¢ç›¸åŒäº‹ä»¶çš„å…¶ä»–ä¾¦å¬å™¨è¢«è°ƒç”¨</li>
<li>event.currentTarget å½“äº‹ä»¶éå†DOMæ—¶ï¼Œæ ‡è¯†äº‹ä»¶çš„å½“å‰ç›®æ ‡ã€‚å®ƒæ€»æ˜¯å¼•ç”¨äº‹ä»¶å¤„ç†ç¨‹åºé™„åŠ åˆ°çš„å…ƒç´ (å½“å‰ç»‘å®šçš„äº‹ä»¶å…ƒç´ )</li>
<li>event.target æ ‡è¯†äº‹ä»¶å‘ç”Ÿçš„å…ƒç´ ï¼ˆå½“å‰è¢«ç‚¹å‡»çš„å…ƒç´ ï¼‰</li>
</ul>
<h4>è‡ªå®šä¹‰äº‹ä»¶</h4>
<blockquote>
<p>è¯­æ³•<code>event = new Event(typeArg, eventInit);</code><br>
typeArg æ˜¯DOMString ç±»å‹ï¼Œè¡¨ç¤ºæ‰€åˆ›å»ºäº‹ä»¶çš„åç§°ã€‚<br>
eventInitå¯é€‰,æ˜¯ EventInit ç±»å‹çš„å­—å…¸ï¼Œæ¥å—ä»¥ä¸‹å­—æ®µ:</p>
<ul>
<li>â€œbubblesâ€ï¼Œå¯é€‰ï¼ŒBooleanç±»å‹ï¼Œé»˜è®¤å€¼ä¸º falseï¼Œè¡¨ç¤ºè¯¥äº‹ä»¶æ˜¯å¦å†’æ³¡ã€‚</li>
<li>â€œcancelableâ€ï¼Œå¯é€‰ï¼ŒBooleanç±»å‹ï¼Œé»˜è®¤å€¼ä¸º falseï¼Œ è¡¨ç¤ºè¯¥äº‹ä»¶èƒ½å¦è¢«å–æ¶ˆã€‚</li>
<li>â€œcomposedâ€ï¼Œå¯é€‰ï¼ŒBooleanç±»å‹ï¼Œé»˜è®¤å€¼ä¸º falseï¼ŒæŒ‡ç¤ºäº‹ä»¶æ˜¯å¦ä¼šåœ¨å½±å­DOMæ ¹èŠ‚ç‚¹ä¹‹å¤–è§¦å‘ä¾¦å¬å™¨ã€‚</li>
</ul>
</blockquote>
<pre><code>// åˆ›å»ºä¸€ä¸ªæ”¯æŒå†’æ³¡ä¸”ä¸èƒ½è¢«å–æ¶ˆçš„attachäº‹ä»¶var ev = new Event(&quot;attach&quot;, {&quot;bubbles&quot;:true, &quot;cancelable&quot;:false});document.dispatchEvent(ev);// äº‹ä»¶å¯ä»¥åœ¨ä»»ä½•å…ƒç´ è§¦å‘ï¼Œä¸ä»…ä»…æ˜¯documentmyDiv.dispatchEvent(ev);
</code></pre>
<p><code>customEvent</code>äº‹ä»¶æ˜¯ç”±ç¨‹åºåˆ›å»ºçš„ï¼Œå¯ä»¥æœ‰ä»»æ„è‡ªå®šä¹‰åŠŸèƒ½çš„äº‹ä»¶ã€‚</p>
<pre><code>// æ·»åŠ ä¸€ä¸ªé€‚å½“çš„äº‹ä»¶ç›‘å¬å™¨obj.addEventListener(&quot;cat&quot;, function(e) { process(e.detail) })// åˆ›å»ºå¹¶åˆ†å‘äº‹ä»¶var event = new CustomEvent(&quot;cat&quot;, {&quot;bubbles&quot;: true, &quot;cancelable&quot;: false, &quot;detail&quot;:{&quot;hazcheeseburger&quot;:true}})
obj.dispatchEvent(event)
</code></pre>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[CSSç›’æ¨¡å‹å’Œè¾¹è·é‡å è§£å†³æ–¹æ¡ˆï¼ˆBFCï¼‰]]></title>
        <id>https://ajiu9.cn/posts/css-box-model-and-margin-overlap-solution</id>
        <link href="https://ajiu9.cn/posts/css-box-model-and-margin-overlap-solution"/>
        <updated>2018-09-25T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<h3>CSSç›’æ¨¡å‹çš„åŸºæœ¬æ¦‚å¿µ</h3>
<p>ç›’æ¨¡å‹ç”±å†…å‘å¤–ç”±content,padding, border, marginç»„æˆã€‚<br>
ç›’æ¨¡å‹æœ‰ä¸¤ç§ï¼šæ ‡å‡†æ¨¡å‹ï¼ŒIEæ¨¡å‹ã€‚</p>
<h3>æ ‡å‡†æ¨¡å‹å’ŒIEæ¨¡å‹çš„åŒºåˆ«</h3>
<p>è¿™ä¿©ç§ç›’æ¨¡å‹çš„åŒºåˆ«æ˜¯è®¡ç®—å®½åº¦å’Œé«˜åº¦çš„ä¸åŒã€‚<br>
æ ‡å‡†æ¨¡å‹çš„å®½é«˜åªè®¡ç®—å†…å®¹ï¼ˆcontentï¼‰,IEæ¨¡å‹å®½é«˜è®¡ç®—ä¸ºå†…å®¹ï¼ˆcontentï¼‰+å¡«å……ï¼ˆpaddingï¼‰+è¾¹æ¡†ï¼ˆborderï¼‰çš„æ€»å®½é«˜ã€‚</p>
<p><img src="https://ajiu9.cn/images/20240310214341Gxd31S.png" alt="å›¾ç‰‡"></p>
<p><img src="/images/20240310214237UjGOJB.png" alt="å›¾ç‰‡"></p>
<h3>å¦‚ä½•è®¾ç½®è¿™ä¿©ç§ç›’æ¨¡å‹</h3>
<pre><code>/*æ ‡å‡†æ¨¡å‹*/
box-sizing: content-box;
/*IEæ¨¡å‹*/
box-sizing: border-box;
</code></pre>
<h3>JSå¦‚ä½•è·å–ç›’æ¨¡å‹çš„å®½å’Œé«˜</h3>
<pre><code>var node = document.getElementById('node')
</code></pre>
<ul>
<li>
<p>node.style.width/height<br>
è¿™ç§æ–¹å¼åªèƒ½å–åˆ°domå…ƒç´ å†…è”æ ·å¼çš„å®½å’Œé«˜ï¼Œé€šè¿‡å¤–è”æ ·å¼linkå¼•å…¥å’Œåœ¨styleæ ‡ç­¾ä¸­è®¾ç½®çš„æ ·å¼è¿™ä¸¤è€…éƒ½æ˜¯è·å–ä¸åˆ°nodeçš„å®½å’Œé«˜çš„</p>
</li>
<li>
<p>node.currentStyle.width/height<br>
è¿™ç§æ–¹å¼æ˜¯è·å–æ¸²æŸ“åçš„ç»“æœï¼Œä½†åªåœ¨æ—§ç‰ˆæœ¬çš„IEæµè§ˆå™¨ä¸­æ”¯æŒï¼Œè¯¥ç‰¹æ€§æ˜¯éæ ‡å‡†çš„ï¼Œå°½é‡ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å®ƒã€‚</p>
</li>
<li>
<p>window.getComputerStyle(node).width/height<br>
Window.getComputedStyle()æ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨åº”ç”¨æ´»åŠ¨æ ·å¼è¡¨å¹¶è§£æè¿™äº›å€¼å¯èƒ½åŒ…å«çš„ä»»ä½•åŸºæœ¬è®¡ç®—åæŠ¥å‘Šå…ƒç´ çš„æ‰€æœ‰CSSå±æ€§çš„å€¼ã€‚å’Œä¸Šä¸€ç§æ–¹å¼æ˜¯ç›¸ä¼¼çš„ï¼Œä½†é€šç”¨æ€§æ›´å¥½ã€‚</p>
</li>
<li>
<p>node.getBoundingClientRect().width/height<br>
Element.getBoundingClientRect()æ–¹æ³•è¿”å›å…ƒç´ çš„å¤§å°åŠå…¶ç›¸å¯¹äºè§†å£çš„ä½ç½®ã€‚åŒ…å«è¾¹æ¡†(border)ã€å†…è¾¹è·(padding)ä»¥åŠCSSè®¾ç½®çš„å®½åº¦(width)å€¼</p>
</li>
<li>
<p>node.offsetWidth/offsetHeight<br>
è¿™ç§æ–¹å¼æ˜¯æµ‹é‡åŒ…å«å…ƒç´ çš„è¾¹æ¡†(border)ã€å†…è¾¹è·(padding)ã€æ»šåŠ¨æ¡(scrollbar)ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰ã€ä»¥åŠCSSè®¾ç½®çš„å®½åº¦(width)å’Œé«˜åº¦ï¼ˆheightï¼‰çš„å€¼ã€‚</p>
</li>
</ul>
<h3>è¾¹è·é‡å </h3>
<ul>
<li>
<p>çˆ¶å­å…ƒç´ è¾¹è·é‡å ï¼ˆå­å…ƒç´ è®¾ç½®margin-top:20px; çˆ¶å…ƒç´ ä¹Ÿä¸€èµ·æœ‰äº†ä¸Šè¾¹è·ï¼‰</p>
</li>
<li>
<p>å…„å¼Ÿå…ƒç´ è¾¹è·é‡å ï¼ˆå…„å¼Ÿå…ƒç´ çš„ä¸‹è¾¹è·margin-bottomå’Œä»–å…„å¼Ÿå…ƒç´ ä¸Šè¾¹margin-topè·é‡å ï¼Œé‡å è§„åˆ™æ˜¯å–å®ƒä»¬ä¹‹é—´æœ€å¤§å€¼ï¼‰</p>
</li>
<li>
<p>ç©ºå…ƒç´ çš„è¾¹è·é‡å ï¼ˆç©ºå…ƒç´ çš„ä¸Šè¾¹è·margin-topå’Œä¸‹è¾¹è·margin-bottomé‡å ï¼Œé‡å è§„åˆ™æ˜¯å–å®ƒä»¬ä¹‹é—´æœ€å¤§å€¼ï¼‰</p>
</li>
</ul>
<h3>è¾¹è·é‡å è§£å†³æ–¹æ¡ˆï¼ˆBFCï¼‰</h3>
<p>BFC(Block formatting context)ç›´è¯‘ä¸ºâ€å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡â€ã€‚å®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¸²æŸ“åŒºåŸŸï¼Œåªæœ‰Block-level boxå‚ä¸ï¼Œ å®ƒè§„å®šäº†å†…éƒ¨çš„Block-level Boxå¦‚ä½•å¸ƒå±€ï¼Œå¹¶ä¸”ä¸è¿™ä¸ªåŒºåŸŸå¤–éƒ¨æ¯«ä¸ç›¸å¹²ã€‚</p>
<h4>W3Cå¯¹BFCçš„å®šä¹‰å¦‚ä¸‹ï¼š</h4>
<p>æµ®åŠ¨å…ƒç´ å’Œç»å¯¹å®šä½å…ƒç´ ï¼Œéå—çº§ç›’å­çš„å—çº§å®¹å™¨ï¼ˆä¾‹å¦‚ inline-blocks, table-cells, å’Œ table-captionsï¼‰ï¼Œä»¥åŠoverflowå€¼ä¸ä¸ºâ€œvisiableâ€çš„å—çº§ç›’å­ï¼Œéƒ½ä¼šä¸ºä»–ä»¬çš„å†…å®¹åˆ›å»ºæ–°çš„BFCï¼ˆå—çº§æ ¼å¼ä¸Šä¸‹æ–‡ï¼‰ã€‚</p>
<h4>BFCå¸ƒå±€è§„åˆ™ï¼š</h4>
<ul>
<li>
<p>å†…éƒ¨çš„Boxä¼šåœ¨å‚ç›´æ–¹å‘å±äºåŒä¸€ä¸ªBFCçš„ä¸¤ä¸ªç›¸é‚»Boxçš„marginä¼šå‘ç”Ÿé‡å ã€‚</p>
</li>
<li>
<p>BFCçš„åŒºåŸŸä¸ä¼šä¸float boxé‡å ã€‚</p>
</li>
<li>
<p>BFCå°±æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ï¼Œåä¹‹ä¹Ÿå¦‚æ­¤ã€‚</p>
</li>
<li>
<p>è®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—ã€‚</p>
</li>
</ul>
<h3>å¦‚ä½•åˆ›å»ºBFC</h3>
<p>æ ¹æ®BFCçš„å®šä¹‰ï¼Œåˆ›å»ºæ–¹å¼æœ‰å‡ ç§</p>
<ul>
<li>
<p>floatå±æ€§ä¸ä¸ºnone</p>
</li>
<li>
<p>positionä¸ºabsoluteæˆ–fixed</p>
</li>
<li>
<p>displayä¸ºinline-block, table-cell, table-caption, flex, inline-flex</p>
</li>
<li>
<p>overflowä¸ä¸ºvisible</p>
</li>
</ul>
<h3>åº”ç”¨åœºæ™¯</h3>
<ul>
<li>
<p>è‡ªé€‚åº”æµ®åŠ¨å¸ƒå±€ä¸­æµ®åŠ¨é‡å ï¼ˆç»™è¯¥è‡ªé€‚åº”å…ƒç´ åˆ›å»ºBFCï¼‰</p>
</li>
<li>
<p>è§£å†³çˆ¶å­å…ƒç´ è¾¹è·é‡å ï¼ˆç»™çˆ¶å…ƒç´ åˆ›å»ºBFCï¼‰</p>
</li>
<li>
<p>æ¸…æ¥šæµ®åŠ¨ï¼ˆç»™æµ®åŠ¨å…ƒç´ çš„çˆ¶å…ƒç´ åˆ›å»ºBFCï¼‰</p>
</li>
</ul>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[HTTPåè®®ç±»]]></title>
        <id>https://ajiu9.cn/posts/http-protocol-class</id>
        <link href="https://ajiu9.cn/posts/http-protocol-class"/>
        <updated>2018-09-25T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<h4>httpç®€ä»‹</h4>
<p>è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHTTPï¼ŒHyperText Transfer Protocol)æ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œåè®®ï¼Œæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯è¯·æ±‚å’Œåº”ç­”çš„æ ‡å‡†ï¼ˆTCPï¼‰ã€‚<br>
é€šå¸¸ï¼Œç”±HTTPå®¢æˆ·ç«¯å‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œå»ºç«‹ä¸€ä¸ªåˆ°æœåŠ¡å™¨æŒ‡å®šç«¯å£ï¼ˆé»˜è®¤æ˜¯80ç«¯å£ï¼‰çš„TCPè¿æ¥ã€‚HTTPæœåŠ¡å™¨åˆ™åœ¨é‚£ä¸ªç«¯å£ç›‘å¬å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚ã€‚ä¸€æ—¦æ”¶åˆ°è¯·æ±‚ï¼ŒæœåŠ¡å™¨ï¼ˆå‘å®¢æˆ·ç«¯ï¼‰å‘å›ä¸€ä¸ªçŠ¶æ€è¡Œï¼Œæ¯”å¦‚â€HTTP/1.1 200 OKâ€ï¼Œå’Œï¼ˆå“åº”çš„ï¼‰æ¶ˆæ¯ï¼Œæ¶ˆæ¯çš„æ¶ˆæ¯ä½“å¯èƒ½æ˜¯è¯·æ±‚çš„æ–‡ä»¶ã€é”™è¯¯æ¶ˆæ¯ã€æˆ–è€…å…¶å®ƒä¸€äº›ä¿¡æ¯ã€‚</p>
<h4>httpåè®®çš„ä¸»è¦ç‰¹ç‚¹</h4>
<ul>
<li>
<p>ç®€å•å¿«é€Ÿ ï¼šHTTPä½¿ç”¨ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ˆUniform Resource Identifiers, URIï¼‰æ¥ä¼ è¾“æ•°æ®å’Œå»ºç«‹è¿æ¥ï¼ŒURLæ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„URIã€‚è®¿é—®æŸä¸ªèµ„æºåªè¦è¾“å…¥URIå³å¯ã€‚</p>
</li>
<li>
<p>çµæ´»ï¼šæ¯ä¸ªhttpåè®®ä¸­ã€‚æœ‰ä¸€ä¸ªå¤´éƒ¨åˆ†ï¼Œæœ‰ä¸ªæ•°æ®ç±»å‹ï¼Œé€šè¿‡ä¸€ä¸ªhttpåè®®çš„å°±å¯ä»¥å®Œæˆä¸åŒæ•°æ®ç±»å‹çš„ä¼ è¾“ã€‚</p>
</li>
<li>
<p>æ— è¿æ¥ï¼šè¿æ¥ä¸€æ¬¡å°±ä¼šæ–­å¼€ï¼Œä¸ä¼šä¿æŒè¿æ¥ã€‚</p>
</li>
<li>
<p>æ— çŠ¶æ€ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é€šä¿¡ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚ï¼Œhttpå»ºç«‹è¿æ¥ã€ä¼ è¾“ç»“æŸåï¼Œè¿æ¥æ–­å¼€ï¼Œä¸‹æ¬¡å®¢æˆ·ç«¯å†è¯·æ±‚æ•°æ®ï¼ŒæœåŠ¡ç«¯æ˜¯æ— æ³•åŒºåˆ†ä¸Šæ¬¡è¿æ¥å’Œè¿™æ¬¡è¿æ¥æ˜¯å¦æ˜¯åŒä¸€èº«ä»½ï¼Œå› ä¸ºæœåŠ¡ç«¯æ²¡æœ‰è®°ä½ä½ çš„çŠ¶æ€ï¼Œä»httpåè®®ä¸Šæ˜¯æ— æ³•åŒºåˆ†ä¸¤æ¬¡è¿æ¥è€…çš„èº«ä»½ã€‚</p>
</li>
</ul>
<h4>httpæŠ¥æ–‡çš„ç»„æˆéƒ¨åˆ†</h4>
<ul>
<li>è¯·æ±‚æŠ¥æ–‡ï¼šè¯·æ±‚è¡Œã€è¯·æ±‚å¤´ã€ç©ºè¡Œã€è¯·æ±‚ä½“</li>
<li>å“åº”æŠ¥æ–‡ï¼šçŠ¶æ€è¡Œã€å“åº”å¤´ã€ç©ºè¡Œã€å“åº”ä½“</li>
</ul>
<p><img src="https://ajiu9.cn/images/20240310214516948RBW.png" alt="å›¾ç‰‡"></p>
<p>è¯·æ±‚æŠ¥æ–‡æ ¼å¼</p>
<p><img src="/images/20240310214534AyGWUp.png" alt="å›¾ç‰‡"></p>
<h5>è¯·æ±‚æŠ¥æ–‡ç¤ºä¾‹</h5>
<pre><code>GET /build/music/ HTTP/1.1
Host: www.ajiu9.com
Connection: keep-alive
Cache-Control: max-age=0
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8
Accept-Encoding: gzip, deflate
Accept-Language: zh-CN,zh;q=0.9
If-None-Match: W/&quot;5ba9f717-234&quot;
If-Modified-Since: Tue, 25 Sep 2018 08:51:35 GMT
</code></pre>
<ul>
<li>
<p>ç¬¬ä¸€éƒ¨åˆ†ï¼šè¯·æ±‚è¡Œï¼Œç”¨æ¥è¯´æ˜è¯·æ±‚ç±»å‹,è¦è®¿é—®çš„èµ„æºä»¥åŠæ‰€ä½¿ç”¨åè®®å’Œç‰ˆæœ¬ã€‚</p>
</li>
<li>
<p>ç¬¬äºŒéƒ¨åˆ†ï¼šæ±‚å¤´éƒ¨ï¼Œç´§æ¥ç€è¯·æ±‚è¡Œï¼ˆå³ç¬¬ä¸€è¡Œï¼‰ä¹‹åçš„éƒ¨åˆ†ï¼Œç”¨æ¥è¯´æ˜æœåŠ¡å™¨è¦ä½¿ç”¨çš„é™„åŠ ä¿¡æ¯ã€‚</p>
</li>
<li>
<p>ç¬¬ä¸‰éƒ¨åˆ†ï¼šç©ºè¡Œï¼Œè¯·æ±‚å¤´éƒ¨åé¢çš„ç©ºè¡Œæ˜¯å¿…é¡»çš„ã€‚</p>
</li>
<li>
<p>ç¬¬å››éƒ¨åˆ†ï¼šè¯·æ±‚æ•°æ®ä¹Ÿå«ä¸»ä½“ï¼Œå¯ä»¥æ·»åŠ ä»»æ„çš„å…¶ä»–æ•°æ®ï¼ˆè¿™ä¸ªä¾‹å­çš„è¯·æ±‚æ•°æ®ä¸ºç©ºï¼‰ã€‚</p>
</li>
</ul>
<h5>å“åº”æŠ¥æ–‡ç¤ºä¾‹</h5>
<pre><code>HTTP/1.1 304 Not Modified
Date: Tue, 25 Sep 2018 08:53:14 GMT
Via: 1.1 varnish
Cache-Control: max-age=600
ETag: W/&quot;5ba9f717-234&quot;
Expires: Tue, 25 Sep 2018 09:03:04 GMT
Age: 10
Connection: keep-alive
X-Served-By: cache-tyo19932-TYO
X-Cache: HIT
X-Cache-Hits: 1
X-Timer: S1537865594.266742,VS0,VE0
Vary: Accept-Encoding
X-Fastly-Request-ID: d33e186dc5ff53c01d8128c32ff8a0f1092c9832
</code></pre>
<ul>
<li>
<p>ç¬¬ä¸€éƒ¨åˆ†ï¼šçŠ¶æ€è¡Œï¼Œç”±HTTPåè®®ç‰ˆæœ¬å·ï¼Œ çŠ¶æ€ç ï¼Œ çŠ¶æ€æ¶ˆæ¯ ä¸‰éƒ¨åˆ†ç»„æˆã€‚</p>
</li>
<li>
<p>ç¬¬äºŒéƒ¨åˆ†ï¼šæ¶ˆæ¯æŠ¥å¤´ï¼Œç”¨æ¥è¯´æ˜å®¢æˆ·ç«¯è¦ä½¿ç”¨çš„ä¸€äº›é™„åŠ ä¿¡æ¯</p>
</li>
<li>
<p>ç¬¬ä¸‰éƒ¨åˆ†ï¼šç©ºè¡Œï¼Œæ¶ˆæ¯æŠ¥å¤´åé¢çš„ç©ºè¡Œæ˜¯å¿…é¡»çš„ã€‚</p>
</li>
<li>
<p>ç¬¬å››éƒ¨åˆ†ï¼šå“åº”æ­£æ–‡ï¼ŒæœåŠ¡å™¨è¿”å›ç»™å®¢æˆ·ç«¯çš„æ–‡æœ¬ä¿¡æ¯ã€‚</p>
</li>
</ul>
<h4>httpè¯·æ±‚æ–¹æ³•</h4>
<ul>
<li>get â€”â€”â€”â€” è·å–èµ„æº</li>
<li>post â€”â€”â€”â€” ä¼ è¾“èµ„æº</li>
<li>put â€”â€”â€”â€” æ›´æ–°èµ„æº</li>
<li>delete â€”â€”â€”â€” åˆ é™¤èµ„æº</li>
<li>head â€”â€”â€”â€” è·å¾—æŠ¥æ–‡é¦–éƒ¨</li>
</ul>
<h4>getå’Œpostçš„åŒºåˆ«</h4>
<ul>
<li>
<p><code>getåœ¨æµè§ˆå™¨å›é€€æ˜¯æ— å®³çš„ï¼Œè€Œpostä¼šå†æ¬¡æäº¤è¯·æ±‚</code></p>
</li>
<li>
<p><code>getè¯·æ±‚ä¼šè¢«æµè§ˆå™¨ä¸»åŠ¨ç¼“å­˜ï¼Œè€Œpostä¸ä¼šï¼Œé™¤éæ‰‹åŠ¨è®¾ç½®</code></p>
</li>
<li>
<p><code>getè¯·æ±‚å‚æ•°ä¼šè¢«å®Œæ•´ä¿ç•™åœ¨æµè§ˆå™¨çš„å†å²è®°å½•é‡Œï¼Œè€Œpostä¸­çš„å‚æ•°ä¸ä¼šè¢«ä¿ç•™</code></p>
</li>
<li>
<p><code>getè¯·æ±‚ä¸­ä¼ é€çš„å‚æ•°æ˜¯æœ‰é•¿åº¦é™åˆ¶çš„ï¼ˆä¸€èˆ¬æ˜¯2kbï¼Œä¸åŒæµè§ˆå™¨ä¸ä¸€æ ·ï¼‰ï¼Œpostæ²¡æœ‰é•¿åº¦é™åˆ¶</code></p>
</li>
<li>
<p><code>getå‚æ•°é€šè¿‡URLä¼ é€’ï¼Œpostæ”¾åœ¨Request bodyä¸­</code></p>
</li>
<li>
<p>getäº§ç”Ÿçš„URLåœ°å€å¯ä»¥è¢«æ”¶è—ï¼Œè€Œgetä¸å¯ä»¥</p>
</li>
<li>
<p>getè¯·æ±‚åªèƒ½è¿›è¡Œurlç¼–ç ï¼Œè€Œpostæ”¯æŒå¤šç§ç¼–ç æ–¹å¼</p>
</li>
<li>
<p>å¯¹å‚æ•°çš„æ•°æ®ç±»å‹ï¼Œgetåªæ¥å—ASCLLå­—ç¬¦ï¼Œè€Œpostæ²¡æœ‰é™åˆ¶</p>
</li>
<li>
<p>getæ¯”postæ›´ä¸å®‰å…¨ï¼Œå› ä¸ºå‚æ•°ç›´æ¥æš´éœ²åœ¨URLä¸Šï¼Œæ‰€ä»¥ä¸èƒ½ç”¨æ¥ä¼ é€’æ•æ„Ÿä¿¡æ¯</p>
</li>
</ul>
<h4>httpçŠ¶æ€ç </h4>
<ul>
<li>
<p>1xxï¼šæŒ‡ç¤ºä¿¡æ¯ â€”â€”è¡¨ç¤ºè¯·æ±‚å·²æ¥æ”¶ï¼Œç»§ç»­å¤„ç†</p>
</li>
<li>
<p>2xxï¼šæˆåŠŸâ€”â€”è¡¨ç¤ºè¯·æ±‚å·²è¢«æˆåŠŸæ¥æ”¶</p>
</li>
<li>
<p>3xxï¼šé‡å®šå‘â€”â€”è¦å®Œæˆè¯·æ±‚å¿…é¡»è¿›è¡Œæ›´è¿›ä¸€æ­¥çš„æ“ä½œ</p>
</li>
<li>
<p>4xxï¼šå®¢æˆ·ç«¯é”™è¯¯â€”â€”è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯æˆ–è¯·æ±‚æ— æ³•å®ç°</p>
</li>
<li>
<p>5xxï¼šæœåŠ¡ç«¯é”™è¯¯â€”â€”æœåŠ¡å™¨æœªèƒ½å®ç°åˆæ³•çš„è¯·æ±‚</p>
</li>
<li>
<p>200 OKï¼šå®¢æˆ·ç«¯è¯·æ±‚æˆåŠŸ</p>
</li>
<li>
<p>206 Partial Content: å®¢æˆ·å‘é€äº†ä¸€ä¸ªå¸¦Rangeå¤´çš„GETè¯·æ±‚ï¼ŒæœåŠ¡å™¨å®Œæˆäº†å®ƒ</p>
</li>
<li>
<p>301 Move Parmanentlyï¼šæ‰€è¯·æ±‚çš„é¡µé¢å·²ç»è½¬ç§»åˆ°æ–°çš„url</p>
</li>
<li>
<p>302 Foundï¼šæ‰€è¯·æ±‚çš„é¡µé¢å·²ç»ä¸´æ—¶è½¬ç§»è‡³æ–°çš„url</p>
</li>
<li>
<p>304 Not Modifiedï¼šå®¢æˆ·ç«¯æœ‰ç¼“å†²çš„æ–‡æ¡£å¹¶å‘å‡ºäº†ä¸€ä¸ªæ¡ä»¶æ€§çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨å‘Šè¯‰å®¢æˆ·ï¼ŒåŸæ¥ç¼“å†²çš„æ–‡æ¡£è¿˜å¯ä»¥ç»§ç»­ä½¿ç”¨</p>
</li>
<li>
<p>400 Bad Requestï¼šå®¢æˆ·ç«¯è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯ï¼Œä¸èƒ½è¢«æœåŠ¡ç«¯æ‰€ç†è§£</p>
</li>
<li>
<p>401 Unauthorizedï¼šè¯·æ±‚æœªç»æˆæƒ,è¿™ä¸ªçŠ¶æ€ä»£ç å¿…é¡»å’ŒWWW-AuthenticateæŠ¥å¤´åŸŸä¸€èµ·ä½¿ç”¨</p>
</li>
<li>
<p>403 Forboiddenï¼šå¯¹è¢«è¯·æ±‚é¡µé¢çš„è®¿é—®è¢«ç¦æ­¢</p>
</li>
<li>
<p>404 NOt Foundï¼šè¯·æ±‚èµ„æºä¸å­˜åœ¨</p>
</li>
<li>
<p>500 Internal Server Errorï¼šæœåŠ¡å™¨å‘é€ä¸å¯é¢„æœŸçš„é”™è¯¯åŸæ¥ç¼“å†²æ–‡æ¡£è¿˜å¯ä»¥ç»§ç»­ä½¿ç”¨</p>
</li>
<li>
<p>503 Server Unavailableï¼šè¯·æ±‚æœªå®Œæˆï¼ŒæœåŠ¡å™¨ä¸´æ—¶è¿‡è½½æˆ–å½“æœºï¼Œä¸€æ®µæ—¶é—´åå¯èƒ½æ¢å¤æ­£å¸¸</p>
</li>
</ul>
<h4>æŒä¹…è¿æ¥</h4>
<p>HTTPåè®®é‡‡ç”¨â€œè¯·æ±‚-åº”ç­”â€æ¨¡å¼ï¼Œå½“ä½¿ç”¨æ™®é€šæ¨¡å¼ï¼Œå³éKeep-Aliveæ¨¡å¼æ—¶ï¼Œæ¯ä¸ªè¯·æ±‚/åº”ç­”å®¢æˆ·å’ŒæœåŠ¡å™¨éƒ½è¦æ–°å»ºä¸€ä¸ªè¿æ¥ï¼Œå®Œæˆ ä¹‹åç«‹å³æ–­å¼€è¿æ¥ï¼ˆHTTPåè®®ä¸ºæ— è¿æ¥çš„åè®®ï¼‰ï¼›<br>
å½“ä½¿ç”¨Keep-Aliveæ¨¡å¼ï¼ˆåˆç§°æŒä¹…è¿æ¥ã€è¿æ¥é‡ç”¨ï¼‰æ—¶ï¼ŒKeep-AliveåŠŸèƒ½ä½¿å®¢æˆ·ç«¯åˆ°æœ åŠ¡å™¨ç«¯çš„è¿æ¥æŒç»­æœ‰æ•ˆï¼Œå½“å‡ºç°å¯¹æœåŠ¡å™¨çš„åç»§è¯·æ±‚æ—¶ï¼ŒKeep-AliveåŠŸèƒ½é¿å…äº†å»ºç«‹æˆ–è€…é‡æ–°å»ºç«‹è¿æ¥ã€‚</p>
<p>http 1.0ä¸­é»˜è®¤æ˜¯å…³é—­çš„ï¼Œéœ€è¦åœ¨httpå¤´åŠ å…¥â€Connection: Keep-Aliveâ€ï¼Œæ‰èƒ½å¯ç”¨Keep-Aliveï¼›<br>
http 1.1ä¸­é»˜è®¤å¯ç”¨Keep-Aliveï¼Œå¦‚æœåŠ å…¥â€Connection: close â€œï¼Œæ‰å…³é—­ã€‚</p>
<p>ç›®å‰å¤§éƒ¨åˆ†æµè§ˆå™¨éƒ½æ˜¯ç”¨http1.1åè®®ï¼Œä¹Ÿå°±æ˜¯è¯´é»˜è®¤éƒ½ä¼šå‘èµ·Keep-Aliveçš„è¿æ¥è¯·æ±‚äº†ï¼Œæ‰€ä»¥æ˜¯å¦èƒ½å®Œæˆä¸€ä¸ªå®Œæ•´çš„Keep-Aliveè¿æ¥å°±çœ‹æœåŠ¡å™¨è®¾ç½®æƒ…å†µã€‚</p>
<h4>ç®¡çº¿åŒ–</h4>
<ul>
<li>
<p>1.åœ¨ä½¿ç”¨æŒä¹…è¿æ¥çš„æƒ…å†µä¸‹ï¼ŒæŸä¸ªè¿æ¥ä¸Šæ¶ˆæ¯çš„ä¼ é€’ç±»ä¼¼äºï¼Œè¯·æ±‚ä¸€æ¬¡å“åº”ä¸€æ¬¡å¹¶ä¸”ä¸æ–­å¼€<br>
è¯·æ±‚1-&gt; å“åº”1-&gt;è¯·æ±‚2-&gt;å“åº”2-&gt;è¯·æ±‚3-&gt;å“åº”3</p>
</li>
<li>
<p>2.ç®¡çº¿åŒ–é€šé“æ˜¯æŒä¹…å»ºç«‹çš„ï¼ŒæŠŠæ‰€æœ‰è¯·æ±‚æ‰“åŒ…ä¸€æ¬¡ä¼ è¾“ï¼Œæ‰€æœ‰å“åº”æ‰“åŒ…ä¸€æ¬¡ä¼ è¾“<br>
è¯·æ±‚1-&gt;è¯·æ±‚2-&gt;è¯·æ±‚3-&gt;å“åº”1-&gt;å“åº”2-&gt;å“åº”3</p>
</li>
</ul>
<h4>ç®¡çº¿åŒ–ç‰¹ç‚¹</h4>
<ul>
<li>
<p>ç®¡çº¿åŒ–æœºåˆ¶é€šè¿‡æŒä¹…è¿æ¥å®Œæˆï¼Œä»…HTTP/1.1æ”¯æŒæ­¤æŠ€æœ¯</p>
</li>
<li>
<p>åªæœ‰getå’Œheadè¯·æ±‚å¯ä»¥è¿›è¡Œç®¡çº¿åŒ–ï¼Œè€Œpoståˆ™æœ‰æ‰€é™åˆ¶</p>
</li>
<li>
<p>åˆæ¬¡åˆ›å»ºè¿æ¥æ˜¯ä¸åº”å¯åŠ¨ç®¡çº¿æœºåˆ¶ï¼Œå› ä¸ºå¯¹æ–¹(æœåŠ¡å™¨)ä¸ä¸€å®šæ”¯æŒHTTP/1.1ç‰ˆæœ¬çš„åè®®</p>
</li>
<li>
<p>ç®¡çº¿åŒ–ä¸ä¼šå½±å“å“åº”åˆ°æ¥çš„é¡ºåºï¼Œå¦‚ä¸Šé¢çš„ä¾‹å­æ‰€ç¤ºï¼Œå“åº”è¿”è¿˜çš„é¡ºåºå¹¶æœªæ”¹å˜</p>
</li>
<li>
<p>HTTP/1.1è¦æ±‚æœåŠ¡å™¨ç«¯æ”¯æŒç®¡çº¿åŒ–ï¼Œä½†å¹¶ä¸è¦æ±‚æœåŠ¡å™¨ç«¯ä¹Ÿå¯¹å“åº”è¿›è¡Œç®¡çº¿åŒ–å¤„ç†ï¼Œåªæ˜¯è¦æ±‚å¯¹äºç®¡çº¿åŒ–çš„è¯·æ±‚ä¸å¤±è´¥å³å¯</p>
</li>
<li>
<p>ç”±äºä¸Šé¢æåˆ°çš„æœåŠ¡å™¨ç«¯é—®é¢˜ï¼Œå¼€å¯ç®¡çº¿åŒ–å¾ˆå¯èƒ½å¹¶ä¸ä¼šå¸¦æ¥å¤§å¹…åº¦çš„æ€§èƒ½æå‡ï¼Œè€Œä¸”å¾ˆå¤šæœåŠ¡å™¨ç«¯å’Œä»£ç†ç¨‹åºå¯¹ç®¡çº¿åŒ–çš„æ”¯æŒå¹¶ä¸å¥½ï¼Œå› æ­¤ç°ä»£æµè§ˆå™¨å¦‚Chromeå’ŒFirefoxé»˜è®¤å¹¶æœªå¼€å¯ç®¡çº¿åŒ–æ”¯æŒ</p>
</li>
</ul>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[é¡µé¢å¸ƒå±€-ä¸‰æ å¸ƒå±€è§£å†³æ–¹æ¡ˆ]]></title>
        <id>https://ajiu9.cn/posts/page-layout-three-column</id>
        <link href="https://ajiu9.cn/posts/page-layout-three-column"/>
        <updated>2018-09-21T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<h3>é—®é¢˜</h3>
<p>å‡è®¾é«˜åº¦å›ºå®šï¼Œè¯·å†™å‡ºä¸‰æ å¸ƒå±€ï¼Œå…¶ä¸­å·¦æ ã€å³æ å®½åº¦æç½®200px,ä¸­é—´è‡ªé€‚åº”ã€‚</p>
<p><img src="https://ajiu9.cn/images/20240314230158hA5bJW.png" alt="å›¾ç‰‡"></p>
<p>è§£å†³æ–¹æ¡ˆ</p>
<p>å†™åœ¨å‰é¢ï¼Œå…±ç”¨æ ·å¼</p>
<pre><code class="language-html">&lt;style&gt;
  * {
    padding: 0;
    margin: 0;
  }
  .layout .content &gt; div {
    min-height: 100px;
    color: #fff;
  }
  .left {
    width: 200px;
    background: #facd89;
  }
  .center {
    background: #f19149;
  }
  .right {
    width: 200px;
    background: #88abda;
  }
&lt;/style&gt;
</code></pre>
<h4>1.floatå¸ƒå±€</h4>
<pre><code class="language-html">&lt;section class=&quot;layout float&quot;&gt;
  &lt;style&gt;
    .layout.float .left {
      float: left;
    }
    .layout.float .right {
      float: right;
    }
  &lt;/style&gt;

  &lt;article class=&quot;content&quot;&gt;
    &lt;div class=&quot;left&quot;&gt;&lt;/div&gt;

    &lt;div class=&quot;right&quot;&gt;&lt;/div&gt;

    &lt;div class=&quot;center&quot;&gt;
      &lt;h1&gt;è¿™æ˜¯æµ®åŠ¨å¸ƒå±€è§£å†³æ–¹æ¡ˆ&lt;/h1&gt;
    &lt;/div&gt;
  &lt;/article&gt;
&lt;/section&gt;
</code></pre>
<ul>
<li>ä¼˜ç‚¹ï¼šå¸ƒå±€ç®€å•ï¼Œå…¼å®¹æ€§å¥½ã€‚</li>
<li>ç¼ºç‚¹ï¼šè„±ç¦»äº†æ–‡æ¡£æµï¼Œéœ€è¦æ¸…é™¤æµ®åŠ¨ã€‚</li>
</ul>
<h4>2.ç»å¯¹å®šä½</h4>
<pre><code class="language-html">&lt;section class=&quot;layout absolute&quot;&gt;
  &lt;style&gt;
    .layout.absolute .content &gt; div {
      position: absolute;
    }
    .layout.absolute .left {
      left: 0;
    }
    .layout.absolute .center {
      left: 200px;
      right: 200px;
    }
    .layout.absolute .right {
      right: 0;
    }
  &lt;/style&gt;
  &lt;article class=&quot;content&quot;&gt;
    &lt;div class=&quot;left&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;right&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;center&quot;&gt;&lt;h1&gt;è¿™æ˜¯ç»å¯¹å®šä½å¸ƒå±€è§£å†³æ–¹æ¡ˆ&lt;/h1&gt;&lt;/div&gt;
  &lt;/article&gt;
  /section&gt;
&lt;/section&gt;
</code></pre>
<ul>
<li>ä¼˜ç‚¹ï¼šå¸ƒå±€ç®€å•ï¼Œå…¼å®¹æ€§å¥½,ä¸å®¹æ˜“å‡ºé—®é¢˜ã€‚</li>
<li>ç¼ºç‚¹ï¼šè„±ç¦»äº†æ–‡æ¡£æµï¼Œä¸‹é¢çš„æ‰€æœ‰å­å…ƒç´ ä¹Ÿä¼šè„±ç¦»æ–‡æ¡£æµï¼Œå¯¼è‡´å¾ˆå¤šæ—¶å€™çš„å¯ä½¿ç”¨æ€§å·®ã€‚</li>
</ul>
<h4>3.flexå¸ƒå±€</h4>
<pre><code class="language-html">&lt;section class=&quot;layout absolute&quot;&gt;
  &lt;style&gt;
    .layout.absolute .content {
      display: flex;
    }
    .layout.absolute .center {
      flex: 1;
    }
  &lt;/style&gt;
  &lt;article class=&quot;content&quot;&gt;
    &lt;div class=&quot;left&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;center&quot;&gt;&lt;h1&gt;è¿™æ˜¯flexå¸ƒå±€è§£å†³æ–¹æ¡ˆ&lt;/h1&gt;&lt;/div&gt;
    &lt;div class=&quot;right&quot;&gt;&lt;/div&gt;
  &lt;/article&gt;
&lt;/section&gt;
</code></pre>
<ul>
<li>ä¼˜ç‚¹ï¼šcss3æ–°å‡ºçš„å±æ€§ï¼Œæ¯”è¾ƒå®Œç¾çš„è§£å†³æ–¹å¼ï¼Œç§»åŠ¨ç«¯å¸ƒå±€å¸¸ç”¨ã€‚</li>
<li>ç¼ºç‚¹ï¼šä¸å…¼å®¹ie8ä»¥ä¸‹çš„æµè§ˆå™¨</li>
</ul>
<h4>4.tableè¡¨æ ¼å¸ƒå±€</h4>
<pre><code class="language-html">&lt;section class=&quot;layout table&quot;&gt;
  &lt;style&gt;
    .layout.table .content {
      width: 100%;
      display: table;
      min-height: 100px;
    }
    .layout.table .content &gt; div {
      display: table-cell;
    }
  &lt;/style&gt;
  &lt;article class=&quot;content&quot;&gt;
    &lt;div class=&quot;left&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;center&quot;&gt;&lt;h1&gt;è¿™æ˜¯tableè¡¨æ ¼è§£å†³æ–¹æ¡ˆ&lt;/h1&gt;&lt;/div&gt;
    &lt;div class=&quot;right&quot;&gt;&lt;/div&gt;
  &lt;/article&gt;
&lt;/section&gt;
</code></pre>
<ul>
<li>
<p>ä¼˜ç‚¹ï¼šå…¼å®¹æ€§å¥½ã€‚</p>
</li>
<li>
<p>ç¼ºç‚¹ï¼šå•å…ƒæ ¼çš„é«˜åº¦éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæœ‰æ—¶å€™è¿™ç§æ•ˆæœå¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œå½“ç„¶è¿™åœ¨é«˜åº¦è‡ªé€‚åº”çš„æƒ…å†µä¸‹æ˜¯ä¸€ç§æ¯”è¾ƒå¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p>
</li>
</ul>
<h4>5.gridæ …æ ¼å¸ƒå±€</h4>
<pre><code class="language-html">&lt;section class=&quot;layout gird&quot;&gt;
  &lt;style&gt;
    .layout.gird .content {
      display: grid;
      grid-template-rows: 100px;
      grid-template-columns: 200px auto 200px;
    }
  &lt;/style&gt;
  &lt;article class=&quot;content&quot;&gt;
    &lt;div class=&quot;left&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;center&quot;&gt;&lt;h1&gt;è¿™æ˜¯gridæ …æ ¼å¸ƒå±€è§£å†³æ–¹æ¡ˆ&lt;/h1&gt;&lt;/div&gt;
    &lt;div class=&quot;right&quot;&gt;&lt;/div&gt;
  &lt;/article&gt;
&lt;/section&gt;
</code></pre>
<ul>
<li>
<p>ä¼˜ç‚¹ï¼šå°†é¡µé¢åˆ†å‰²æˆæ•°ä¸ªä¸»è¦åŒºåŸŸï¼Œæˆ–è€…ç”¨æ¥å®šä¹‰ç»„ä»¶å†…éƒ¨å…ƒç´ é—´å¤§å°ã€ä½ç½®å’Œå›¾å±‚ä¹‹é—´çš„å…³ç³»ã€‚</p>
</li>
<li>
<p>ç¼ºç‚¹ï¼šå…¼å®¹æ€§å·®ã€‚</p>
</li>
</ul>
<h4>6.åŒé£ç¿¼å¸ƒå±€</h4>
<pre><code class="language-html">&lt;section class=&quot;layout fly&quot;&gt;
  &lt;style&gt;
    .layout.fly .main {
      float: left;
      width: 100%;
    }
    .layout.fly .main .center {
      margin: 0 200px;
      min-height: 100px;
    }
    .layout.fly .left {
      float: left;
      margin-left: -100%;
    }
    .layout.fly .right {
      float: right;
      margin-left: -200px;
    }
  &lt;/style&gt;
  &lt;article class=&quot;content&quot;&gt;
    &lt;div class=&quot;main&quot;&gt;
      &lt;div class=&quot;center&quot;&gt;&lt;h1&gt;è¿™æ˜¯åŒé£ç¿¼å¸ƒå±€è§£å†³æ–¹æ¡ˆ&lt;/h1&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;left&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;right&quot;&gt;&lt;/div&gt;
  &lt;/article&gt;
&lt;/section&gt;
</code></pre>
<ul>
<li>ä¼˜ç‚¹ï¼šmainä¸»ä½“éƒ¨åˆ†èƒ½ä¼˜å…ˆåŠ è½½ã€‚</li>
<li>ç¼ºç‚¹ï¼šè„±ç¦»æ–‡æ¡£æµï¼Œå¸ƒå±€å’Œæ ·å¼å¤æ‚ä¸€äº›ã€‚</li>
</ul>
<h4>7.åœ£æ¯å¸ƒå±€</h4>
<pre><code class="language-html">&lt;section class=&quot;layout grail&quot;&gt;
  &lt;style&gt;
    .layout.grail .content {
      margin: 0 200px;
    }
    .layout.grail .center {
      float: left;
      width: 100%;
    }
    .layout.grail .left {
      float: left;
      margin-left: -100%;
      position: relative;
      left: -200px;
    }
    .layout.grail .right {
      float: right;
      margin-left: -200px;
      position: relative;
      right: -200px;
    }
  &lt;/style&gt;
  &lt;article class=&quot;content&quot;&gt;
    &lt;div class=&quot;center&quot;&gt;&lt;h1&gt;è¿™æ˜¯åœ£æ¯å¸ƒå±€è§£å†³æ–¹æ¡ˆ&lt;/h1&gt;&lt;/div&gt;
    &lt;div class=&quot;left&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;right&quot;&gt;&lt;/div&gt;
  &lt;/article&gt;
&lt;/section&gt;
</code></pre>
<ul>
<li>ä¼˜ç‚¹ï¼šmainä¸»ä½“éƒ¨åˆ†èƒ½ä¼˜å…ˆåŠ è½½,å¸ƒå±€ç®€å•ã€‚</li>
<li>ç¼ºç‚¹ï¼šè„±ç¦»æ–‡æ¡£æµï¼Œæ ·å¼å¤æ‚ã€‚</li>
</ul>
<h3>æ¸…é™¤æµ®åŠ¨</h3>
<p>ç¬¬å…­ç§åŒé£ç¿¼å¸ƒå±€å’Œç¬¬ä¸ƒç§åœ£æ¯å¸ƒå±€ï¼Œæ˜¯åœ¨æµ®åŠ¨å¸ƒå±€çš„åŸºç¡€ä¸Šçš„æ¼”å˜ã€‚æµ®åŠ¨å¸ƒå±€éœ€è¦æ¸…é™¤æµ®åŠ¨ï¼Œå®ƒåˆæœ‰å“ªäº›æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•å‘¢ï¼Ÿ</p>
<h3>å…¶ä»–ç±»ä¼¼å¸ƒå±€</h3>
<ul>
<li>ä¸‰æ å¸ƒå±€åŒä¸Šï¼Œé«˜åº¦ä¹Ÿè‡ªé€‚åº”ï¼Ÿ</li>
<li>ä¸­é—´å’Œå³ä¾§å›ºå®šï¼Œå·¦ä¾§è‡ªé€‚åº”ï¼Ÿ</li>
<li>å·¦ä¾§å’Œä¸­é—´å›ºå®šï¼Œ å³ä¾§è‡ªé€‚åº”ï¼Ÿ</li>
<li>ä¸Šä¸‹å›ºå®šï¼Œä¸­é—´è‡ªé€‚åº”ï¼Ÿ</li>
<li>ä¸¤æ å¸ƒå±€ï¼Ÿ</li>
</ul>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[JavaScriptåŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹]]></title>
        <id>https://ajiu9.cn/posts/js-type-about-type-and-Reference</id>
        <link href="https://ajiu9.cn/posts/js-type-about-type-and-Reference"/>
        <updated>2017-12-01T00:00:00.000Z</updated>
        <content type="html"><![CDATA[<p>CMAScriptçš„å˜é‡å¯èƒ½åŒ…å«ä¸¤ç§ä¸åŒæ•°æ®ç±»å‹çš„å€¼ï¼šåŸºæœ¬ç±»å‹å€¼å’Œå¼•ç”¨ç±»å‹å€¼ã€‚åŸºæœ¬ç±»å‹çš„å€¼æ˜¯ç®€å•çš„æ•°æ®æ®µï¼Œå¼•ç”¨ç±»å‹çš„å€¼æ˜¯å¤šä¸ªå€¼æ„æˆçš„å¯¹è±¡ã€‚</p>
<p>æŠŠä¸€ä¸ªå€¼èµ‹å€¼ç»™å˜é‡æ—¶ï¼Œè§£æå™¨é¦–å…ˆç¡®å®šè¿™ä¸ªå€¼æ˜¯åŸºæœ¬ç±»å‹çš„å€¼è¿˜æ˜¯å¼•ç”¨ç±»å‹çš„å€¼ã€‚åŸºæœ¬æ•°æ®ç±»å‹æœ‰5ç§ï¼šUndefinedã€Nullã€Booleanã€Numberã€Stringã€‚è¿™5ç§åŸºæœ¬æ•°æ®ç±»å‹æ˜¯æŒ‰å€¼è®¿é—®çš„ï¼Œå› ä¸ºå¯ä»¥æ“ä½œä¿å­˜åœ¨å˜é‡ä¸­çš„å®é™…å€¼ã€‚å¼•ç”¨ç±»å‹çš„å€¼æ˜¯æŒ‰ç…§å¼•ç”¨è®¿é—®çš„ï¼Œå› ä¸ºjavaScriptä¸å…è®¸è®¿é—®å†…å­˜ä¸­çš„ä½ç½®ï¼Œä¸èƒ½ç›´æ¥æ“ä½œå¯¹è±¡çš„å†…å­˜ç©ºé—´ã€‚ï¼ˆä¸ºå¯¹è±¡æ·»åŠ å±æ€§æ“ä½œçš„æ˜¯å®é™…å¯¹è±¡ï¼‰</p>
<p><strong>åŠ¨æ€å±æ€§</strong></p>
<p>é¦–å…ˆæˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å€¼ï¼š</p>
<p><img src="https://ajiu9.cn/images/202403102118517qwJD2.png" alt="å›¾ç‰‡"></p>
<p>ä»¥ä¸Šä»£ç åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡å¹¶å°†å…¶ä¿å­˜åœ¨personå˜é‡ä¸­ï¼Œç„¶åä¸ºå˜é‡æ·»åŠ äº†ä¸€ä¸ªåä¸ºnameçš„å±æ€§ï¼Œå¹¶å°†å­—ç¬¦ä¸²â€œæ±Ÿæœˆå¤œâ€èµ‹ç»™äº†è¿™ä¸ªå±æ€§ã€‚ä¹‹åé€šè¿‡å‡½æ•°alertï¼ˆï¼‰è®¿é—®äº†è¿™ä¸ªæ–°å±æ€§ã€‚å¦‚æœå¯¹è±¡ä¸è¢«é”€æ¯æˆ–è€…è¿™ä¸ªå±æ€§ä¸è¢«åˆ é™¤ï¼Œåˆ™å„å±æ€§å°†ä¸€ç›´å­˜åœ¨ã€‚</p>
<p>ä½†æ˜¯ï¼Œä¸èƒ½ç»™åŸºæœ¬ç±»å‹çš„å€¼æ·»åŠ å±æ€§ï¼ˆä¸ä¼šå¯¼è‡´é”™è¯¯ï¼‰</p>
<p><img src="/images/20240310211733UOVZPP.png" alt="å›¾ç‰‡"></p>
<p><strong>èµ‹å€¼å˜é‡å€¼</strong></p>
<p>é™¤äº†ä¿å­˜æ–¹å¼ä¸ä¸€æ ·ï¼Œå˜é‡å¤åˆ¶ä¹Ÿæœ‰åŒºåˆ«ã€‚</p>
<p>åŸºæœ¬ç±»å‹å¤åˆ¶åçš„ä¿©ä¸ªå˜é‡å½¼æ­¤ç‹¬ç«‹ï¼Œæ­¤åï¼Œè¿™ä¿©ä¸ªå˜é‡å¯ä»¥å‚ä¸ä»»ä½•æ“ä½œè€Œä¸ä¼šäº’ç›¸å½±å“ã€‚</p>
<p>å¼•ç”¨ç±»å‹çš„å˜é‡å¤åˆ¶å…¶å®æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œè€Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘å­˜å‚¨åœ¨å †ä¸­çš„ä¸€ä¸ªå¯¹è±¡ã€‚å¤åˆ¶ç»“æŸåï¼Œä¿©ä¸ªå¯¹è±¡å®é™…ä¸Šå¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ã€‚æ”¹å˜å…¶ä¸­ä¸€ä¸ªå˜é‡ï¼Œå°±ä¼šå½±å“å¦ä¸€ä¸ªå˜é‡ã€‚</p>
<p><img src="/images/20240310211540NpJlfl.png" alt="å›¾ç‰‡"></p>
<p><strong>ä¼ é€’å‚æ•°</strong></p>
<p>å‡½æ•°çš„å‚æ•°æ˜¯æŒ‰å€¼ä¼ é€’çš„ï¼ŒåŸºæœ¬ç±»å‹çš„ä¼ é€’ä¼šæŠŠå€¼å¤åˆ¶ç»™argumentså¯¹è±¡ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼ˆå±€éƒ¨å˜é‡ï¼‰ï¼Œå¼•ç”¨ç±»å‹çš„ä¼ é€’ä¼šæŠŠè¿™ä¸ªå€¼åœ¨å†…å­˜ä¸­çš„åœ°å€å¤åˆ¶ç»™ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œæ‰€ä»¥ä¼šååº”åœ¨å‡½æ•°çš„å¤–éƒ¨ã€‚</p>
]]></content>
        <author>
            <name>Ajiu9</name>
            <email>615944323@qq.com</email>
            <uri>https://ajiu9.cn</uri>
        </author>
    </entry>
</feed>